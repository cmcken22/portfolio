var dee=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import*as Ic from"https://cdn.skypack.dev/three@0.124.0";import{RGBELoader as pee}from"https://cdn.skypack.dev/three@0.124.0/examples/jsm/loaders/RGBELoader.js";import{OBJLoader as mee}from"https://cdn.skypack.dev/three@0.134.0/examples/jsm/loaders/OBJLoader.js";var ROe=dee((Me,to)=>{function gee(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ca(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KG(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var JG={exports:{}},V4={},YG={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=Symbol.for("react.element"),Aee=Symbol.for("react.portal"),vee=Symbol.for("react.fragment"),yee=Symbol.for("react.strict_mode"),xee=Symbol.for("react.profiler"),_ee=Symbol.for("react.provider"),Eee=Symbol.for("react.context"),Cee=Symbol.for("react.forward_ref"),See=Symbol.for("react.suspense"),wee=Symbol.for("react.memo"),bee=Symbol.for("react.lazy"),rP=Symbol.iterator;function Iee(t){return t===null||typeof t!="object"?null:(t=rP&&t[rP]||t["@@iterator"],typeof t=="function"?t:null)}var XG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qG=Object.assign,ZG={};function Em(t,e,n){this.props=t,this.context=e,this.refs=ZG,this.updater=n||XG}Em.prototype.isReactComponent={};Em.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Em.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ez(){}ez.prototype=Em.prototype;function pb(t,e,n){this.props=t,this.context=e,this.refs=ZG,this.updater=n||XG}var mb=pb.prototype=new ez;mb.constructor=pb;qG(mb,Em.prototype);mb.isPureReactComponent=!0;var iP=Array.isArray,tz=Object.prototype.hasOwnProperty,gb={current:null},nz={key:!0,ref:!0,__self:!0,__source:!0};function rz(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tz.call(e,r)&&!nz.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:b2,type:t,key:s,ref:o,props:i,_owner:gb.current}}function Tee(t,e){return{$$typeof:b2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ab(t){return typeof t=="object"&&t!==null&&t.$$typeof===b2}function Mee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sP=/\/+/g;function Y_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mee(""+t.key):e.toString(36)}function v5(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case b2:case Aee:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Y_(o,0):r,iP(i)?(n="",t!=null&&(n=t.replace(sP,"$&/")+"/"),v5(i,e,n,"",function(c){return c})):i!=null&&(Ab(i)&&(i=Tee(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iP(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Y_(s,a);o+=v5(s,e,n,l,i)}else if(l=Iee(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Y_(s,a++),o+=v5(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bv(t,e,n){if(t==null)return t;var r=[],i=0;return v5(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Bee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ms={current:null},y5={transition:null},Ree={ReactCurrentDispatcher:ms,ReactCurrentBatchConfig:y5,ReactCurrentOwner:gb};on.Children={map:Bv,forEach:function(t,e,n){Bv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bv(t,function(){e++}),e},toArray:function(t){return Bv(t,function(e){return e})||[]},only:function(t){if(!Ab(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};on.Component=Em;on.Fragment=vee;on.Profiler=xee;on.PureComponent=pb;on.StrictMode=yee;on.Suspense=See;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ree;on.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qG({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tz.call(e,l)&&!nz.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:b2,type:t.type,key:i,ref:s,props:r,_owner:o}};on.createContext=function(t){return t={$$typeof:Eee,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_ee,_context:t},t.Consumer=t};on.createElement=rz;on.createFactory=function(t){var e=rz.bind(null,t);return e.type=t,e};on.createRef=function(){return{current:null}};on.forwardRef=function(t){return{$$typeof:Cee,render:t}};on.isValidElement=Ab;on.lazy=function(t){return{$$typeof:bee,_payload:{_status:-1,_result:t},_init:Bee}};on.memo=function(t,e){return{$$typeof:wee,type:t,compare:e===void 0?null:e}};on.startTransition=function(t){var e=y5.transition;y5.transition={};try{t()}finally{y5.transition=e}};on.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};on.useCallback=function(t,e){return ms.current.useCallback(t,e)};on.useContext=function(t){return ms.current.useContext(t)};on.useDebugValue=function(){};on.useDeferredValue=function(t){return ms.current.useDeferredValue(t)};on.useEffect=function(t,e){return ms.current.useEffect(t,e)};on.useId=function(){return ms.current.useId()};on.useImperativeHandle=function(t,e,n){return ms.current.useImperativeHandle(t,e,n)};on.useInsertionEffect=function(t,e){return ms.current.useInsertionEffect(t,e)};on.useLayoutEffect=function(t,e){return ms.current.useLayoutEffect(t,e)};on.useMemo=function(t,e){return ms.current.useMemo(t,e)};on.useReducer=function(t,e,n){return ms.current.useReducer(t,e,n)};on.useRef=function(t){return ms.current.useRef(t)};on.useState=function(t){return ms.current.useState(t)};on.useSyncExternalStore=function(t,e,n){return ms.current.useSyncExternalStore(t,e,n)};on.useTransition=function(){return ms.current.useTransition()};on.version="18.2.0";YG.exports=on;var D=YG.exports;const se=ca(D),o6=gee({__proto__:null,default:se},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pee=D,Dee=Symbol.for("react.element"),Lee=Symbol.for("react.fragment"),kee=Object.prototype.hasOwnProperty,Fee=Pee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oee={key:!0,ref:!0,__self:!0,__source:!0};function iz(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kee.call(e,r)&&!Oee.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Dee,type:t,key:s,ref:o,props:i,_owner:Fee.current}}V4.Fragment=Lee;V4.jsx=iz;V4.jsxs=iz;JG.exports=V4;var vb=JG.exports;const $4=vb.Fragment,Ke=vb.jsx,Kr=vb.jsxs,Nee=Object.freeze(Object.defineProperty({__proto__:null,Fragment:$4,jsx:Ke,jsxs:Kr},Symbol.toStringTag,{value:"Module"}));var zE={},sz={exports:{}},go={},oz={exports:{}},az={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,V){var Q=N.length;N.push(V);e:for(;0<Q;){var Z=Q-1>>>1,re=N[Z];if(0<i(re,V))N[Z]=V,N[Q]=re,Q=Z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var V=N[0],Q=N.pop();if(Q!==V){N[0]=Q;e:for(var Z=0,re=N.length,ge=re>>>1;Z<ge;){var Ee=2*(Z+1)-1,be=N[Ee],oe=Ee+1,Fe=N[oe];if(0>i(be,Q))oe<re&&0>i(Fe,be)?(N[Z]=Fe,N[oe]=Q,Z=oe):(N[Z]=be,N[Ee]=Q,Z=Ee);else if(oe<re&&0>i(Fe,Q))N[Z]=Fe,N[oe]=Q,Z=oe;else break e}}return V}function i(N,V){var Q=N.sortIndex-V.sortIndex;return Q!==0?Q:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,d=!1,m=!1,A=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=N)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function E(N){if(A=!1,x(N),!m)if(n(l)!==null)m=!0,j(b);else{var V=n(c);V!==null&&J(E,V.startTime-N)}}function b(N,V){m=!1,A&&(A=!1,y(C),C=-1),d=!0;var Q=h;try{for(x(V),f=n(l);f!==null&&(!(f.expirationTime>V)||N&&!R());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var re=Z(f.expirationTime<=V);V=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),x(V)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var Ee=n(c);Ee!==null&&J(E,Ee.startTime-V),ge=!1}return ge}finally{f=null,h=Q,d=!1}}var w=!1,T=null,C=-1,I=5,B=-1;function R(){return!(t.unstable_now()-B<I)}function L(){if(T!==null){var N=t.unstable_now();B=N;var V=!0;try{V=T(!0,N)}finally{V?z():(w=!1,T=null)}}else w=!1}var z;if(typeof _=="function")z=function(){_(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=L,z=function(){G.postMessage(null)}}else z=function(){v(L,0)};function j(N){T=N,w||(w=!0,z())}function J(N,V){C=v(function(){N(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,j(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var Q=h;h=V;try{return N()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Q=h;h=N;try{return V()}finally{h=Q}},t.unstable_scheduleCallback=function(N,V,Q){var Z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,N={id:u++,callback:V,priorityLevel:N,startTime:Q,expirationTime:re,sortIndex:-1},Q>Z?(N.sortIndex=Q,e(c,N),n(l)===null&&N===n(c)&&(A?(y(C),C=-1):A=!0,J(E,Q-Z))):(N.sortIndex=re,e(l,N),m||d||(m=!0,j(b))),N},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(N){var V=h;return function(){var Q=h;h=V;try{return N.apply(this,arguments)}finally{h=Q}}}})(az);oz.exports=az;var Uee=oz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lz=D,lo=Uee;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cz=new Set,i1={};function Td(t,e){N0(t,e),N0(t+"Capture",e)}function N0(t,e){for(i1[t]=e,t=0;t<e.length;t++)cz.add(e[t])}var Fc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QE=Object.prototype.hasOwnProperty,Gee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oP={},aP={};function zee(t){return QE.call(aP,t)?!0:QE.call(oP,t)?!1:Gee.test(t)?aP[t]=!0:(oP[t]=!0,!1)}function Qee(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hee(t,e,n,r){if(e===null||typeof e>"u"||Qee(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gs(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pi[t]=new gs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pi[e]=new gs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pi[t]=new gs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pi[t]=new gs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pi[t]=new gs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pi[t]=new gs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pi[t]=new gs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pi[t]=new gs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pi[t]=new gs(t,5,!1,t.toLowerCase(),null,!1,!1)});var yb=/[\-:]([a-z])/g;function xb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yb,xb);Pi[e]=new gs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yb,xb);Pi[e]=new gs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yb,xb);Pi[e]=new gs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pi[t]=new gs(t,1,!1,t.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pi[t]=new gs(t,1,!1,t.toLowerCase(),null,!0,!0)});function _b(t,e,n,r){var i=Pi.hasOwnProperty(e)?Pi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hee(e,n,i,r)&&(n=null),r||i===null?zee(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xc=lz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rv=Symbol.for("react.element"),Hp=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),Eb=Symbol.for("react.strict_mode"),HE=Symbol.for("react.profiler"),uz=Symbol.for("react.provider"),fz=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),VE=Symbol.for("react.suspense"),$E=Symbol.for("react.suspense_list"),Sb=Symbol.for("react.memo"),Ou=Symbol.for("react.lazy"),hz=Symbol.for("react.offscreen"),lP=Symbol.iterator;function Ag(t){return t===null||typeof t!="object"?null:(t=lP&&t[lP]||t["@@iterator"],typeof t=="function"?t:null)}var xr=Object.assign,X_;function s3(t){if(X_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);X_=e&&e[1]||""}return`
`+X_+t}var q_=!1;function Z_(t,e){if(!t||q_)return"";q_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{q_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?s3(t):""}function Vee(t){switch(t.tag){case 5:return s3(t.type);case 16:return s3("Lazy");case 13:return s3("Suspense");case 19:return s3("SuspenseList");case 0:case 2:case 15:return t=Z_(t.type,!1),t;case 11:return t=Z_(t.type.render,!1),t;case 1:return t=Z_(t.type,!0),t;default:return""}}function WE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vp:return"Fragment";case Hp:return"Portal";case HE:return"Profiler";case Eb:return"StrictMode";case VE:return"Suspense";case $E:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fz:return(t.displayName||"Context")+".Consumer";case uz:return(t._context.displayName||"Context")+".Provider";case Cb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sb:return e=t.displayName||null,e!==null?e:WE(t.type)||"Memo";case Ou:e=t._payload,t=t._init;try{return WE(t(e))}catch{}}return null}function $ee(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WE(e);case 8:return e===Eb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wee(t){var e=dz(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pv(t){t._valueTracker||(t._valueTracker=Wee(t))}function pz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dz(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function a6(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jE(t,e){var n=e.checked;return xr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mz(t,e){e=e.checked,e!=null&&_b(t,"checked",e,!1)}function KE(t,e){mz(t,e);var n=xf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?JE(t,e.type,n):e.hasOwnProperty("defaultValue")&&JE(t,e.type,xf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function JE(t,e,n){(e!=="number"||a6(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var o3=Array.isArray;function p0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function YE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return xr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Qe(92));if(o3(n)){if(1<n.length)throw Error(Qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xf(n)}}function gz(t,e){var n=xf(e.value),r=xf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Az(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Az(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dv,vz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dv=Dv||document.createElement("div"),Dv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function s1(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _3={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jee=["Webkit","ms","Moz","O"];Object.keys(_3).forEach(function(t){jee.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_3[e]=_3[t]})});function yz(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_3.hasOwnProperty(t)&&_3[t]?(""+e).trim():e+"px"}function xz(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yz(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Kee=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qE(t,e){if(e){if(Kee[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function ZE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eC=null;function wb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tC=null,m0=null,g0=null;function dP(t){if(t=M2(t)){if(typeof tC!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=Y4(e),tC(t.stateNode,t.type,e))}}function _z(t){m0?g0?g0.push(t):g0=[t]:m0=t}function Ez(){if(m0){var t=m0,e=g0;if(g0=m0=null,dP(t),e)for(t=0;t<e.length;t++)dP(e[t])}}function Cz(t,e){return t(e)}function Sz(){}var e9=!1;function wz(t,e,n){if(e9)return t(e,n);e9=!0;try{return Cz(t,e,n)}finally{e9=!1,(m0!==null||g0!==null)&&(Sz(),Ez())}}function o1(t,e){var n=t.stateNode;if(n===null)return null;var r=Y4(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Qe(231,e,typeof n));return n}var nC=!1;if(Fc)try{var vg={};Object.defineProperty(vg,"passive",{get:function(){nC=!0}}),window.addEventListener("test",vg,vg),window.removeEventListener("test",vg,vg)}catch{nC=!1}function Jee(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var E3=!1,l6=null,c6=!1,rC=null,Yee={onError:function(t){E3=!0,l6=t}};function Xee(t,e,n,r,i,s,o,a,l){E3=!1,l6=null,Jee.apply(Yee,arguments)}function qee(t,e,n,r,i,s,o,a,l){if(Xee.apply(this,arguments),E3){if(E3){var c=l6;E3=!1,l6=null}else throw Error(Qe(198));c6||(c6=!0,rC=c)}}function Md(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bz(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pP(t){if(Md(t)!==t)throw Error(Qe(188))}function Zee(t){var e=t.alternate;if(!e){if(e=Md(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pP(i),t;if(s===r)return pP(i),e;s=s.sibling}throw Error(Qe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Qe(189))}}if(n.alternate!==r)throw Error(Qe(190))}if(n.tag!==3)throw Error(Qe(188));return n.stateNode.current===n?t:e}function Iz(t){return t=Zee(t),t!==null?Tz(t):null}function Tz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tz(t);if(e!==null)return e;t=t.sibling}return null}var Mz=lo.unstable_scheduleCallback,mP=lo.unstable_cancelCallback,ete=lo.unstable_shouldYield,tte=lo.unstable_requestPaint,Or=lo.unstable_now,nte=lo.unstable_getCurrentPriorityLevel,bb=lo.unstable_ImmediatePriority,Bz=lo.unstable_UserBlockingPriority,u6=lo.unstable_NormalPriority,rte=lo.unstable_LowPriority,Rz=lo.unstable_IdlePriority,W4=null,Sl=null;function ite(t){if(Sl&&typeof Sl.onCommitFiberRoot=="function")try{Sl.onCommitFiberRoot(W4,t,void 0,(t.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:ate,ste=Math.log,ote=Math.LN2;function ate(t){return t>>>=0,t===0?32:31-(ste(t)/ote|0)|0}var Lv=64,kv=4194304;function a3(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function f6(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=a3(a):(s&=o,s!==0&&(r=a3(s)))}else o=n&~i,o!==0?r=a3(o):s!==0&&(r=a3(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ta(e),i=1<<n,r|=t[n],e&=~i;return r}function lte(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cte(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ta(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lte(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function iC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pz(){var t=Lv;return Lv<<=1,!(Lv&4194240)&&(Lv=64),t}function t9(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function I2(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ta(e),t[e]=n}function ute(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ta(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ib(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ta(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Bn=0;function Dz(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lz,Tb,kz,Fz,Oz,sC=!1,Fv=[],rf=null,sf=null,of=null,a1=new Map,l1=new Map,zu=[],fte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gP(t,e){switch(t){case"focusin":case"focusout":rf=null;break;case"dragenter":case"dragleave":sf=null;break;case"mouseover":case"mouseout":of=null;break;case"pointerover":case"pointerout":a1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":l1.delete(e.pointerId)}}function yg(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=M2(e),e!==null&&Tb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hte(t,e,n,r,i){switch(e){case"focusin":return rf=yg(rf,t,e,n,r,i),!0;case"dragenter":return sf=yg(sf,t,e,n,r,i),!0;case"mouseover":return of=yg(of,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return a1.set(s,yg(a1.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,l1.set(s,yg(l1.get(s)||null,t,e,n,r,i)),!0}return!1}function Nz(t){var e=Fh(t.target);if(e!==null){var n=Md(e);if(n!==null){if(e=n.tag,e===13){if(e=bz(n),e!==null){t.blockedOn=e,Oz(t.priority,function(){kz(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x5(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eC=r,n.target.dispatchEvent(r),eC=null}else return e=M2(n),e!==null&&Tb(e),t.blockedOn=n,!1;e.shift()}return!0}function AP(t,e,n){x5(t)&&n.delete(e)}function dte(){sC=!1,rf!==null&&x5(rf)&&(rf=null),sf!==null&&x5(sf)&&(sf=null),of!==null&&x5(of)&&(of=null),a1.forEach(AP),l1.forEach(AP)}function xg(t,e){t.blockedOn===e&&(t.blockedOn=null,sC||(sC=!0,lo.unstable_scheduleCallback(lo.unstable_NormalPriority,dte)))}function c1(t){function e(i){return xg(i,t)}if(0<Fv.length){xg(Fv[0],t);for(var n=1;n<Fv.length;n++){var r=Fv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rf!==null&&xg(rf,t),sf!==null&&xg(sf,t),of!==null&&xg(of,t),a1.forEach(e),l1.forEach(e),n=0;n<zu.length;n++)r=zu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zu.length&&(n=zu[0],n.blockedOn===null);)Nz(n),n.blockedOn===null&&zu.shift()}var A0=Xc.ReactCurrentBatchConfig,h6=!0;function pte(t,e,n,r){var i=Bn,s=A0.transition;A0.transition=null;try{Bn=1,Mb(t,e,n,r)}finally{Bn=i,A0.transition=s}}function mte(t,e,n,r){var i=Bn,s=A0.transition;A0.transition=null;try{Bn=4,Mb(t,e,n,r)}finally{Bn=i,A0.transition=s}}function Mb(t,e,n,r){if(h6){var i=oC(t,e,n,r);if(i===null)f9(t,e,r,d6,n),gP(t,r);else if(hte(i,t,e,n,r))r.stopPropagation();else if(gP(t,r),e&4&&-1<fte.indexOf(t)){for(;i!==null;){var s=M2(i);if(s!==null&&Lz(s),s=oC(t,e,n,r),s===null&&f9(t,e,r,d6,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else f9(t,e,r,null,n)}}var d6=null;function oC(t,e,n,r){if(d6=null,t=wb(r),t=Fh(t),t!==null)if(e=Md(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bz(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return d6=t,null}function Uz(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nte()){case bb:return 1;case Bz:return 4;case u6:case rte:return 16;case Rz:return 536870912;default:return 16}default:return 16}}var Hu=null,Bb=null,_5=null;function Gz(){if(_5)return _5;var t,e=Bb,n=e.length,r,i="value"in Hu?Hu.value:Hu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _5=i.slice(t,1<r?1-r:void 0)}function E5(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ov(){return!0}function vP(){return!1}function Ao(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ov:vP,this.isPropagationStopped=vP,this}return xr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ov)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ov)},persist:function(){},isPersistent:Ov}),e}var Cm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rb=Ao(Cm),T2=xr({},Cm,{view:0,detail:0}),gte=Ao(T2),n9,r9,_g,j4=xr({},T2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_g&&(_g&&t.type==="mousemove"?(n9=t.screenX-_g.screenX,r9=t.screenY-_g.screenY):r9=n9=0,_g=t),n9)},movementY:function(t){return"movementY"in t?t.movementY:r9}}),yP=Ao(j4),Ate=xr({},j4,{dataTransfer:0}),vte=Ao(Ate),yte=xr({},T2,{relatedTarget:0}),i9=Ao(yte),xte=xr({},Cm,{animationName:0,elapsedTime:0,pseudoElement:0}),_te=Ao(xte),Ete=xr({},Cm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cte=Ao(Ete),Ste=xr({},Cm,{data:0}),xP=Ao(Ste),wte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ite={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ite[t])?!!e[t]:!1}function Pb(){return Tte}var Mte=xr({},T2,{key:function(t){if(t.key){var e=wte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=E5(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bte[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pb,charCode:function(t){return t.type==="keypress"?E5(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?E5(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bte=Ao(Mte),Rte=xr({},j4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_P=Ao(Rte),Pte=xr({},T2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pb}),Dte=Ao(Pte),Lte=xr({},Cm,{propertyName:0,elapsedTime:0,pseudoElement:0}),kte=Ao(Lte),Fte=xr({},j4,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ote=Ao(Fte),Nte=[9,13,27,32],Db=Fc&&"CompositionEvent"in window,C3=null;Fc&&"documentMode"in document&&(C3=document.documentMode);var Ute=Fc&&"TextEvent"in window&&!C3,zz=Fc&&(!Db||C3&&8<C3&&11>=C3),EP=String.fromCharCode(32),CP=!1;function Qz(t,e){switch(t){case"keyup":return Nte.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $p=!1;function Gte(t,e){switch(t){case"compositionend":return Hz(e);case"keypress":return e.which!==32?null:(CP=!0,EP);case"textInput":return t=e.data,t===EP&&CP?null:t;default:return null}}function zte(t,e){if($p)return t==="compositionend"||!Db&&Qz(t,e)?(t=Gz(),_5=Bb=Hu=null,$p=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zz&&e.locale!=="ko"?null:e.data;default:return null}}var Qte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qte[t.type]:e==="textarea"}function Vz(t,e,n,r){_z(r),e=p6(e,"onChange"),0<e.length&&(n=new Rb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var S3=null,u1=null;function Hte(t){tQ(t,0)}function K4(t){var e=Kp(t);if(pz(e))return t}function Vte(t,e){if(t==="change")return e}var $z=!1;if(Fc){var s9;if(Fc){var o9="oninput"in document;if(!o9){var wP=document.createElement("div");wP.setAttribute("oninput","return;"),o9=typeof wP.oninput=="function"}s9=o9}else s9=!1;$z=s9&&(!document.documentMode||9<document.documentMode)}function bP(){S3&&(S3.detachEvent("onpropertychange",Wz),u1=S3=null)}function Wz(t){if(t.propertyName==="value"&&K4(u1)){var e=[];Vz(e,u1,t,wb(t)),wz(Hte,e)}}function $te(t,e,n){t==="focusin"?(bP(),S3=e,u1=n,S3.attachEvent("onpropertychange",Wz)):t==="focusout"&&bP()}function Wte(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return K4(u1)}function jte(t,e){if(t==="click")return K4(e)}function Kte(t,e){if(t==="input"||t==="change")return K4(e)}function Jte(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Da=typeof Object.is=="function"?Object.is:Jte;function f1(t,e){if(Da(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!QE.call(e,i)||!Da(t[i],e[i]))return!1}return!0}function IP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TP(t,e){var n=IP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IP(n)}}function jz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kz(){for(var t=window,e=a6();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=a6(t.document)}return e}function Lb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yte(t){var e=Kz(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jz(n.ownerDocument.documentElement,n)){if(r!==null&&Lb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TP(n,s);var o=TP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xte=Fc&&"documentMode"in document&&11>=document.documentMode,Wp=null,aC=null,w3=null,lC=!1;function MP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lC||Wp==null||Wp!==a6(r)||(r=Wp,"selectionStart"in r&&Lb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),w3&&f1(w3,r)||(w3=r,r=p6(aC,"onSelect"),0<r.length&&(e=new Rb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wp)))}function Nv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jp={animationend:Nv("Animation","AnimationEnd"),animationiteration:Nv("Animation","AnimationIteration"),animationstart:Nv("Animation","AnimationStart"),transitionend:Nv("Transition","TransitionEnd")},a9={},Jz={};Fc&&(Jz=document.createElement("div").style,"AnimationEvent"in window||(delete jp.animationend.animation,delete jp.animationiteration.animation,delete jp.animationstart.animation),"TransitionEvent"in window||delete jp.transitionend.transition);function J4(t){if(a9[t])return a9[t];if(!jp[t])return t;var e=jp[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jz)return a9[t]=e[n];return t}var Yz=J4("animationend"),Xz=J4("animationiteration"),qz=J4("animationstart"),Zz=J4("transitionend"),eQ=new Map,BP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zf(t,e){eQ.set(t,e),Td(e,[t])}for(var l9=0;l9<BP.length;l9++){var c9=BP[l9],qte=c9.toLowerCase(),Zte=c9[0].toUpperCase()+c9.slice(1);zf(qte,"on"+Zte)}zf(Yz,"onAnimationEnd");zf(Xz,"onAnimationIteration");zf(qz,"onAnimationStart");zf("dblclick","onDoubleClick");zf("focusin","onFocus");zf("focusout","onBlur");zf(Zz,"onTransitionEnd");N0("onMouseEnter",["mouseout","mouseover"]);N0("onMouseLeave",["mouseout","mouseover"]);N0("onPointerEnter",["pointerout","pointerover"]);N0("onPointerLeave",["pointerout","pointerover"]);Td("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Td("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Td("onBeforeInput",["compositionend","keypress","textInput","paste"]);Td("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Td("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Td("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l3="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ene=new Set("cancel close invalid load scroll toggle".split(" ").concat(l3));function RP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qee(r,e,void 0,t),t.currentTarget=null}function tQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;RP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;RP(i,a,c),s=l}}}if(c6)throw t=rC,c6=!1,rC=null,t}function jn(t,e){var n=e[dC];n===void 0&&(n=e[dC]=new Set);var r=t+"__bubble";n.has(r)||(nQ(e,t,2,!1),n.add(r))}function u9(t,e,n){var r=0;e&&(r|=4),nQ(n,t,r,e)}var Uv="_reactListening"+Math.random().toString(36).slice(2);function h1(t){if(!t[Uv]){t[Uv]=!0,cz.forEach(function(n){n!=="selectionchange"&&(ene.has(n)||u9(n,!1,t),u9(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uv]||(e[Uv]=!0,u9("selectionchange",!1,e))}}function nQ(t,e,n,r){switch(Uz(e)){case 1:var i=pte;break;case 4:i=mte;break;default:i=Mb}n=i.bind(null,e,n,t),i=void 0,!nC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function f9(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}wz(function(){var c=s,u=wb(n),f=[];e:{var h=eQ.get(t);if(h!==void 0){var d=Rb,m=t;switch(t){case"keypress":if(E5(n)===0)break e;case"keydown":case"keyup":d=Bte;break;case"focusin":m="focus",d=i9;break;case"focusout":m="blur",d=i9;break;case"beforeblur":case"afterblur":d=i9;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=yP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=vte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Dte;break;case Yz:case Xz:case qz:d=_te;break;case Zz:d=kte;break;case"scroll":d=gte;break;case"wheel":d=Ote;break;case"copy":case"cut":case"paste":d=Cte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=_P}var A=(e&4)!==0,v=!A&&t==="scroll",y=A?h!==null?h+"Capture":null:h;A=[];for(var _=c,x;_!==null;){x=_;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,y!==null&&(E=o1(_,y),E!=null&&A.push(d1(_,E,x)))),v)break;_=_.return}0<A.length&&(h=new d(h,m,null,n,u),f.push({event:h,listeners:A}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==eC&&(m=n.relatedTarget||n.fromElement)&&(Fh(m)||m[Oc]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=c,m=m?Fh(m):null,m!==null&&(v=Md(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(A=yP,E="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(A=_P,E="onPointerLeave",y="onPointerEnter",_="pointer"),v=d==null?h:Kp(d),x=m==null?h:Kp(m),h=new A(E,_+"leave",d,n,u),h.target=v,h.relatedTarget=x,E=null,Fh(u)===c&&(A=new A(y,_+"enter",m,n,u),A.target=x,A.relatedTarget=v,E=A),v=E,d&&m)t:{for(A=d,y=m,_=0,x=A;x;x=op(x))_++;for(x=0,E=y;E;E=op(E))x++;for(;0<_-x;)A=op(A),_--;for(;0<x-_;)y=op(y),x--;for(;_--;){if(A===y||y!==null&&A===y.alternate)break t;A=op(A),y=op(y)}A=null}else A=null;d!==null&&PP(f,h,d,A,!1),m!==null&&v!==null&&PP(f,v,m,A,!0)}}e:{if(h=c?Kp(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var b=Vte;else if(SP(h))if($z)b=Kte;else{b=Wte;var w=$te}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=jte);if(b&&(b=b(t,c))){Vz(f,b,n,u);break e}w&&w(t,h,c),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&JE(h,"number",h.value)}switch(w=c?Kp(c):window,t){case"focusin":(SP(w)||w.contentEditable==="true")&&(Wp=w,aC=c,w3=null);break;case"focusout":w3=aC=Wp=null;break;case"mousedown":lC=!0;break;case"contextmenu":case"mouseup":case"dragend":lC=!1,MP(f,n,u);break;case"selectionchange":if(Xte)break;case"keydown":case"keyup":MP(f,n,u)}var T;if(Db)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else $p?Qz(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(zz&&n.locale!=="ko"&&($p||C!=="onCompositionStart"?C==="onCompositionEnd"&&$p&&(T=Gz()):(Hu=u,Bb="value"in Hu?Hu.value:Hu.textContent,$p=!0)),w=p6(c,C),0<w.length&&(C=new xP(C,t,null,n,u),f.push({event:C,listeners:w}),T?C.data=T:(T=Hz(n),T!==null&&(C.data=T)))),(T=Ute?Gte(t,n):zte(t,n))&&(c=p6(c,"onBeforeInput"),0<c.length&&(u=new xP("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}tQ(f,e)})}function d1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function p6(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=o1(t,n),s!=null&&r.unshift(d1(t,s,i)),s=o1(t,e),s!=null&&r.push(d1(t,s,i))),t=t.return}return r}function op(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PP(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=o1(n,s),l!=null&&o.unshift(d1(n,l,a))):i||(l=o1(n,s),l!=null&&o.push(d1(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tne=/\r\n?/g,nne=/\u0000|\uFFFD/g;function DP(t){return(typeof t=="string"?t:""+t).replace(tne,`
`).replace(nne,"")}function Gv(t,e,n){if(e=DP(e),DP(t)!==e&&n)throw Error(Qe(425))}function m6(){}var cC=null,uC=null;function fC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hC=typeof setTimeout=="function"?setTimeout:void 0,rne=typeof clearTimeout=="function"?clearTimeout:void 0,LP=typeof Promise=="function"?Promise:void 0,ine=typeof queueMicrotask=="function"?queueMicrotask:typeof LP<"u"?function(t){return LP.resolve(null).then(t).catch(sne)}:hC;function sne(t){setTimeout(function(){throw t})}function h9(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),c1(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);c1(e)}function af(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sm=Math.random().toString(36).slice(2),Al="__reactFiber$"+Sm,p1="__reactProps$"+Sm,Oc="__reactContainer$"+Sm,dC="__reactEvents$"+Sm,one="__reactListeners$"+Sm,ane="__reactHandles$"+Sm;function Fh(t){var e=t[Al];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oc]||n[Al]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kP(t);t!==null;){if(n=t[Al])return n;t=kP(t)}return e}t=n,n=t.parentNode}return null}function M2(t){return t=t[Al]||t[Oc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function Y4(t){return t[p1]||null}var pC=[],Jp=-1;function Qf(t){return{current:t}}function Xn(t){0>Jp||(t.current=pC[Jp],pC[Jp]=null,Jp--)}function Hn(t,e){Jp++,pC[Jp]=t.current,t.current=e}var _f={},Ji=Qf(_f),Ms=Qf(!1),ud=_f;function U0(t,e){var n=t.type.contextTypes;if(!n)return _f;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bs(t){return t=t.childContextTypes,t!=null}function g6(){Xn(Ms),Xn(Ji)}function FP(t,e,n){if(Ji.current!==_f)throw Error(Qe(168));Hn(Ji,e),Hn(Ms,n)}function rQ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Qe(108,$ee(t)||"Unknown",i));return xr({},n,r)}function A6(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_f,ud=Ji.current,Hn(Ji,t),Hn(Ms,Ms.current),!0}function OP(t,e,n){var r=t.stateNode;if(!r)throw Error(Qe(169));n?(t=rQ(t,e,ud),r.__reactInternalMemoizedMergedChildContext=t,Xn(Ms),Xn(Ji),Hn(Ji,t)):Xn(Ms),Hn(Ms,n)}var mc=null,X4=!1,d9=!1;function iQ(t){mc===null?mc=[t]:mc.push(t)}function lne(t){X4=!0,iQ(t)}function Hf(){if(!d9&&mc!==null){d9=!0;var t=0,e=Bn;try{var n=mc;for(Bn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mc=null,X4=!1}catch(i){throw mc!==null&&(mc=mc.slice(t+1)),Mz(bb,Hf),i}finally{Bn=e,d9=!1}}return null}var Yp=[],Xp=0,v6=null,y6=0,Oo=[],No=0,fd=null,_c=1,Ec="";function Sh(t,e){Yp[Xp++]=y6,Yp[Xp++]=v6,v6=t,y6=e}function sQ(t,e,n){Oo[No++]=_c,Oo[No++]=Ec,Oo[No++]=fd,fd=t;var r=_c;t=Ec;var i=32-Ta(r)-1;r&=~(1<<i),n+=1;var s=32-Ta(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_c=1<<32-Ta(e)+i|n<<i|r,Ec=s+t}else _c=1<<s|n<<i|r,Ec=t}function kb(t){t.return!==null&&(Sh(t,1),sQ(t,1,0))}function Fb(t){for(;t===v6;)v6=Yp[--Xp],Yp[Xp]=null,y6=Yp[--Xp],Yp[Xp]=null;for(;t===fd;)fd=Oo[--No],Oo[No]=null,Ec=Oo[--No],Oo[No]=null,_c=Oo[--No],Oo[No]=null}var no=null,eo=null,nr=!1,Ca=null;function oQ(t,e){var n=Vo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,no=t,eo=af(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,no=t,eo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fd!==null?{id:_c,overflow:Ec}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,no=t,eo=null,!0):!1;default:return!1}}function mC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gC(t){if(nr){var e=eo;if(e){var n=e;if(!NP(t,e)){if(mC(t))throw Error(Qe(418));e=af(n.nextSibling);var r=no;e&&NP(t,e)?oQ(r,n):(t.flags=t.flags&-4097|2,nr=!1,no=t)}}else{if(mC(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,nr=!1,no=t}}}function UP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;no=t}function zv(t){if(t!==no)return!1;if(!nr)return UP(t),nr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fC(t.type,t.memoizedProps)),e&&(e=eo)){if(mC(t))throw aQ(),Error(Qe(418));for(;e;)oQ(t,e),e=af(e.nextSibling)}if(UP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){eo=af(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}eo=null}}else eo=no?af(t.stateNode.nextSibling):null;return!0}function aQ(){for(var t=eo;t;)t=af(t.nextSibling)}function G0(){eo=no=null,nr=!1}function Ob(t){Ca===null?Ca=[t]:Ca.push(t)}var cne=Xc.ReactCurrentBatchConfig;function _a(t,e){if(t&&t.defaultProps){e=xr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var x6=Qf(null),_6=null,qp=null,Nb=null;function Ub(){Nb=qp=_6=null}function Gb(t){var e=x6.current;Xn(x6),t._currentValue=e}function AC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function v0(t,e){_6=t,Nb=qp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bs=!0),t.firstContext=null)}function ea(t){var e=t._currentValue;if(Nb!==t)if(t={context:t,memoizedValue:e,next:null},qp===null){if(_6===null)throw Error(Qe(308));qp=t,_6.dependencies={lanes:0,firstContext:t}}else qp=qp.next=t;return e}var Oh=null;function zb(t){Oh===null?Oh=[t]:Oh.push(t)}function lQ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nc(t,r)}function Nc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nu=!1;function Qb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nc(t,n)}return i=r.interleaved,i===null?(e.next=e,zb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nc(t,n)}function C5(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ib(t,n)}}function GP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function E6(t,e,n,r){var i=t.updateQueue;Nu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,d=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,A=a;switch(h=e,d=n,A.tag){case 1:if(m=A.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=A.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=xr({},f,h);break e;case 2:Nu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dd|=o,t.lanes=o,t.memoizedState=f}}function zP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qe(191,i));i.call(r)}}}var uQ=new lz.Component().refs;function vC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var q4={isMounted:function(t){return(t=t._reactInternals)?Md(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ds(),i=uf(t),s=Tc(r,i);s.payload=e,n!=null&&(s.callback=n),e=lf(t,s,i),e!==null&&(Ma(e,t,i,r),C5(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ds(),i=uf(t),s=Tc(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=lf(t,s,i),e!==null&&(Ma(e,t,i,r),C5(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ds(),r=uf(t),i=Tc(n,r);i.tag=2,e!=null&&(i.callback=e),e=lf(t,i,r),e!==null&&(Ma(e,t,r,n),C5(e,t,r))}};function QP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!f1(n,r)||!f1(i,s):!0}function fQ(t,e,n){var r=!1,i=_f,s=e.contextType;return typeof s=="object"&&s!==null?s=ea(s):(i=Bs(e)?ud:Ji.current,r=e.contextTypes,s=(r=r!=null)?U0(t,i):_f),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q4,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function HP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&q4.enqueueReplaceState(e,e.state,null)}function yC(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=uQ,Qb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ea(s):(s=Bs(e)?ud:Ji.current,i.context=U0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vC(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&q4.enqueueReplaceState(i,i.state,null),E6(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eg(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qe(309));var r=n.stateNode}if(!r)throw Error(Qe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===uQ&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Qe(284));if(!n._owner)throw Error(Qe(290,t))}return t}function Qv(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VP(t){var e=t._init;return e(t._payload)}function hQ(t){function e(y,_){if(t){var x=y.deletions;x===null?(y.deletions=[_],y.flags|=16):x.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=ff(y,_),y.index=0,y.sibling=null,y}function s(y,_,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<_?(y.flags|=2,_):x):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,x,E){return _===null||_.tag!==6?(_=x9(x,y.mode,E),_.return=y,_):(_=i(_,x),_.return=y,_)}function l(y,_,x,E){var b=x.type;return b===Vp?u(y,_,x.props.children,E,x.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ou&&VP(b)===_.type)?(E=i(_,x.props),E.ref=Eg(y,_,x),E.return=y,E):(E=M5(x.type,x.key,x.props,null,y.mode,E),E.ref=Eg(y,_,x),E.return=y,E)}function c(y,_,x,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=_9(x,y.mode,E),_.return=y,_):(_=i(_,x.children||[]),_.return=y,_)}function u(y,_,x,E,b){return _===null||_.tag!==7?(_=qh(x,y.mode,E,b),_.return=y,_):(_=i(_,x),_.return=y,_)}function f(y,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=x9(""+_,y.mode,x),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rv:return x=M5(_.type,_.key,_.props,null,y.mode,x),x.ref=Eg(y,null,_),x.return=y,x;case Hp:return _=_9(_,y.mode,x),_.return=y,_;case Ou:var E=_._init;return f(y,E(_._payload),x)}if(o3(_)||Ag(_))return _=qh(_,y.mode,x,null),_.return=y,_;Qv(y,_)}return null}function h(y,_,x,E){var b=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:a(y,_,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rv:return x.key===b?l(y,_,x,E):null;case Hp:return x.key===b?c(y,_,x,E):null;case Ou:return b=x._init,h(y,_,b(x._payload),E)}if(o3(x)||Ag(x))return b!==null?null:u(y,_,x,E,null);Qv(y,x)}return null}function d(y,_,x,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(x)||null,a(_,y,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Rv:return y=y.get(E.key===null?x:E.key)||null,l(_,y,E,b);case Hp:return y=y.get(E.key===null?x:E.key)||null,c(_,y,E,b);case Ou:var w=E._init;return d(y,_,x,w(E._payload),b)}if(o3(E)||Ag(E))return y=y.get(x)||null,u(_,y,E,b,null);Qv(_,E)}return null}function m(y,_,x,E){for(var b=null,w=null,T=_,C=_=0,I=null;T!==null&&C<x.length;C++){T.index>C?(I=T,T=null):I=T.sibling;var B=h(y,T,x[C],E);if(B===null){T===null&&(T=I);break}t&&T&&B.alternate===null&&e(y,T),_=s(B,_,C),w===null?b=B:w.sibling=B,w=B,T=I}if(C===x.length)return n(y,T),nr&&Sh(y,C),b;if(T===null){for(;C<x.length;C++)T=f(y,x[C],E),T!==null&&(_=s(T,_,C),w===null?b=T:w.sibling=T,w=T);return nr&&Sh(y,C),b}for(T=r(y,T);C<x.length;C++)I=d(T,y,C,x[C],E),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?C:I.key),_=s(I,_,C),w===null?b=I:w.sibling=I,w=I);return t&&T.forEach(function(R){return e(y,R)}),nr&&Sh(y,C),b}function A(y,_,x,E){var b=Ag(x);if(typeof b!="function")throw Error(Qe(150));if(x=b.call(x),x==null)throw Error(Qe(151));for(var w=b=null,T=_,C=_=0,I=null,B=x.next();T!==null&&!B.done;C++,B=x.next()){T.index>C?(I=T,T=null):I=T.sibling;var R=h(y,T,B.value,E);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(y,T),_=s(R,_,C),w===null?b=R:w.sibling=R,w=R,T=I}if(B.done)return n(y,T),nr&&Sh(y,C),b;if(T===null){for(;!B.done;C++,B=x.next())B=f(y,B.value,E),B!==null&&(_=s(B,_,C),w===null?b=B:w.sibling=B,w=B);return nr&&Sh(y,C),b}for(T=r(y,T);!B.done;C++,B=x.next())B=d(T,y,C,B.value,E),B!==null&&(t&&B.alternate!==null&&T.delete(B.key===null?C:B.key),_=s(B,_,C),w===null?b=B:w.sibling=B,w=B);return t&&T.forEach(function(L){return e(y,L)}),nr&&Sh(y,C),b}function v(y,_,x,E){if(typeof x=="object"&&x!==null&&x.type===Vp&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rv:e:{for(var b=x.key,w=_;w!==null;){if(w.key===b){if(b=x.type,b===Vp){if(w.tag===7){n(y,w.sibling),_=i(w,x.props.children),_.return=y,y=_;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ou&&VP(b)===w.type){n(y,w.sibling),_=i(w,x.props),_.ref=Eg(y,w,x),_.return=y,y=_;break e}n(y,w);break}else e(y,w);w=w.sibling}x.type===Vp?(_=qh(x.props.children,y.mode,E,x.key),_.return=y,y=_):(E=M5(x.type,x.key,x.props,null,y.mode,E),E.ref=Eg(y,_,x),E.return=y,y=E)}return o(y);case Hp:e:{for(w=x.key;_!==null;){if(_.key===w)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(y,_.sibling),_=i(_,x.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=_9(x,y.mode,E),_.return=y,y=_}return o(y);case Ou:return w=x._init,v(y,_,w(x._payload),E)}if(o3(x))return m(y,_,x,E);if(Ag(x))return A(y,_,x,E);Qv(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,x),_.return=y,y=_):(n(y,_),_=x9(x,y.mode,E),_.return=y,y=_),o(y)):n(y,_)}return v}var z0=hQ(!0),dQ=hQ(!1),B2={},wl=Qf(B2),m1=Qf(B2),g1=Qf(B2);function Nh(t){if(t===B2)throw Error(Qe(174));return t}function Hb(t,e){switch(Hn(g1,e),Hn(m1,t),Hn(wl,B2),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:XE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=XE(e,t)}Xn(wl),Hn(wl,e)}function Q0(){Xn(wl),Xn(m1),Xn(g1)}function pQ(t){Nh(g1.current);var e=Nh(wl.current),n=XE(e,t.type);e!==n&&(Hn(m1,t),Hn(wl,n))}function Vb(t){m1.current===t&&(Xn(wl),Xn(m1))}var ur=Qf(0);function C6(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p9=[];function $b(){for(var t=0;t<p9.length;t++)p9[t]._workInProgressVersionPrimary=null;p9.length=0}var S5=Xc.ReactCurrentDispatcher,m9=Xc.ReactCurrentBatchConfig,hd=0,vr=null,ni=null,mi=null,S6=!1,b3=!1,A1=0,une=0;function Ui(){throw Error(Qe(321))}function Wb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Da(t[n],e[n]))return!1;return!0}function jb(t,e,n,r,i,s){if(hd=s,vr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,S5.current=t===null||t.memoizedState===null?pne:mne,t=n(r,i),b3){s=0;do{if(b3=!1,A1=0,25<=s)throw Error(Qe(301));s+=1,mi=ni=null,e.updateQueue=null,S5.current=gne,t=n(r,i)}while(b3)}if(S5.current=w6,e=ni!==null&&ni.next!==null,hd=0,mi=ni=vr=null,S6=!1,e)throw Error(Qe(300));return t}function Kb(){var t=A1!==0;return A1=0,t}function ul(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?vr.memoizedState=mi=t:mi=mi.next=t,mi}function ta(){if(ni===null){var t=vr.alternate;t=t!==null?t.memoizedState:null}else t=ni.next;var e=mi===null?vr.memoizedState:mi.next;if(e!==null)mi=e,ni=t;else{if(t===null)throw Error(Qe(310));ni=t,t={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},mi===null?vr.memoizedState=mi=t:mi=mi.next=t}return mi}function v1(t,e){return typeof e=="function"?e(t):e}function g9(t){var e=ta(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=ni,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((hd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,vr.lanes|=u,dd|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Da(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,vr.lanes|=s,dd|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function A9(t){var e=ta(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Da(s,e.memoizedState)||(bs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mQ(){}function gQ(t,e){var n=vr,r=ta(),i=e(),s=!Da(r.memoizedState,i);if(s&&(r.memoizedState=i,bs=!0),r=r.queue,Jb(yQ.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,y1(9,vQ.bind(null,n,r,i,e),void 0,null),xi===null)throw Error(Qe(349));hd&30||AQ(n,e,i)}return i}function AQ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vr.updateQueue,e===null?(e={lastEffect:null,stores:null},vr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vQ(t,e,n,r){e.value=n,e.getSnapshot=r,xQ(e)&&_Q(t)}function yQ(t,e,n){return n(function(){xQ(e)&&_Q(t)})}function xQ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Da(t,n)}catch{return!0}}function _Q(t){var e=Nc(t,1);e!==null&&Ma(e,t,1,-1)}function $P(t){var e=ul();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:v1,lastRenderedState:t},e.queue=t,t=t.dispatch=dne.bind(null,vr,t),[e.memoizedState,t]}function y1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vr.updateQueue,e===null?(e={lastEffect:null,stores:null},vr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function EQ(){return ta().memoizedState}function w5(t,e,n,r){var i=ul();vr.flags|=t,i.memoizedState=y1(1|e,n,void 0,r===void 0?null:r)}function Z4(t,e,n,r){var i=ta();r=r===void 0?null:r;var s=void 0;if(ni!==null){var o=ni.memoizedState;if(s=o.destroy,r!==null&&Wb(r,o.deps)){i.memoizedState=y1(e,n,s,r);return}}vr.flags|=t,i.memoizedState=y1(1|e,n,s,r)}function WP(t,e){return w5(8390656,8,t,e)}function Jb(t,e){return Z4(2048,8,t,e)}function CQ(t,e){return Z4(4,2,t,e)}function SQ(t,e){return Z4(4,4,t,e)}function wQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bQ(t,e,n){return n=n!=null?n.concat([t]):null,Z4(4,4,wQ.bind(null,e,t),n)}function Yb(){}function IQ(t,e){var n=ta();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TQ(t,e){var n=ta();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MQ(t,e,n){return hd&21?(Da(n,e)||(n=Pz(),vr.lanes|=n,dd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n)}function fne(t,e){var n=Bn;Bn=n!==0&&4>n?n:4,t(!0);var r=m9.transition;m9.transition={};try{t(!1),e()}finally{Bn=n,m9.transition=r}}function BQ(){return ta().memoizedState}function hne(t,e,n){var r=uf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RQ(t))PQ(e,n);else if(n=lQ(t,e,n,r),n!==null){var i=ds();Ma(n,t,r,i),DQ(n,e,r)}}function dne(t,e,n){var r=uf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RQ(t))PQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Da(a,o)){var l=e.interleaved;l===null?(i.next=i,zb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lQ(t,e,i,r),n!==null&&(i=ds(),Ma(n,t,r,i),DQ(n,e,r))}}function RQ(t){var e=t.alternate;return t===vr||e!==null&&e===vr}function PQ(t,e){b3=S6=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DQ(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ib(t,n)}}var w6={readContext:ea,useCallback:Ui,useContext:Ui,useEffect:Ui,useImperativeHandle:Ui,useInsertionEffect:Ui,useLayoutEffect:Ui,useMemo:Ui,useReducer:Ui,useRef:Ui,useState:Ui,useDebugValue:Ui,useDeferredValue:Ui,useTransition:Ui,useMutableSource:Ui,useSyncExternalStore:Ui,useId:Ui,unstable_isNewReconciler:!1},pne={readContext:ea,useCallback:function(t,e){return ul().memoizedState=[t,e===void 0?null:e],t},useContext:ea,useEffect:WP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,w5(4194308,4,wQ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return w5(4194308,4,t,e)},useInsertionEffect:function(t,e){return w5(4,2,t,e)},useMemo:function(t,e){var n=ul();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ul();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hne.bind(null,vr,t),[r.memoizedState,t]},useRef:function(t){var e=ul();return t={current:t},e.memoizedState=t},useState:$P,useDebugValue:Yb,useDeferredValue:function(t){return ul().memoizedState=t},useTransition:function(){var t=$P(!1),e=t[0];return t=fne.bind(null,t[1]),ul().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vr,i=ul();if(nr){if(n===void 0)throw Error(Qe(407));n=n()}else{if(n=e(),xi===null)throw Error(Qe(349));hd&30||AQ(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,WP(yQ.bind(null,r,s,t),[t]),r.flags|=2048,y1(9,vQ.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ul(),e=xi.identifierPrefix;if(nr){var n=Ec,r=_c;n=(r&~(1<<32-Ta(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=A1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=une++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mne={readContext:ea,useCallback:IQ,useContext:ea,useEffect:Jb,useImperativeHandle:bQ,useInsertionEffect:CQ,useLayoutEffect:SQ,useMemo:TQ,useReducer:g9,useRef:EQ,useState:function(){return g9(v1)},useDebugValue:Yb,useDeferredValue:function(t){var e=ta();return MQ(e,ni.memoizedState,t)},useTransition:function(){var t=g9(v1)[0],e=ta().memoizedState;return[t,e]},useMutableSource:mQ,useSyncExternalStore:gQ,useId:BQ,unstable_isNewReconciler:!1},gne={readContext:ea,useCallback:IQ,useContext:ea,useEffect:Jb,useImperativeHandle:bQ,useInsertionEffect:CQ,useLayoutEffect:SQ,useMemo:TQ,useReducer:A9,useRef:EQ,useState:function(){return A9(v1)},useDebugValue:Yb,useDeferredValue:function(t){var e=ta();return ni===null?e.memoizedState=t:MQ(e,ni.memoizedState,t)},useTransition:function(){var t=A9(v1)[0],e=ta().memoizedState;return[t,e]},useMutableSource:mQ,useSyncExternalStore:gQ,useId:BQ,unstable_isNewReconciler:!1};function H0(t,e){try{var n="",r=e;do n+=Vee(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function v9(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ane=typeof WeakMap=="function"?WeakMap:Map;function LQ(t,e,n){n=Tc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){I6||(I6=!0,BC=r),xC(t,e)},n}function kQ(t,e,n){n=Tc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xC(t,e),typeof r!="function"&&(cf===null?cf=new Set([this]):cf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ane;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Rne.bind(null,t,e,n),e.then(t,t))}function KP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tc(-1,1),e.tag=2,lf(n,e,1))),n.lanes|=1),t)}var vne=Xc.ReactCurrentOwner,bs=!1;function cs(t,e,n,r){e.child=t===null?dQ(e,null,n,r):z0(e,t.child,n,r)}function YP(t,e,n,r,i){n=n.render;var s=e.ref;return v0(e,i),r=jb(t,e,n,r,s,i),n=Kb(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uc(t,e,i)):(nr&&n&&kb(e),e.flags|=1,cs(t,e,r,i),e.child)}function XP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!iI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FQ(t,e,s,r,i)):(t=M5(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:f1,n(o,r)&&t.ref===e.ref)return Uc(t,e,i)}return e.flags|=1,t=ff(s,r),t.ref=e.ref,t.return=e,e.child=t}function FQ(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(f1(s,r)&&t.ref===e.ref)if(bs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bs=!0);else return e.lanes=t.lanes,Uc(t,e,i)}return _C(t,e,n,r,i)}function OQ(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(e0,Ks),Ks|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Hn(e0,Ks),Ks|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Hn(e0,Ks),Ks|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Hn(e0,Ks),Ks|=r;return cs(t,e,i,n),e.child}function NQ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _C(t,e,n,r,i){var s=Bs(n)?ud:Ji.current;return s=U0(e,s),v0(e,i),n=jb(t,e,n,r,s,i),r=Kb(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uc(t,e,i)):(nr&&r&&kb(e),e.flags|=1,cs(t,e,n,i),e.child)}function qP(t,e,n,r,i){if(Bs(n)){var s=!0;A6(e)}else s=!1;if(v0(e,i),e.stateNode===null)b5(t,e),fQ(e,n,r),yC(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ea(c):(c=Bs(n)?ud:Ji.current,c=U0(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&HP(e,o,r,c),Nu=!1;var h=e.memoizedState;o.state=h,E6(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Ms.current||Nu?(typeof u=="function"&&(vC(e,n,u,r),l=e.memoizedState),(a=Nu||QP(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cQ(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_a(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ea(l):(l=Bs(n)?ud:Ji.current,l=U0(e,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&HP(e,o,r,l),Nu=!1,h=e.memoizedState,o.state=h,E6(e,r,o,i);var m=e.memoizedState;a!==f||h!==m||Ms.current||Nu?(typeof d=="function"&&(vC(e,n,d,r),m=e.memoizedState),(c=Nu||QP(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return EC(t,e,n,r,s,i)}function EC(t,e,n,r,i,s){NQ(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&OP(e,n,!1),Uc(t,e,s);r=e.stateNode,vne.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=z0(e,t.child,null,s),e.child=z0(e,null,a,s)):cs(t,e,a,s),e.memoizedState=r.state,i&&OP(e,n,!0),e.child}function UQ(t){var e=t.stateNode;e.pendingContext?FP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FP(t,e.context,!1),Hb(t,e.containerInfo)}function ZP(t,e,n,r,i){return G0(),Ob(i),e.flags|=256,cs(t,e,n,r),e.child}var CC={dehydrated:null,treeContext:null,retryLane:0};function SC(t){return{baseLanes:t,cachePool:null,transitions:null}}function GQ(t,e,n){var r=e.pendingProps,i=ur.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Hn(ur,i&1),t===null)return gC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=n8(o,r,0,null),t=qh(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=SC(n),e.memoizedState=CC,t):Xb(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yne(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ff(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ff(a,s):(s=qh(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?SC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=CC,r}return s=t.child,t=s.sibling,r=ff(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xb(t,e){return e=n8({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hv(t,e,n,r){return r!==null&&Ob(r),z0(e,t.child,null,n),t=Xb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yne(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=v9(Error(Qe(422))),Hv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=n8({mode:"visible",children:r.children},i,0,null),s=qh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&z0(e,t.child,null,o),e.child.memoizedState=SC(o),e.memoizedState=CC,s);if(!(e.mode&1))return Hv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Qe(419)),r=v9(s,r,void 0),Hv(t,e,o,r)}if(a=(o&t.childLanes)!==0,bs||a){if(r=xi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nc(t,i),Ma(r,t,i,-1))}return rI(),r=v9(Error(Qe(421))),Hv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Pne.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,eo=af(i.nextSibling),no=e,nr=!0,Ca=null,t!==null&&(Oo[No++]=_c,Oo[No++]=Ec,Oo[No++]=fd,_c=t.id,Ec=t.overflow,fd=e),e=Xb(e,r.children),e.flags|=4096,e)}function eD(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),AC(t.return,e,n)}function y9(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zQ(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(cs(t,e,r.children,n),r=ur.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eD(t,n,e);else if(t.tag===19)eD(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Hn(ur,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&C6(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),y9(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&C6(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}y9(e,!0,n,null,s);break;case"together":y9(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function b5(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Uc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,n=ff(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ff(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xne(t,e,n){switch(e.tag){case 3:UQ(e),G0();break;case 5:pQ(e);break;case 1:Bs(e.type)&&A6(e);break;case 4:Hb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Hn(x6,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Hn(ur,ur.current&1),e.flags|=128,null):n&e.child.childLanes?GQ(t,e,n):(Hn(ur,ur.current&1),t=Uc(t,e,n),t!==null?t.sibling:null);Hn(ur,ur.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zQ(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hn(ur,ur.current),r)break;return null;case 22:case 23:return e.lanes=0,OQ(t,e,n)}return Uc(t,e,n)}var QQ,wC,HQ,VQ;QQ=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wC=function(){};HQ=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Nh(wl.current);var s=null;switch(n){case"input":i=jE(t,i),r=jE(t,r),s=[];break;case"select":i=xr({},i,{value:void 0}),r=xr({},r,{value:void 0}),s=[];break;case"textarea":i=YE(t,i),r=YE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=m6)}qE(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(i1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(i1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&jn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};VQ=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cg(t,e){if(!nr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _ne(t,e,n){var r=e.pendingProps;switch(Fb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(e),null;case 1:return Bs(e.type)&&g6(),Gi(e),null;case 3:return r=e.stateNode,Q0(),Xn(Ms),Xn(Ji),$b(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ca!==null&&(DC(Ca),Ca=null))),wC(t,e),Gi(e),null;case 5:Vb(e);var i=Nh(g1.current);if(n=e.type,t!==null&&e.stateNode!=null)HQ(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Qe(166));return Gi(e),null}if(t=Nh(wl.current),zv(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Al]=e,r[p1]=s,t=(e.mode&1)!==0,n){case"dialog":jn("cancel",r),jn("close",r);break;case"iframe":case"object":case"embed":jn("load",r);break;case"video":case"audio":for(i=0;i<l3.length;i++)jn(l3[i],r);break;case"source":jn("error",r);break;case"img":case"image":case"link":jn("error",r),jn("load",r);break;case"details":jn("toggle",r);break;case"input":cP(r,s),jn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jn("invalid",r);break;case"textarea":fP(r,s),jn("invalid",r)}qE(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Gv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Gv(r.textContent,a,t),i=["children",""+a]):i1.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jn("scroll",r)}switch(n){case"input":Pv(r),uP(r,s,!0);break;case"textarea":Pv(r),hP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=m6)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Az(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Al]=e,t[p1]=r,QQ(t,e,!1,!1),e.stateNode=t;e:{switch(o=ZE(n,r),n){case"dialog":jn("cancel",t),jn("close",t),i=r;break;case"iframe":case"object":case"embed":jn("load",t),i=r;break;case"video":case"audio":for(i=0;i<l3.length;i++)jn(l3[i],t);i=r;break;case"source":jn("error",t),i=r;break;case"img":case"image":case"link":jn("error",t),jn("load",t),i=r;break;case"details":jn("toggle",t),i=r;break;case"input":cP(t,r),i=jE(t,r),jn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xr({},r,{value:void 0}),jn("invalid",t);break;case"textarea":fP(t,r),i=YE(t,r),jn("invalid",t);break;default:i=r}qE(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?xz(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vz(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&s1(t,l):typeof l=="number"&&s1(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(i1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jn("scroll",t):l!=null&&_b(t,s,l,o))}switch(n){case"input":Pv(t),uP(t,r,!1);break;case"textarea":Pv(t),hP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xf(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?p0(t,!!r.multiple,s,!1):r.defaultValue!=null&&p0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=m6)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gi(e),null;case 6:if(t&&e.stateNode!=null)VQ(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Qe(166));if(n=Nh(g1.current),Nh(wl.current),zv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Al]=e,(s=r.nodeValue!==n)&&(t=no,t!==null))switch(t.tag){case 3:Gv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gv(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Al]=e,e.stateNode=r}return Gi(e),null;case 13:if(Xn(ur),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nr&&eo!==null&&e.mode&1&&!(e.flags&128))aQ(),G0(),e.flags|=98560,s=!1;else if(s=zv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qe(317));s[Al]=e}else G0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gi(e),s=!1}else Ca!==null&&(DC(Ca),Ca=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ur.current&1?si===0&&(si=3):rI())),e.updateQueue!==null&&(e.flags|=4),Gi(e),null);case 4:return Q0(),wC(t,e),t===null&&h1(e.stateNode.containerInfo),Gi(e),null;case 10:return Gb(e.type._context),Gi(e),null;case 17:return Bs(e.type)&&g6(),Gi(e),null;case 19:if(Xn(ur),s=e.memoizedState,s===null)return Gi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Cg(s,!1);else{if(si!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=C6(t),o!==null){for(e.flags|=128,Cg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Hn(ur,ur.current&1|2),e.child}t=t.sibling}s.tail!==null&&Or()>V0&&(e.flags|=128,r=!0,Cg(s,!1),e.lanes=4194304)}else{if(!r)if(t=C6(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nr)return Gi(e),null}else 2*Or()-s.renderingStartTime>V0&&n!==1073741824&&(e.flags|=128,r=!0,Cg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Or(),e.sibling=null,n=ur.current,Hn(ur,r?n&1|2:n&1),e):(Gi(e),null);case 22:case 23:return nI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ks&1073741824&&(Gi(e),e.subtreeFlags&6&&(e.flags|=8192)):Gi(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function Ene(t,e){switch(Fb(e),e.tag){case 1:return Bs(e.type)&&g6(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Q0(),Xn(Ms),Xn(Ji),$b(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vb(e),null;case 13:if(Xn(ur),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));G0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xn(ur),null;case 4:return Q0(),null;case 10:return Gb(e.type._context),null;case 22:case 23:return nI(),null;case 24:return null;default:return null}}var Vv=!1,Hi=!1,Cne=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Zp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){br(t,e,r)}else n.current=null}function bC(t,e,n){try{n()}catch(r){br(t,e,r)}}var tD=!1;function Sne(t,e){if(cC=h6,t=Kz(),Lb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uC={focusedElem:t,selectionRange:n},h6=!1,ct=e;ct!==null;)if(e=ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ct=t;else for(;ct!==null;){e=ct;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var A=m.memoizedProps,v=m.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?A:_a(e.type,A),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(E){br(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}return m=tD,tD=!1,m}function I3(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bC(e,n,s)}i=i.next}while(i!==r)}}function e8(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function IC(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $Q(t){var e=t.alternate;e!==null&&(t.alternate=null,$Q(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Al],delete e[p1],delete e[dC],delete e[one],delete e[ane])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WQ(t){return t.tag===5||t.tag===3||t.tag===4}function nD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function TC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=m6));else if(r!==4&&(t=t.child,t!==null))for(TC(t,e,n),t=t.sibling;t!==null;)TC(t,e,n),t=t.sibling}function MC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(MC(t,e,n),t=t.sibling;t!==null;)MC(t,e,n),t=t.sibling}var bi=null,Ea=!1;function Au(t,e,n){for(n=n.child;n!==null;)jQ(t,e,n),n=n.sibling}function jQ(t,e,n){if(Sl&&typeof Sl.onCommitFiberUnmount=="function")try{Sl.onCommitFiberUnmount(W4,n)}catch{}switch(n.tag){case 5:Hi||Zp(n,e);case 6:var r=bi,i=Ea;bi=null,Au(t,e,n),bi=r,Ea=i,bi!==null&&(Ea?(t=bi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bi.removeChild(n.stateNode));break;case 18:bi!==null&&(Ea?(t=bi,n=n.stateNode,t.nodeType===8?h9(t.parentNode,n):t.nodeType===1&&h9(t,n),c1(t)):h9(bi,n.stateNode));break;case 4:r=bi,i=Ea,bi=n.stateNode.containerInfo,Ea=!0,Au(t,e,n),bi=r,Ea=i;break;case 0:case 11:case 14:case 15:if(!Hi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bC(n,e,o),i=i.next}while(i!==r)}Au(t,e,n);break;case 1:if(!Hi&&(Zp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){br(n,e,a)}Au(t,e,n);break;case 21:Au(t,e,n);break;case 22:n.mode&1?(Hi=(r=Hi)||n.memoizedState!==null,Au(t,e,n),Hi=r):Au(t,e,n);break;default:Au(t,e,n)}}function rD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Cne),e.forEach(function(r){var i=Dne.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ma(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bi=a.stateNode,Ea=!1;break e;case 3:bi=a.stateNode.containerInfo,Ea=!0;break e;case 4:bi=a.stateNode.containerInfo,Ea=!0;break e}a=a.return}if(bi===null)throw Error(Qe(160));jQ(s,o,i),bi=null,Ea=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){br(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KQ(e,t),e=e.sibling}function KQ(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ma(e,t),al(t),r&4){try{I3(3,t,t.return),e8(3,t)}catch(A){br(t,t.return,A)}try{I3(5,t,t.return)}catch(A){br(t,t.return,A)}}break;case 1:ma(e,t),al(t),r&512&&n!==null&&Zp(n,n.return);break;case 5:if(ma(e,t),al(t),r&512&&n!==null&&Zp(n,n.return),t.flags&32){var i=t.stateNode;try{s1(i,"")}catch(A){br(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mz(i,s),ZE(a,o);var c=ZE(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?xz(i,f):u==="dangerouslySetInnerHTML"?vz(i,f):u==="children"?s1(i,f):_b(i,u,f,c)}switch(a){case"input":KE(i,s);break;case"textarea":gz(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?p0(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?p0(i,!!s.multiple,s.defaultValue,!0):p0(i,!!s.multiple,s.multiple?[]:"",!1))}i[p1]=s}catch(A){br(t,t.return,A)}}break;case 6:if(ma(e,t),al(t),r&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){br(t,t.return,A)}}break;case 3:if(ma(e,t),al(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{c1(e.containerInfo)}catch(A){br(t,t.return,A)}break;case 4:ma(e,t),al(t);break;case 13:ma(e,t),al(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(eI=Or())),r&4&&rD(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Hi=(c=Hi)||u,ma(e,t),Hi=c):ma(e,t),al(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ct=t,u=t.child;u!==null;){for(f=ct=u;ct!==null;){switch(h=ct,d=h.child,h.tag){case 0:case 11:case 14:case 15:I3(4,h,h.return);break;case 1:Zp(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(A){br(r,n,A)}}break;case 5:Zp(h,h.return);break;case 22:if(h.memoizedState!==null){sD(f);continue}}d!==null?(d.return=h,ct=d):sD(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yz("display",o))}catch(A){br(t,t.return,A)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(A){br(t,t.return,A)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ma(e,t),al(t),r&4&&rD(t);break;case 21:break;default:ma(e,t),al(t)}}function al(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WQ(n)){var r=n;break e}n=n.return}throw Error(Qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(s1(i,""),r.flags&=-33);var s=nD(t);MC(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nD(t);TC(t,a,o);break;default:throw Error(Qe(161))}}catch(l){br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wne(t,e,n){ct=t,JQ(t)}function JQ(t,e,n){for(var r=(t.mode&1)!==0;ct!==null;){var i=ct,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Hi;a=Vv;var c=Hi;if(Vv=o,(Hi=l)&&!c)for(ct=i;ct!==null;)o=ct,l=o.child,o.tag===22&&o.memoizedState!==null?oD(i):l!==null?(l.return=o,ct=l):oD(i);for(;s!==null;)ct=s,JQ(s),s=s.sibling;ct=i,Vv=a,Hi=c}iD(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ct=s):iD(t)}}function iD(t){for(;ct!==null;){var e=ct;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hi||e8(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_a(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&c1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Hi||e.flags&512&&IC(e)}catch(h){br(e,e.return,h)}}if(e===t){ct=null;break}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}}function sD(t){for(;ct!==null;){var e=ct;if(e===t){ct=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ct=n;break}ct=e.return}}function oD(t){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{e8(4,e)}catch(l){br(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){br(e,i,l)}}var s=e.return;try{IC(e)}catch(l){br(e,s,l)}break;case 5:var o=e.return;try{IC(e)}catch(l){br(e,o,l)}}}catch(l){br(e,e.return,l)}if(e===t){ct=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ct=a;break}ct=e.return}}var bne=Math.ceil,b6=Xc.ReactCurrentDispatcher,qb=Xc.ReactCurrentOwner,Yo=Xc.ReactCurrentBatchConfig,pn=0,xi=null,Jr=null,Bi=0,Ks=0,e0=Qf(0),si=0,x1=null,dd=0,t8=0,Zb=0,T3=null,Ss=null,eI=0,V0=1/0,hc=null,I6=!1,BC=null,cf=null,$v=!1,Vu=null,T6=0,M3=0,RC=null,I5=-1,T5=0;function ds(){return pn&6?Or():I5!==-1?I5:I5=Or()}function uf(t){return t.mode&1?pn&2&&Bi!==0?Bi&-Bi:cne.transition!==null?(T5===0&&(T5=Pz()),T5):(t=Bn,t!==0||(t=window.event,t=t===void 0?16:Uz(t.type)),t):1}function Ma(t,e,n,r){if(50<M3)throw M3=0,RC=null,Error(Qe(185));I2(t,n,r),(!(pn&2)||t!==xi)&&(t===xi&&(!(pn&2)&&(t8|=n),si===4&&Qu(t,Bi)),Rs(t,r),n===1&&pn===0&&!(e.mode&1)&&(V0=Or()+500,X4&&Hf()))}function Rs(t,e){var n=t.callbackNode;cte(t,e);var r=f6(t,t===xi?Bi:0);if(r===0)n!==null&&mP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mP(n),e===1)t.tag===0?lne(aD.bind(null,t)):iQ(aD.bind(null,t)),ine(function(){!(pn&6)&&Hf()}),n=null;else{switch(Dz(r)){case 1:n=bb;break;case 4:n=Bz;break;case 16:n=u6;break;case 536870912:n=Rz;break;default:n=u6}n=rH(n,YQ.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YQ(t,e){if(I5=-1,T5=0,pn&6)throw Error(Qe(327));var n=t.callbackNode;if(y0()&&t.callbackNode!==n)return null;var r=f6(t,t===xi?Bi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=M6(t,r);else{e=r;var i=pn;pn|=2;var s=qQ();(xi!==t||Bi!==e)&&(hc=null,V0=Or()+500,Xh(t,e));do try{Mne();break}catch(a){XQ(t,a)}while(1);Ub(),b6.current=s,pn=i,Jr!==null?e=0:(xi=null,Bi=0,e=si)}if(e!==0){if(e===2&&(i=iC(t),i!==0&&(r=i,e=PC(t,i))),e===1)throw n=x1,Xh(t,0),Qu(t,r),Rs(t,Or()),n;if(e===6)Qu(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ine(i)&&(e=M6(t,r),e===2&&(s=iC(t),s!==0&&(r=s,e=PC(t,s))),e===1))throw n=x1,Xh(t,0),Qu(t,r),Rs(t,Or()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Qe(345));case 2:wh(t,Ss,hc);break;case 3:if(Qu(t,r),(r&130023424)===r&&(e=eI+500-Or(),10<e)){if(f6(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ds(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hC(wh.bind(null,t,Ss,hc),e);break}wh(t,Ss,hc);break;case 4:if(Qu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ta(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bne(r/1960))-r,10<r){t.timeoutHandle=hC(wh.bind(null,t,Ss,hc),r);break}wh(t,Ss,hc);break;case 5:wh(t,Ss,hc);break;default:throw Error(Qe(329))}}}return Rs(t,Or()),t.callbackNode===n?YQ.bind(null,t):null}function PC(t,e){var n=T3;return t.current.memoizedState.isDehydrated&&(Xh(t,e).flags|=256),t=M6(t,e),t!==2&&(e=Ss,Ss=n,e!==null&&DC(e)),t}function DC(t){Ss===null?Ss=t:Ss.push.apply(Ss,t)}function Ine(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Da(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qu(t,e){for(e&=~Zb,e&=~t8,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ta(e),r=1<<n;t[n]=-1,e&=~r}}function aD(t){if(pn&6)throw Error(Qe(327));y0();var e=f6(t,0);if(!(e&1))return Rs(t,Or()),null;var n=M6(t,e);if(t.tag!==0&&n===2){var r=iC(t);r!==0&&(e=r,n=PC(t,r))}if(n===1)throw n=x1,Xh(t,0),Qu(t,e),Rs(t,Or()),n;if(n===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wh(t,Ss,hc),Rs(t,Or()),null}function tI(t,e){var n=pn;pn|=1;try{return t(e)}finally{pn=n,pn===0&&(V0=Or()+500,X4&&Hf())}}function pd(t){Vu!==null&&Vu.tag===0&&!(pn&6)&&y0();var e=pn;pn|=1;var n=Yo.transition,r=Bn;try{if(Yo.transition=null,Bn=1,t)return t()}finally{Bn=r,Yo.transition=n,pn=e,!(pn&6)&&Hf()}}function nI(){Ks=e0.current,Xn(e0)}function Xh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rne(n)),Jr!==null)for(n=Jr.return;n!==null;){var r=n;switch(Fb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&g6();break;case 3:Q0(),Xn(Ms),Xn(Ji),$b();break;case 5:Vb(r);break;case 4:Q0();break;case 13:Xn(ur);break;case 19:Xn(ur);break;case 10:Gb(r.type._context);break;case 22:case 23:nI()}n=n.return}if(xi=t,Jr=t=ff(t.current,null),Bi=Ks=e,si=0,x1=null,Zb=t8=dd=0,Ss=T3=null,Oh!==null){for(e=0;e<Oh.length;e++)if(n=Oh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Oh=null}return t}function XQ(t,e){do{var n=Jr;try{if(Ub(),S5.current=w6,S6){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}S6=!1}if(hd=0,mi=ni=vr=null,b3=!1,A1=0,qb.current=null,n===null||n.return===null){si=1,x1=e,Jr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=KP(o);if(d!==null){d.flags&=-257,JP(d,o,a,s,e),d.mode&1&&jP(s,c,e),e=d,l=c;var m=e.updateQueue;if(m===null){var A=new Set;A.add(l),e.updateQueue=A}else m.add(l);break e}else{if(!(e&1)){jP(s,c,e),rI();break e}l=Error(Qe(426))}}else if(nr&&a.mode&1){var v=KP(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),JP(v,o,a,s,e),Ob(H0(l,a));break e}}s=l=H0(l,a),si!==4&&(si=2),T3===null?T3=[s]:T3.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=LQ(s,l,e);GP(s,y);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(cf===null||!cf.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=kQ(s,a,e);GP(s,E);break e}}s=s.return}while(s!==null)}eH(n)}catch(b){e=b,Jr===n&&n!==null&&(Jr=n=n.return);continue}break}while(1)}function qQ(){var t=b6.current;return b6.current=w6,t===null?w6:t}function rI(){(si===0||si===3||si===2)&&(si=4),xi===null||!(dd&268435455)&&!(t8&268435455)||Qu(xi,Bi)}function M6(t,e){var n=pn;pn|=2;var r=qQ();(xi!==t||Bi!==e)&&(hc=null,Xh(t,e));do try{Tne();break}catch(i){XQ(t,i)}while(1);if(Ub(),pn=n,b6.current=r,Jr!==null)throw Error(Qe(261));return xi=null,Bi=0,si}function Tne(){for(;Jr!==null;)ZQ(Jr)}function Mne(){for(;Jr!==null&&!ete();)ZQ(Jr)}function ZQ(t){var e=nH(t.alternate,t,Ks);t.memoizedProps=t.pendingProps,e===null?eH(t):Jr=e,qb.current=null}function eH(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ene(n,e),n!==null){n.flags&=32767,Jr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{si=6,Jr=null;return}}else if(n=_ne(n,e,Ks),n!==null){Jr=n;return}if(e=e.sibling,e!==null){Jr=e;return}Jr=e=t}while(e!==null);si===0&&(si=5)}function wh(t,e,n){var r=Bn,i=Yo.transition;try{Yo.transition=null,Bn=1,Bne(t,e,n,r)}finally{Yo.transition=i,Bn=r}return null}function Bne(t,e,n,r){do y0();while(Vu!==null);if(pn&6)throw Error(Qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ute(t,s),t===xi&&(Jr=xi=null,Bi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$v||($v=!0,rH(u6,function(){return y0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yo.transition,Yo.transition=null;var o=Bn;Bn=1;var a=pn;pn|=4,qb.current=null,Sne(t,n),KQ(n,t),Yte(uC),h6=!!cC,uC=cC=null,t.current=n,wne(n),tte(),pn=a,Bn=o,Yo.transition=s}else t.current=n;if($v&&($v=!1,Vu=t,T6=i),s=t.pendingLanes,s===0&&(cf=null),ite(n.stateNode),Rs(t,Or()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(I6)throw I6=!1,t=BC,BC=null,t;return T6&1&&t.tag!==0&&y0(),s=t.pendingLanes,s&1?t===RC?M3++:(M3=0,RC=t):M3=0,Hf(),null}function y0(){if(Vu!==null){var t=Dz(T6),e=Yo.transition,n=Bn;try{if(Yo.transition=null,Bn=16>t?16:t,Vu===null)var r=!1;else{if(t=Vu,Vu=null,T6=0,pn&6)throw Error(Qe(331));var i=pn;for(pn|=4,ct=t.current;ct!==null;){var s=ct,o=s.child;if(ct.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ct=c;ct!==null;){var u=ct;switch(u.tag){case 0:case 11:case 15:I3(8,u,s)}var f=u.child;if(f!==null)f.return=u,ct=f;else for(;ct!==null;){u=ct;var h=u.sibling,d=u.return;if($Q(u),u===c){ct=null;break}if(h!==null){h.return=d,ct=h;break}ct=d}}}var m=s.alternate;if(m!==null){var A=m.child;if(A!==null){m.child=null;do{var v=A.sibling;A.sibling=null,A=v}while(A!==null)}}ct=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ct=o;else e:for(;ct!==null;){if(s=ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:I3(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ct=y;break e}ct=s.return}}var _=t.current;for(ct=_;ct!==null;){o=ct;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ct=x;else e:for(o=_;ct!==null;){if(a=ct,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:e8(9,a)}}catch(b){br(a,a.return,b)}if(a===o){ct=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ct=E;break e}ct=a.return}}if(pn=i,Hf(),Sl&&typeof Sl.onPostCommitFiberRoot=="function")try{Sl.onPostCommitFiberRoot(W4,t)}catch{}r=!0}return r}finally{Bn=n,Yo.transition=e}}return!1}function lD(t,e,n){e=H0(n,e),e=LQ(t,e,1),t=lf(t,e,1),e=ds(),t!==null&&(I2(t,1,e),Rs(t,e))}function br(t,e,n){if(t.tag===3)lD(t,t,n);else for(;e!==null;){if(e.tag===3){lD(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cf===null||!cf.has(r))){t=H0(n,t),t=kQ(e,t,1),e=lf(e,t,1),t=ds(),e!==null&&(I2(e,1,t),Rs(e,t));break}}e=e.return}}function Rne(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ds(),t.pingedLanes|=t.suspendedLanes&n,xi===t&&(Bi&n)===n&&(si===4||si===3&&(Bi&130023424)===Bi&&500>Or()-eI?Xh(t,0):Zb|=n),Rs(t,e)}function tH(t,e){e===0&&(t.mode&1?(e=kv,kv<<=1,!(kv&130023424)&&(kv=4194304)):e=1);var n=ds();t=Nc(t,e),t!==null&&(I2(t,e,n),Rs(t,n))}function Pne(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tH(t,n)}function Dne(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Qe(314))}r!==null&&r.delete(e),tH(t,n)}var nH;nH=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ms.current)bs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bs=!1,xne(t,e,n);bs=!!(t.flags&131072)}else bs=!1,nr&&e.flags&1048576&&sQ(e,y6,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;b5(t,e),t=e.pendingProps;var i=U0(e,Ji.current);v0(e,n),i=jb(null,e,r,t,i,n);var s=Kb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bs(r)?(s=!0,A6(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qb(e),i.updater=q4,e.stateNode=i,i._reactInternals=e,yC(e,r,t,n),e=EC(null,e,r,!0,s,n)):(e.tag=0,nr&&s&&kb(e),cs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(b5(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kne(r),t=_a(r,t),i){case 0:e=_C(null,e,r,t,n);break e;case 1:e=qP(null,e,r,t,n);break e;case 11:e=YP(null,e,r,t,n);break e;case 14:e=XP(null,e,r,_a(r.type,t),n);break e}throw Error(Qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),_C(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),qP(t,e,r,i,n);case 3:e:{if(UQ(e),t===null)throw Error(Qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cQ(t,e),E6(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=H0(Error(Qe(423)),e),e=ZP(t,e,r,n,i);break e}else if(r!==i){i=H0(Error(Qe(424)),e),e=ZP(t,e,r,n,i);break e}else for(eo=af(e.stateNode.containerInfo.firstChild),no=e,nr=!0,Ca=null,n=dQ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(G0(),r===i){e=Uc(t,e,n);break e}cs(t,e,r,n)}e=e.child}return e;case 5:return pQ(e),t===null&&gC(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fC(r,i)?o=null:s!==null&&fC(r,s)&&(e.flags|=32),NQ(t,e),cs(t,e,o,n),e.child;case 6:return t===null&&gC(e),null;case 13:return GQ(t,e,n);case 4:return Hb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=z0(e,null,r,n):cs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),YP(t,e,r,i,n);case 7:return cs(t,e,e.pendingProps,n),e.child;case 8:return cs(t,e,e.pendingProps.children,n),e.child;case 12:return cs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Hn(x6,r._currentValue),r._currentValue=o,s!==null)if(Da(s.value,o)){if(s.children===i.children&&!Ms.current){e=Uc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Tc(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),AC(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Qe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),AC(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,v0(e,n),i=ea(i),r=r(i),e.flags|=1,cs(t,e,r,n),e.child;case 14:return r=e.type,i=_a(r,e.pendingProps),i=_a(r.type,i),XP(t,e,r,i,n);case 15:return FQ(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),b5(t,e),e.tag=1,Bs(r)?(t=!0,A6(e)):t=!1,v0(e,n),fQ(e,r,i),yC(e,r,i,n),EC(null,e,r,!0,t,n);case 19:return zQ(t,e,n);case 22:return OQ(t,e,n)}throw Error(Qe(156,e.tag))};function rH(t,e){return Mz(t,e)}function Lne(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(t,e,n,r){return new Lne(t,e,n,r)}function iI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kne(t){if(typeof t=="function")return iI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cb)return 11;if(t===Sb)return 14}return 2}function ff(t,e){var n=t.alternate;return n===null?(n=Vo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function M5(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")iI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vp:return qh(n.children,i,s,e);case Eb:o=8,i|=8;break;case HE:return t=Vo(12,n,e,i|2),t.elementType=HE,t.lanes=s,t;case VE:return t=Vo(13,n,e,i),t.elementType=VE,t.lanes=s,t;case $E:return t=Vo(19,n,e,i),t.elementType=$E,t.lanes=s,t;case hz:return n8(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uz:o=10;break e;case fz:o=9;break e;case Cb:o=11;break e;case Sb:o=14;break e;case Ou:o=16,r=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=Vo(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qh(t,e,n,r){return t=Vo(7,t,r,e),t.lanes=n,t}function n8(t,e,n,r){return t=Vo(22,t,r,e),t.elementType=hz,t.lanes=n,t.stateNode={isHidden:!1},t}function x9(t,e,n){return t=Vo(6,t,null,e),t.lanes=n,t}function _9(t,e,n){return e=Vo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fne(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t9(0),this.expirationTimes=t9(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t9(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sI(t,e,n,r,i,s,o,a,l){return t=new Fne(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qb(s),t}function One(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iH(t){if(!t)return _f;t=t._reactInternals;e:{if(Md(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var n=t.type;if(Bs(n))return rQ(t,n,e)}return e}function sH(t,e,n,r,i,s,o,a,l){return t=sI(n,r,!0,t,i,s,o,a,l),t.context=iH(null),n=t.current,r=ds(),i=uf(n),s=Tc(r,i),s.callback=e??null,lf(n,s,i),t.current.lanes=i,I2(t,i,r),Rs(t,r),t}function r8(t,e,n,r){var i=e.current,s=ds(),o=uf(i);return n=iH(n),e.context===null?e.context=n:e.pendingContext=n,e=Tc(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lf(i,e,o),t!==null&&(Ma(t,i,o,s),C5(t,i,o)),o}function B6(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function oI(t,e){cD(t,e),(t=t.alternate)&&cD(t,e)}function Nne(){return null}var oH=typeof reportError=="function"?reportError:function(t){console.error(t)};function aI(t){this._internalRoot=t}i8.prototype.render=aI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));r8(t,e,null,null)};i8.prototype.unmount=aI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pd(function(){r8(null,t,null,null)}),e[Oc]=null}};function i8(t){this._internalRoot=t}i8.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fz();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zu.length&&e!==0&&e<zu[n].priority;n++);zu.splice(n,0,t),n===0&&Nz(t)}};function lI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uD(){}function Une(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=B6(o);s.call(c)}}var o=sH(e,r,t,0,null,!1,!1,"",uD);return t._reactRootContainer=o,t[Oc]=o.current,h1(t.nodeType===8?t.parentNode:t),pd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=B6(l);a.call(c)}}var l=sI(t,0,!1,null,null,!1,!1,"",uD);return t._reactRootContainer=l,t[Oc]=l.current,h1(t.nodeType===8?t.parentNode:t),pd(function(){r8(e,l,n,r)}),l}function o8(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=B6(o);a.call(l)}}r8(e,o,t,i)}else o=Une(n,e,t,i,r);return B6(o)}Lz=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=a3(e.pendingLanes);n!==0&&(Ib(e,n|1),Rs(e,Or()),!(pn&6)&&(V0=Or()+500,Hf()))}break;case 13:pd(function(){var r=Nc(t,1);if(r!==null){var i=ds();Ma(r,t,1,i)}}),oI(t,1)}};Tb=function(t){if(t.tag===13){var e=Nc(t,134217728);if(e!==null){var n=ds();Ma(e,t,134217728,n)}oI(t,134217728)}};kz=function(t){if(t.tag===13){var e=uf(t),n=Nc(t,e);if(n!==null){var r=ds();Ma(n,t,e,r)}oI(t,e)}};Fz=function(){return Bn};Oz=function(t,e){var n=Bn;try{return Bn=t,e()}finally{Bn=n}};tC=function(t,e,n){switch(e){case"input":if(KE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Y4(r);if(!i)throw Error(Qe(90));pz(r),KE(r,i)}}}break;case"textarea":gz(t,n);break;case"select":e=n.value,e!=null&&p0(t,!!n.multiple,e,!1)}};Cz=tI;Sz=pd;var Gne={usingClientEntryPoint:!1,Events:[M2,Kp,Y4,_z,Ez,tI]},Sg={findFiberByHostInstance:Fh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zne={bundleType:Sg.bundleType,version:Sg.version,rendererPackageName:Sg.rendererPackageName,rendererConfig:Sg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Iz(t),t===null?null:t.stateNode},findFiberByHostInstance:Sg.findFiberByHostInstance||Nne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wv.isDisabled&&Wv.supportsFiber)try{W4=Wv.inject(zne),Sl=Wv}catch{}}go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gne;go.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lI(e))throw Error(Qe(200));return One(t,e,null,n)};go.createRoot=function(t,e){if(!lI(t))throw Error(Qe(299));var n=!1,r="",i=oH;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sI(t,1,!1,null,null,n,!1,r,i),t[Oc]=e.current,h1(t.nodeType===8?t.parentNode:t),new aI(e)};go.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=Iz(e),t=t===null?null:t.stateNode,t};go.flushSync=function(t){return pd(t)};go.hydrate=function(t,e,n){if(!s8(e))throw Error(Qe(200));return o8(null,t,e,!0,n)};go.hydrateRoot=function(t,e,n){if(!lI(t))throw Error(Qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sH(e,null,t,1,n??null,i,!1,s,o),t[Oc]=e.current,h1(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new i8(e)};go.render=function(t,e,n){if(!s8(e))throw Error(Qe(200));return o8(null,t,e,!1,n)};go.unmountComponentAtNode=function(t){if(!s8(t))throw Error(Qe(40));return t._reactRootContainer?(pd(function(){o8(null,null,t,!1,function(){t._reactRootContainer=null,t[Oc]=null})}),!0):!1};go.unstable_batchedUpdates=tI;go.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s8(n))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return o8(t,e,n,!1,r)};go.version="18.2.0-next-9e3b772b8-20220608";function aH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aH)}catch(t){console.error(t)}}aH(),sz.exports=go;var wm=sz.exports;const lH=ca(wm);var cH,fD=wm;cH=zE.createRoot=fD.createRoot,zE.hydrateRoot=fD.hydrateRoot;function _r(){return _r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_r.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ql="146",Qne={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Hne={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uH=0,LC=1,fH=2,Vne=3,hH=0,a8=1,B3=2,Uh=3,Ef=0,Ps=1,$o=2,rn=0,bl=1,_1=2,kC=3,FC=4,E1=5,Xs=100,dH=101,pH=102,OC=103,NC=104,$0=200,mH=201,gH=202,AH=203,C1=204,S1=205,l8=206,vH=207,c8=208,yH=209,xH=210,_H=0,EH=1,CH=2,R6=3,SH=4,wH=5,bH=6,IH=7,R2=0,TH=1,MH=2,ro=0,BH=1,RH=2,PH=3,cI=4,DH=5,u8=300,Gc=301,Cf=302,W0=303,w1=304,bm=306,na=1e3,hr=1001,j0=1002,Qt=1003,b1=1004,$ne=1004,I1=1005,Wne=1005,Cn=1006,f8=1007,jne=1007,za=1008,Kne=1008,Ai=1009,LH=1010,kH=1011,Im=1012,FH=1013,$u=1014,Yr=1015,wn=1016,OH=1017,NH=1018,hf=1020,UH=1021,GH=1022,dr=1023,uI=1024,zH=1025,df=1026,Sf=1027,Wu=1028,QH=1029,t0=1030,HH=1031,VH=1033,x0=33776,B5=33777,R5=33778,_0=33779,T1=35840,UC=35841,M1=35842,GC=35843,h8=36196,B1=37492,R1=37496,P1=37808,zC=37809,QC=37810,HC=37811,VC=37812,$C=37813,WC=37814,jC=37815,KC=37816,JC=37817,YC=37818,XC=37819,qC=37820,ZC=37821,D1=36492,$H=2200,WH=2201,jH=2202,K0=2300,md=2301,P5=2302,Gh=2400,zh=2401,L1=2402,d8=2500,fI=2501,KH=0,hI=1,P6=2,wf=3e3,ar=3001,JH=3200,dI=3201,Vf=0,YH=1,Jne="",hl="srgb",ju="srgb-linear",Yne=0,D5=7680,Xne=7681,qne=7682,Zne=7683,ere=34055,tre=34056,nre=5386,rre=512,ire=513,sre=514,ore=515,are=516,lre=517,cre=518,XH=519,k1=35044,L5=35048,ure=35040,fre=35045,hre=35049,dre=35041,pre=35046,mre=35050,gre=35042,Are="100",eS="300 es",D6=1035;class qc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const zi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hD=1234567;const Zh=Math.PI/180,F1=180/Math.PI;function io(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(zi[t&255]+zi[t>>8&255]+zi[t>>16&255]+zi[t>>24&255]+"-"+zi[e&255]+zi[e>>8&255]+"-"+zi[e>>16&15|64]+zi[e>>24&255]+"-"+zi[n&63|128]+zi[n>>8&255]+"-"+zi[n>>16&255]+zi[n>>24&255]+zi[r&255]+zi[r>>8&255]+zi[r>>16&255]+zi[r>>24&255]).toLowerCase()}function Nr(t,e,n){return Math.max(e,Math.min(n,t))}function pI(t,e){return(t%e+e)%e}function vre(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function yre(t,e,n){return t!==e?(n-t)/(e-t):0}function R3(t,e,n){return(1-n)*t+n*e}function xre(t,e,n,r){return R3(t,e,1-Math.exp(-n*r))}function _re(t,e=1){return e-Math.abs(pI(t,e*2)-e)}function Ere(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Cre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Sre(t,e){return t+Math.floor(Math.random()*(e-t+1))}function wre(t,e){return t+Math.random()*(e-t)}function bre(t){return t*(.5-Math.random())}function Ire(t){t!==void 0&&(hD=t);let e=hD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Tre(t){return t*Zh}function Mre(t){return t*F1}function tS(t){return(t&t-1)===0&&t!==0}function qH(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function L6(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Bre(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),d=s((r-e)/2),m=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*f,l*h,a*c);break;case"YZY":t.set(l*h,a*u,l*f,a*c);break;case"ZXZ":t.set(l*f,l*h,a*u,a*c);break;case"XZX":t.set(a*u,l*m,l*d,a*c);break;case"YXY":t.set(l*d,a*u,l*m,a*c);break;case"ZYZ":t.set(l*m,l*d,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Cc(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Nn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var Mc=Object.freeze({__proto__:null,DEG2RAD:Zh,RAD2DEG:F1,generateUUID:io,clamp:Nr,euclideanModulo:pI,mapLinear:vre,inverseLerp:yre,lerp:R3,damp:xre,pingpong:_re,smoothstep:Ere,smootherstep:Cre,randInt:Sre,randFloat:wre,randFloatSpread:bre,seededRandom:Ire,degToRad:Tre,radToDeg:Mre,isPowerOfTwo:tS,ceilPowerOfTwo:qH,floorPowerOfTwo:L6,setQuaternionFromProperEuler:Bre,normalize:Nn,denormalize:Cc});class Se{constructor(e=0,n=0){Se.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fs{constructor(){fs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],h=r[2],d=r[5],m=r[8],A=i[0],v=i[3],y=i[6],_=i[1],x=i[4],E=i[7],b=i[2],w=i[5],T=i[8];return s[0]=o*A+a*_+l*b,s[3]=o*v+a*x+l*w,s[6]=o*y+a*E+l*T,s[1]=c*A+u*_+f*b,s[4]=c*v+u*x+f*w,s[7]=c*y+u*E+f*T,s[2]=h*A+d*_+m*b,s[5]=h*v+d*x+m*w,s[8]=h*y+d*E+m*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,h=a*l-u*s,d=c*s-o*l,m=n*f+r*h+i*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/m;return e[0]=f*A,e[1]=(i*c-u*r)*A,e[2]=(a*r-i*o)*A,e[3]=h*A,e[4]=(u*n-i*l)*A,e[5]=(i*s-a*n)*A,e[6]=d*A,e[7]=(r*l-c*n)*A,e[8]=(o*n-r*s)*A,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=n,r[4]*=n,r[7]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=n*s+r*l,i[3]=n*o+r*c,i[6]=n*a+r*u,i[1]=-r*s+n*l,i[4]=-r*o+n*c,i[7]=-r*a+n*u,this}translate(e,n){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=n*r[2],r[4]+=n*r[5],r[7]+=n*r[8],this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function ZH(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Rre={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function n0(t,e){return new Rre[t](e)}function O1(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function ed(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function k5(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const E9={[hl]:{[ju]:ed},[ju]:{[hl]:k5}},Ro={legacyMode:!0,get workingColorSpace(){return ju},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(E9[e]&&E9[e][n]!==void 0){const r=E9[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},eV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ei={r:0,g:0,b:0},ga={h:0,s:0,l:0},jv={h:0,s:0,l:0};function C9(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Kv(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}let Ue=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=hl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ro.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ju){return this.r=e,this.g=n,this.b=r,Ro.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ju){if(e=pI(e,1),n=Nr(n,0,1),r=Nr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=C9(o,s,e+1/3),this.g=C9(o,s,e),this.b=C9(o,s,e-1/3)}return Ro.toWorkingColorSpace(this,i),this}setStyle(e,n=hl){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ro.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ro.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ro.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ro.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=hl){const r=eV[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ed(e.r),this.g=ed(e.g),this.b=ed(e.b),this}copyLinearToSRGB(e){return this.r=k5(e.r),this.g=k5(e.g),this.b=k5(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=hl){return Ro.fromWorkingColorSpace(Kv(this,ei),e),Nr(ei.r*255,0,255)<<16^Nr(ei.g*255,0,255)<<8^Nr(ei.b*255,0,255)<<0}getHexString(e=hl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ju){Ro.fromWorkingColorSpace(Kv(this,ei),n);const r=ei.r,i=ei.g,s=ei.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=ju){return Ro.fromWorkingColorSpace(Kv(this,ei),n),e.r=ei.r,e.g=ei.g,e.b=ei.b,e}getStyle(e=hl){return Ro.fromWorkingColorSpace(Kv(this,ei),e),e!==hl?`color(${e} ${ei.r} ${ei.g} ${ei.b})`:`rgb(${ei.r*255|0},${ei.g*255|0},${ei.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(ga),ga.h+=e,ga.s+=n,ga.l+=r,this.setHSL(ga.h,ga.s,ga.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ga),e.getHSL(jv);const r=R3(ga.h,jv.h,n),i=R3(ga.s,jv.s,n),s=R3(ga.l,jv.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};Ue.NAMES=eV;let ap;class mI{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ap===void 0&&(ap=O1("canvas")),ap.width=e.width,ap.height=e.height;const r=ap.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ap}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=O1("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ed(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ed(n[r]/255)*255):n[r]=ed(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Qh{constructor(e=null){this.isSource=!0,this.uuid=io(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(S9(i[o].image)):s.push(S9(i[o]))}else s=S9(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function S9(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?mI.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Pre=0;class qn extends qc{constructor(e=qn.DEFAULT_IMAGE,n=qn.DEFAULT_MAPPING,r=hr,i=hr,s=Cn,o=za,a=dr,l=Ai,c=1,u=wf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Pre++}),this.uuid=io(),this.name="",this.source=new Qh(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Se(0,0),this.repeat=new Se(1,1),this.center=new Se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==u8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case na:e.x=e.x-Math.floor(e.x);break;case hr:e.x=e.x<0?0:1;break;case j0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case na:e.y=e.y-Math.floor(e.y);break;case hr:e.y=e.y<0?0:1;break;case j0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}qn.DEFAULT_IMAGE=null;qn.DEFAULT_MAPPING=u8;class sn{constructor(e=0,n=0,r=0,i=1){sn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],d=l[5],m=l[9],A=l[2],v=l[6],y=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-A)<.01&&Math.abs(m-v)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+A)<.1&&Math.abs(m+v)<.1&&Math.abs(c+d+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,E=(d+1)/2,b=(y+1)/2,w=(u+h)/4,T=(f+A)/4,C=(m+v)/4;return x>E&&x>b?x<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(x),i=w/r,s=T/r):E>b?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=w/i,s=C/i):b<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=T/s,i=C/s),this.set(r,i,s,n),this}let _=Math.sqrt((v-m)*(v-m)+(f-A)*(f-A)+(h-u)*(h-u));return Math.abs(_)<.001&&(_=1),this.x=(v-m)/_,this.y=(f-A)/_,this.z=(h-u)/_,this.w=Math.acos((c+d+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Dn extends qc{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new sn(0,0,e,n),this.scissorTest=!1,this.viewport=new sn(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new qn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Cn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Qh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class P2 extends qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Qt,this.minFilter=Qt,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Dre extends Dn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new P2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}let p8=class extends qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Qt,this.minFilter=Qt,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class Lre extends Dn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new p8(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class kre extends Dn{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Ri{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const h=s[o+0],d=s[o+1],m=s[o+2],A=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(a===1){e[n+0]=h,e[n+1]=d,e[n+2]=m,e[n+3]=A;return}if(f!==A||l!==h||c!==d||u!==m){let v=1-a;const y=l*h+c*d+u*m+f*A,_=y>=0?1:-1,x=1-y*y;if(x>Number.EPSILON){const b=Math.sqrt(x),w=Math.atan2(b,y*_);v=Math.sin(v*w)/b,a=Math.sin(a*w)/b}const E=a*_;if(l=l*v+h*E,c=c*v+d*E,u=u*v+m*E,f=f*v+A*E,v===1-a){const b=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=b,c*=b,u*=b,f*=b}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],h=s[o+1],d=s[o+2],m=s[o+3];return e[n]=a*m+u*f+l*d-c*h,e[n+1]=l*m+u*h+c*f-a*d,e[n+2]=c*m+u*d+a*h-l*f,e[n+3]=u*m-a*f-l*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),h=l(r/2),d=l(i/2),m=l(s/2);switch(o){case"XYZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"YXZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"ZXY":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"ZYX":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"YZX":this._x=h*u*f+c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f-h*d*m;break;case"XZY":this._x=h*u*f-c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f+h*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],f=n[10],h=r+a+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-l)*d,this._y=(s-c)*d,this._z=(o-i)*d}else if(r>a&&r>f){const d=2*Math.sqrt(1+r-a-f);this._w=(u-l)/d,this._x=.25*d,this._y=(i+o)/d,this._z=(s+c)/d}else if(a>f){const d=2*Math.sqrt(1+a-r-f);this._w=(s-c)/d,this._x=(i+o)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+f-r-a);this._w=(o-i)/d,this._x=(s+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Nr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-n;return this._w=d*o+n*this._w,this._x=d*r+n*this._x,this._y=d*i+n*this._y,this._z=d*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,n=0,r=0){K.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(dD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(dD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,u=l*r+a*n-s*i,f=l*i+s*r-o*n,h=-s*n-o*r-a*i;return this.x=c*l+h*-s+u*-a-f*-o,this.y=u*l+h*-o+f*-s-c*-a,this.z=f*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return w9.copy(this).projectOnVector(e),this.sub(w9)}reflect(e){return this.sub(w9.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Nr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const w9=new K,dD=new Ri;class $f{constructor(e=new K(1/0,1/0,1/0),n=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],h=e[l+2];u<n&&(n=u),f<r&&(r=f),h<i&&(i=h),u>s&&(s=u),f>o&&(o=f),h>a&&(a=h)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),h=e.getZ(l);u<n&&(n=u),f<r&&(r=f),h<i&&(i=h),u>s&&(s=u),f>o&&(o=f),h>a&&(a=h)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=fh.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)fh.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fh)}else r.boundingBox===null&&r.computeBoundingBox(),b9.copy(r.boundingBox),b9.applyMatrix4(e.matrixWorld),this.union(b9);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fh),fh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wg),Jv.subVectors(this.max,wg),lp.subVectors(e.a,wg),cp.subVectors(e.b,wg),up.subVectors(e.c,wg),vu.subVectors(cp,lp),yu.subVectors(up,cp),hh.subVectors(lp,up);let n=[0,-vu.z,vu.y,0,-yu.z,yu.y,0,-hh.z,hh.y,vu.z,0,-vu.x,yu.z,0,-yu.x,hh.z,0,-hh.x,-vu.y,vu.x,0,-yu.y,yu.x,0,-hh.y,hh.x,0];return!I9(n,lp,cp,up,Jv)||(n=[1,0,0,0,1,0,0,0,1],!I9(n,lp,cp,up,Jv))?!1:(Yv.crossVectors(vu,yu),n=[Yv.x,Yv.y,Yv.z],I9(n,lp,cp,up,Jv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fh.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(fh).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ic[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ic[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ic[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ic[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ic[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ic[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ic[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ic[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ic),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ic=[new K,new K,new K,new K,new K,new K,new K,new K],fh=new K,b9=new $f,lp=new K,cp=new K,up=new K,vu=new K,yu=new K,hh=new K,wg=new K,Jv=new K,Yv=new K,dh=new K;function I9(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){dh.fromArray(t,s);const a=i.x*Math.abs(dh.x)+i.y*Math.abs(dh.y)+i.z*Math.abs(dh.z),l=e.dot(dh),c=n.dot(dh),u=r.dot(dh);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Fre=new $f,bg=new K,T9=new K;class Wf{constructor(e=new K,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Fre.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;bg.subVectors(e,this.center);const n=bg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(bg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(T9.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(bg.copy(e.center).add(T9)),this.expandByPoint(bg.copy(e.center).sub(T9))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const sc=new K,M9=new K,Xv=new K,xu=new K,B9=new K,qv=new K,R9=new K;class D2{constructor(e=new K,n=new K(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=sc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(sc.copy(this.direction).multiplyScalar(n).add(this.origin),sc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){M9.copy(e).add(n).multiplyScalar(.5),Xv.copy(n).sub(e).normalize(),xu.copy(this.origin).sub(M9);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Xv),a=xu.dot(this.direction),l=-xu.dot(Xv),c=xu.lengthSq(),u=Math.abs(1-o*o);let f,h,d,m;if(u>0)if(f=o*l-a,h=o*a-l,m=s*u,f>=0)if(h>=-m)if(h<=m){const A=1/u;f*=A,h*=A,d=f*(f+o*h+2*a)+h*(o*f+h+2*l)+c}else h=s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h=-s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h<=-m?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c):h<=m?(f=0,h=Math.min(Math.max(-s,-l),s),d=h*(h+2*l)+c):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(Xv).multiplyScalar(h).add(M9),d}intersectSphere(e,n){sc.subVectors(e.center,this.origin);const r=sc.dot(this.direction),i=sc.dot(sc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,sc)!==null}intersectTriangle(e,n,r,i,s){B9.subVectors(n,e),qv.subVectors(r,e),R9.crossVectors(B9,qv);let o=this.direction.dot(R9),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;xu.subVectors(this.origin,e);const l=a*this.direction.dot(qv.crossVectors(xu,qv));if(l<0)return null;const c=a*this.direction.dot(B9.cross(xu));if(c<0||l+c>o)return null;const u=-a*xu.dot(R9);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dt{constructor(){dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,c,u,f,h,d,m,A,v){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=f,y[14]=h,y[3]=d,y[7]=m,y[11]=A,y[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/fp.setFromMatrixColumn(e,0).length(),s=1/fp.setFromMatrixColumn(e,1).length(),o=1/fp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*u,d=o*f,m=a*u,A=a*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=d+m*c,n[5]=h-A*c,n[9]=-a*l,n[2]=A-h*c,n[6]=m+d*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*u,d=l*f,m=c*u,A=c*f;n[0]=h+A*a,n[4]=m*a-d,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-a,n[2]=d*a-m,n[6]=A+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*u,d=l*f,m=c*u,A=c*f;n[0]=h-A*a,n[4]=-o*f,n[8]=m+d*a,n[1]=d+m*a,n[5]=o*u,n[9]=A-h*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*u,d=o*f,m=a*u,A=a*f;n[0]=l*u,n[4]=m*c-d,n[8]=h*c+A,n[1]=l*f,n[5]=A*c+h,n[9]=d*c-m,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*c,m=a*l,A=a*c;n[0]=l*u,n[4]=A-h*f,n[8]=m*f+d,n[1]=f,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=d*f+m,n[10]=h-A*f}else if(e.order==="XZY"){const h=o*l,d=o*c,m=a*l,A=a*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=h*f+A,n[5]=o*u,n[9]=d*f-m,n[2]=m*f-d,n[6]=a*u,n[10]=A*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ore,e,Nre)}lookAt(e,n,r){const i=this.elements;return Ws.subVectors(e,n),Ws.lengthSq()===0&&(Ws.z=1),Ws.normalize(),_u.crossVectors(r,Ws),_u.lengthSq()===0&&(Math.abs(r.z)===1?Ws.x+=1e-4:Ws.z+=1e-4,Ws.normalize(),_u.crossVectors(r,Ws)),_u.normalize(),Zv.crossVectors(Ws,_u),i[0]=_u.x,i[4]=Zv.x,i[8]=Ws.x,i[1]=_u.y,i[5]=Zv.y,i[9]=Ws.y,i[2]=_u.z,i[6]=Zv.z,i[10]=Ws.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],h=r[9],d=r[13],m=r[2],A=r[6],v=r[10],y=r[14],_=r[3],x=r[7],E=r[11],b=r[15],w=i[0],T=i[4],C=i[8],I=i[12],B=i[1],R=i[5],L=i[9],z=i[13],O=i[2],G=i[6],j=i[10],J=i[14],N=i[3],V=i[7],Q=i[11],Z=i[15];return s[0]=o*w+a*B+l*O+c*N,s[4]=o*T+a*R+l*G+c*V,s[8]=o*C+a*L+l*j+c*Q,s[12]=o*I+a*z+l*J+c*Z,s[1]=u*w+f*B+h*O+d*N,s[5]=u*T+f*R+h*G+d*V,s[9]=u*C+f*L+h*j+d*Q,s[13]=u*I+f*z+h*J+d*Z,s[2]=m*w+A*B+v*O+y*N,s[6]=m*T+A*R+v*G+y*V,s[10]=m*C+A*L+v*j+y*Q,s[14]=m*I+A*z+v*J+y*Z,s[3]=_*w+x*B+E*O+b*N,s[7]=_*T+x*R+E*G+b*V,s[11]=_*C+x*L+E*j+b*Q,s[15]=_*I+x*z+E*J+b*Z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],d=e[14],m=e[3],A=e[7],v=e[11],y=e[15];return m*(+s*l*f-i*c*f-s*a*h+r*c*h+i*a*d-r*l*d)+A*(+n*l*d-n*c*h+s*o*h-i*o*d+i*c*u-s*l*u)+v*(+n*c*f-n*a*d-s*o*f+r*o*d+s*a*u-r*c*u)+y*(-i*a*u-n*l*f+n*a*h+i*o*f-r*o*h+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],m=e[12],A=e[13],v=e[14],y=e[15],_=f*v*c-A*h*c+A*l*d-a*v*d-f*l*y+a*h*y,x=m*h*c-u*v*c-m*l*d+o*v*d+u*l*y-o*h*y,E=u*A*c-m*f*c+m*a*d-o*A*d-u*a*y+o*f*y,b=m*f*l-u*A*l-m*a*h+o*A*h+u*a*v-o*f*v,w=n*_+r*x+i*E+s*b;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/w;return e[0]=_*T,e[1]=(A*h*s-f*v*s-A*i*d+r*v*d+f*i*y-r*h*y)*T,e[2]=(a*v*s-A*l*s+A*i*c-r*v*c-a*i*y+r*l*y)*T,e[3]=(f*l*s-a*h*s-f*i*c+r*h*c+a*i*d-r*l*d)*T,e[4]=x*T,e[5]=(u*v*s-m*h*s+m*i*d-n*v*d-u*i*y+n*h*y)*T,e[6]=(m*l*s-o*v*s-m*i*c+n*v*c+o*i*y-n*l*y)*T,e[7]=(o*h*s-u*l*s+u*i*c-n*h*c-o*i*d+n*l*d)*T,e[8]=E*T,e[9]=(m*f*s-u*A*s-m*r*d+n*A*d+u*r*y-n*f*y)*T,e[10]=(o*A*s-m*a*s+m*r*c-n*A*c-o*r*y+n*a*y)*T,e[11]=(u*a*s-o*f*s-u*r*c+n*f*c+o*r*d-n*a*d)*T,e[12]=b*T,e[13]=(u*A*i-m*f*i+m*r*h-n*A*h-u*r*v+n*f*v)*T,e[14]=(m*a*i-o*A*i-m*r*l+n*A*l+o*r*v-n*a*v)*T,e[15]=(o*f*i-u*a*i+u*r*l-n*f*l-o*r*h+n*a*h)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,f=a+a,h=s*c,d=s*u,m=s*f,A=o*u,v=o*f,y=a*f,_=l*c,x=l*u,E=l*f,b=r.x,w=r.y,T=r.z;return i[0]=(1-(A+y))*b,i[1]=(d+E)*b,i[2]=(m-x)*b,i[3]=0,i[4]=(d-E)*w,i[5]=(1-(h+y))*w,i[6]=(v+_)*w,i[7]=0,i[8]=(m+x)*T,i[9]=(v-_)*T,i[10]=(1-(h+A))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=fp.set(i[0],i[1],i[2]).length();const o=fp.set(i[4],i[5],i[6]).length(),a=fp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Aa.copy(this);const c=1/s,u=1/o,f=1/a;return Aa.elements[0]*=c,Aa.elements[1]*=c,Aa.elements[2]*=c,Aa.elements[4]*=u,Aa.elements[5]*=u,Aa.elements[6]*=u,Aa.elements[8]*=f,Aa.elements[9]*=f,Aa.elements[10]*=f,n.setFromRotationMatrix(Aa),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),c=2*s/(r-i),u=(n+e)/(n-e),f=(r+i)/(r-i),h=-(o+s)/(o-s),d=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),c=1/(r-i),u=1/(o-s),f=(n+e)*l,h=(r+i)*c,d=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const fp=new K,Aa=new dt,Ore=new K(0,0,0),Nre=new K(1,1,1),_u=new K,Zv=new K,Ws=new K,pD=new dt,mD=new Ri;class Tm{constructor(e=0,n=0,r=0,i=Tm.DefaultOrder){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],h=i[6],d=i[10];switch(n){case"XYZ":this._y=Math.asin(Nr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Nr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Nr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Nr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Nr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-Nr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return pD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pD,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return mD.setFromEuler(this),this.setFromQuaternion(mD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Tm.DefaultOrder="XYZ";Tm.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class td{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Ure=0;const gD=new K,hp=new Ri,oc=new dt,ey=new K,Ig=new K,Gre=new K,zre=new Ri,AD=new K(1,0,0),vD=new K(0,1,0),yD=new K(0,0,1),Qre={type:"added"},xD={type:"removed"};class hn extends qc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ure++}),this.uuid=io(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hn.DefaultUp.clone();const e=new K,n=new Tm,r=new Ri,i=new K(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dt},normalMatrix:{value:new fs}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=hn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=hn.DefaultMatrixWorldAutoUpdate,this.layers=new td,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return hp.setFromAxisAngle(e,n),this.quaternion.multiply(hp),this}rotateOnWorldAxis(e,n){return hp.setFromAxisAngle(e,n),this.quaternion.premultiply(hp),this}rotateX(e){return this.rotateOnAxis(AD,e)}rotateY(e){return this.rotateOnAxis(vD,e)}rotateZ(e){return this.rotateOnAxis(yD,e)}translateOnAxis(e,n){return gD.copy(e).applyQuaternion(this.quaternion),this.position.add(gD.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(AD,e)}translateY(e){return this.translateOnAxis(vD,e)}translateZ(e){return this.translateOnAxis(yD,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(oc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ey.copy(e):ey.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ig.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?oc.lookAt(Ig,ey,this.up):oc.lookAt(ey,Ig,this.up),this.quaternion.setFromRotationMatrix(oc),i&&(oc.extractRotation(i.matrixWorld),hp.setFromRotationMatrix(oc),this.quaternion.premultiply(hp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Qre)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(xD)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(xD)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),oc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),oc.multiply(e.parent.matrixWorld)),e.applyMatrix4(oc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,e,Gre),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,zre,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations),m=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}hn.DefaultUp=new K(0,1,0);hn.DefaultMatrixAutoUpdate=!0;hn.DefaultMatrixWorldAutoUpdate=!0;const va=new K,ac=new K,P9=new K,lc=new K,dp=new K,pp=new K,_D=new K,D9=new K,L9=new K,k9=new K;class zo{constructor(e=new K,n=new K,r=new K){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),va.subVectors(e,n),i.cross(va);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){va.subVectors(i,n),ac.subVectors(r,n),P9.subVectors(e,n);const o=va.dot(va),a=va.dot(ac),l=va.dot(P9),c=ac.dot(ac),u=ac.dot(P9),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,d=(c*l-a*u)*h,m=(o*u-a*l)*h;return s.set(1-d-m,m,d)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,lc),lc.x>=0&&lc.y>=0&&lc.x+lc.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,lc),l.set(0,0),l.addScaledVector(s,lc.x),l.addScaledVector(o,lc.y),l.addScaledVector(a,lc.z),l}static isFrontFacing(e,n,r,i){return va.subVectors(r,n),ac.subVectors(e,n),va.cross(ac).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return va.subVectors(this.c,this.b),ac.subVectors(this.a,this.b),va.cross(ac).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return zo.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return zo.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return zo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;dp.subVectors(i,r),pp.subVectors(s,r),D9.subVectors(e,r);const l=dp.dot(D9),c=pp.dot(D9);if(l<=0&&c<=0)return n.copy(r);L9.subVectors(e,i);const u=dp.dot(L9),f=pp.dot(L9);if(u>=0&&f<=u)return n.copy(i);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(dp,o);k9.subVectors(e,s);const d=dp.dot(k9),m=pp.dot(k9);if(m>=0&&d<=m)return n.copy(s);const A=d*c-l*m;if(A<=0&&c>=0&&m<=0)return a=c/(c-m),n.copy(r).addScaledVector(pp,a);const v=u*m-d*f;if(v<=0&&f-u>=0&&d-m>=0)return _D.subVectors(s,i),a=(f-u)/(f-u+(d-m)),n.copy(i).addScaledVector(_D,a);const y=1/(v+A+h);return o=A*y,a=h*y,n.copy(r).addScaledVector(dp,o).addScaledVector(pp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Hre=0;class Ur extends qc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Hre++}),this.uuid=io(),this.name="",this.type="Material",this.blending=bl,this.side=Ef,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=C1,this.blendDst=S1,this.blendEquation=Xs,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=R6,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=XH,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=D5,this.stencilZFail=D5,this.stencilZPass=D5,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==bl&&(r.blending=this.blending),this.side!==Ef&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class vi extends Ur{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=R2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vr=new K,ty=new Se;class xn{constructor(e,n,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r===!0,this.usage=k1,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)ty.fromBufferAttribute(this,n),ty.applyMatrix3(e),this.setXY(n,ty.x,ty.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyMatrix3(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyMatrix4(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyNormalMatrix(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.transformDirection(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Cc(n,this.array)),n}setX(e,n){return this.normalized&&(n=Nn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Cc(n,this.array)),n}setY(e,n){return this.normalized&&(n=Nn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Cc(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Nn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Cc(n,this.array)),n}setW(e,n){return this.normalized&&(n=Nn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Nn(n,this.array),r=Nn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Nn(n,this.array),r=Nn(r,this.array),i=Nn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Nn(n,this.array),r=Nn(r,this.array),i=Nn(i,this.array),s=Nn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==k1&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Vre extends xn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class $re extends xn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Wre extends xn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class jre extends xn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class gI extends xn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Kre extends xn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class m8 extends xn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Jre extends xn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class At extends xn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Yre extends xn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Xre=0;const Mo=new dt,F9=new hn,mp=new K,js=new $f,Tg=new $f,di=new K;class Ht extends qc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Xre++}),this.uuid=io(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ZH(e)?m8:gI)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new fs().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mo.makeRotationFromQuaternion(e),this.applyMatrix4(Mo),this}rotateX(e){return Mo.makeRotationX(e),this.applyMatrix4(Mo),this}rotateY(e){return Mo.makeRotationY(e),this.applyMatrix4(Mo),this}rotateZ(e){return Mo.makeRotationZ(e),this.applyMatrix4(Mo),this}translate(e,n,r){return Mo.makeTranslation(e,n,r),this.applyMatrix4(Mo),this}scale(e,n,r){return Mo.makeScale(e,n,r),this.applyMatrix4(Mo),this}lookAt(e){return F9.lookAt(e),F9.updateMatrix(),this.applyMatrix4(F9.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(mp).negate(),this.translate(mp.x,mp.y,mp.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new At(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $f);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];js.setFromBufferAttribute(s),this.morphTargetsRelative?(di.addVectors(this.boundingBox.min,js.min),this.boundingBox.expandByPoint(di),di.addVectors(this.boundingBox.max,js.max),this.boundingBox.expandByPoint(di)):(this.boundingBox.expandByPoint(js.min),this.boundingBox.expandByPoint(js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wf);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new K,1/0);return}if(e){const r=this.boundingSphere.center;if(js.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Tg.setFromBufferAttribute(a),this.morphTargetsRelative?(di.addVectors(js.min,Tg.min),js.expandByPoint(di),di.addVectors(js.max,Tg.max),js.expandByPoint(di)):(js.expandByPoint(Tg.min),js.expandByPoint(Tg.max))}js.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)di.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(di));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)di.fromBufferAttribute(a,c),l&&(mp.fromBufferAttribute(e,c),di.add(mp)),i=Math.max(i,r.distanceToSquared(di))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new xn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let B=0;B<a;B++)c[B]=new K,u[B]=new K;const f=new K,h=new K,d=new K,m=new Se,A=new Se,v=new Se,y=new K,_=new K;function x(B,R,L){f.fromArray(i,B*3),h.fromArray(i,R*3),d.fromArray(i,L*3),m.fromArray(o,B*2),A.fromArray(o,R*2),v.fromArray(o,L*2),h.sub(f),d.sub(f),A.sub(m),v.sub(m);const z=1/(A.x*v.y-v.x*A.y);isFinite(z)&&(y.copy(h).multiplyScalar(v.y).addScaledVector(d,-A.y).multiplyScalar(z),_.copy(d).multiplyScalar(A.x).addScaledVector(h,-v.x).multiplyScalar(z),c[B].add(y),c[R].add(y),c[L].add(y),u[B].add(_),u[R].add(_),u[L].add(_))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let B=0,R=E.length;B<R;++B){const L=E[B],z=L.start,O=L.count;for(let G=z,j=z+O;G<j;G+=3)x(r[G+0],r[G+1],r[G+2])}const b=new K,w=new K,T=new K,C=new K;function I(B){T.fromArray(s,B*3),C.copy(T);const R=c[B];b.copy(R),b.sub(T.multiplyScalar(T.dot(R))).normalize(),w.crossVectors(C,R);const z=w.dot(u[B])<0?-1:1;l[B*4]=b.x,l[B*4+1]=b.y,l[B*4+2]=b.z,l[B*4+3]=z}for(let B=0,R=E.length;B<R;++B){const L=E[B],z=L.start,O=L.count;for(let G=z,j=z+O;G<j;G+=3)I(r[G+0]),I(r[G+1]),I(r[G+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new xn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new K,s=new K,o=new K,a=new K,l=new K,c=new K,u=new K,f=new K;if(e)for(let h=0,d=e.count;h<d;h+=3){const m=e.getX(h+0),A=e.getX(h+1),v=e.getX(h+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,A),o.fromBufferAttribute(n,v),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,m),l.fromBufferAttribute(r,A),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(m,a.x,a.y,a.z),r.setXYZ(A,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let h=0,d=n.count;h<d;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(h+0,u.x,u.y,u.z),r.setXYZ(h+1,u.x,u.y,u.z),r.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)di.fromBufferAttribute(e,n),di.normalize(),e.setXYZ(n,di.x,di.y,di.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,h=new c.constructor(l.length*u);let d=0,m=0;for(let A=0,v=l.length;A<v;A++){a.isInterleavedBufferAttribute?d=l[A]*a.data.stride+a.offset:d=l[A]*u;for(let y=0;y<u;y++)h[m++]=c[d++]}return new xn(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ht,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=e(h,r);l.push(d)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f];u.push(d.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const ED=new dt,gp=new D2,O9=new Wf,Eu=new K,Cu=new K,Su=new K,N9=new K,U9=new K,G9=new K,ny=new K,ry=new K,iy=new K,sy=new Se,oy=new Se,ay=new Se,z9=new K,ly=new K;class bn extends hn{constructor(e=new Ht,n=new vi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),O9.copy(r.boundingSphere),O9.applyMatrix4(s),e.ray.intersectsSphere(O9)===!1)||(ED.copy(s).invert(),gp.copy(e.ray).applyMatrix4(ED),r.boundingBox!==null&&gp.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,f=r.attributes.uv,h=r.attributes.uv2,d=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let A=0,v=d.length;A<v;A++){const y=d[A],_=i[y.materialIndex],x=Math.max(y.start,m.start),E=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let b=x,w=E;b<w;b+=3){const T=a.getX(b),C=a.getX(b+1),I=a.getX(b+2);o=cy(this,_,e,gp,l,c,u,f,h,T,C,I),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const A=Math.max(0,m.start),v=Math.min(a.count,m.start+m.count);for(let y=A,_=v;y<_;y+=3){const x=a.getX(y),E=a.getX(y+1),b=a.getX(y+2);o=cy(this,i,e,gp,l,c,u,f,h,x,E,b),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let A=0,v=d.length;A<v;A++){const y=d[A],_=i[y.materialIndex],x=Math.max(y.start,m.start),E=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let b=x,w=E;b<w;b+=3){const T=b,C=b+1,I=b+2;o=cy(this,_,e,gp,l,c,u,f,h,T,C,I),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const A=Math.max(0,m.start),v=Math.min(l.count,m.start+m.count);for(let y=A,_=v;y<_;y+=3){const x=y,E=y+1,b=y+2;o=cy(this,i,e,gp,l,c,u,f,h,x,E,b),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}}}function qre(t,e,n,r,i,s,o,a){let l;if(e.side===Ps?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==$o,a),l===null)return null;ly.copy(a),ly.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(ly);return c<n.near||c>n.far?null:{distance:c,point:ly.clone(),object:t}}function cy(t,e,n,r,i,s,o,a,l,c,u,f){Eu.fromBufferAttribute(i,c),Cu.fromBufferAttribute(i,u),Su.fromBufferAttribute(i,f);const h=t.morphTargetInfluences;if(s&&h){ny.set(0,0,0),ry.set(0,0,0),iy.set(0,0,0);for(let m=0,A=s.length;m<A;m++){const v=h[m],y=s[m];v!==0&&(N9.fromBufferAttribute(y,c),U9.fromBufferAttribute(y,u),G9.fromBufferAttribute(y,f),o?(ny.addScaledVector(N9,v),ry.addScaledVector(U9,v),iy.addScaledVector(G9,v)):(ny.addScaledVector(N9.sub(Eu),v),ry.addScaledVector(U9.sub(Cu),v),iy.addScaledVector(G9.sub(Su),v)))}Eu.add(ny),Cu.add(ry),Su.add(iy)}t.isSkinnedMesh&&(t.boneTransform(c,Eu),t.boneTransform(u,Cu),t.boneTransform(f,Su));const d=qre(t,e,n,r,Eu,Cu,Su,z9);if(d){a&&(sy.fromBufferAttribute(a,c),oy.fromBufferAttribute(a,u),ay.fromBufferAttribute(a,f),d.uv=zo.getUV(z9,Eu,Cu,Su,sy,oy,ay,new Se)),l&&(sy.fromBufferAttribute(l,c),oy.fromBufferAttribute(l,u),ay.fromBufferAttribute(l,f),d.uv2=zo.getUV(z9,Eu,Cu,Su,sy,oy,ay,new Se));const m={a:c,b:u,c:f,normal:new K,materialIndex:0};zo.getNormal(Eu,Cu,Su,m.normal),d.face=m}return d}class Zc extends Ht{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,d=0;m("z","y","x",-1,-1,r,n,e,o,s,0),m("z","y","x",1,-1,r,n,-e,o,s,1),m("x","z","y",1,1,e,r,n,i,o,2),m("x","z","y",1,-1,e,r,-n,i,o,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new At(c,3)),this.setAttribute("normal",new At(u,3)),this.setAttribute("uv",new At(f,2));function m(A,v,y,_,x,E,b,w,T,C,I){const B=E/T,R=b/C,L=E/2,z=b/2,O=w/2,G=T+1,j=C+1;let J=0,N=0;const V=new K;for(let Q=0;Q<j;Q++){const Z=Q*R-z;for(let re=0;re<G;re++){const ge=re*B-L;V[A]=ge*_,V[v]=Z*x,V[y]=O,c.push(V.x,V.y,V.z),V[A]=0,V[v]=0,V[y]=w>0?1:-1,u.push(V.x,V.y,V.z),f.push(re/T),f.push(1-Q/C),J+=1}}for(let Q=0;Q<C;Q++)for(let Z=0;Z<T;Z++){const re=h+Z+G*Q,ge=h+Z+G*(Q+1),Ee=h+(Z+1)+G*(Q+1),be=h+(Z+1)+G*Q;l.push(re,ge,be),l.push(ge,Ee,be),N+=6}a.addGroup(d,N,I),d+=N,h+=J}}static fromJSON(e){return new Zc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function J0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function as(t){const e={};for(let n=0;n<t.length;n++){const r=J0(t[n]);for(const i in r)e[i]=r[i]}return e}function Zre(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}const pr={clone:J0,merge:as};var eie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fn extends Ur{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=eie,this.fragmentShader=tie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=J0(e.uniforms),this.uniformsGroups=Zre(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class L2 extends hn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class rr extends L2{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=F1*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Zh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return F1*2*Math.atan(Math.tan(Zh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Zh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ap=90,vp=1;class tV extends hn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new rr(Ap,vp,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new K(1,0,0)),this.add(i);const s=new rr(Ap,vp,e,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new K(-1,0,0)),this.add(s);const o=new rr(Ap,vp,e,n);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new K(0,1,0)),this.add(o);const a=new rr(Ap,vp,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new K(0,-1,0)),this.add(a);const l=new rr(Ap,vp,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new K(0,0,1)),this.add(l);const c=new rr(Ap,vp,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new K(0,0,-1)),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,h=e.xr.enabled;e.toneMapping=ro,e.xr.enabled=!1;const d=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=d,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class k2 extends qn{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Gc,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class AI extends Dn{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new k2(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Cn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Zc(5,5,5),s=new fn({name:"CubemapFromEquirect",uniforms:J0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ps,blending:rn});s.uniforms.tEquirect.value=n;const o=new bn(i,s),a=n.minFilter;return n.minFilter===za&&(n.minFilter=Cn),new tV(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const Q9=new K,nie=new K,rie=new fs;class Uo{constructor(e=new K(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Q9.subVectors(r,n).cross(nie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(Q9),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||rie.getNormalMatrix(e),i=this.coplanarPoint(Q9).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yp=new Wf,uy=new K;class g8{constructor(e=new Uo,n=new Uo,r=new Uo,i=new Uo,s=new Uo,o=new Uo){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],h=r[8],d=r[9],m=r[10],A=r[11],v=r[12],y=r[13],_=r[14],x=r[15];return n[0].setComponents(a-i,f-l,A-h,x-v).normalize(),n[1].setComponents(a+i,f+l,A+h,x+v).normalize(),n[2].setComponents(a+s,f+c,A+d,x+y).normalize(),n[3].setComponents(a-s,f-c,A-d,x-y).normalize(),n[4].setComponents(a-o,f-u,A-m,x-_).normalize(),n[5].setComponents(a+o,f+u,A+m,x+_).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),yp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(yp)}intersectsSprite(e){return yp.center.set(0,0,0),yp.radius=.7071067811865476,yp.applyMatrix4(e.matrixWorld),this.intersectsSphere(yp)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(uy.x=i.normal.x>0?e.max.x:e.min.x,uy.y=i.normal.y>0?e.max.y:e.min.y,uy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(uy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function nV(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function iie(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,h=c.usage,d=t.createBuffer();t.bindBuffer(u,d),t.bufferData(u,f,h),c.onUploadCallback();let m;if(f instanceof Float32Array)m=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(f instanceof Int16Array)m=5122;else if(f instanceof Uint32Array)m=5125;else if(f instanceof Int32Array)m=5124;else if(f instanceof Int8Array)m=5120;else if(f instanceof Uint8Array)m=5121;else if(f instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:d,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const h=u.array,d=u.updateRange;t.bindBuffer(f,c),d.count===-1?t.bufferSubData(f,0,h):(n?t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=r.get(c);(!h||h.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class Bd extends Ht{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,h=n/l,d=[],m=[],A=[],v=[];for(let y=0;y<u;y++){const _=y*h-o;for(let x=0;x<c;x++){const E=x*f-s;m.push(E,-_,0),A.push(0,0,1),v.push(x/a),v.push(1-y/l)}}for(let y=0;y<l;y++)for(let _=0;_<a;_++){const x=_+c*y,E=_+c*(y+1),b=_+1+c*(y+1),w=_+1+c*y;d.push(x,E,w),d.push(E,b,w)}this.setIndex(d),this.setAttribute("position",new At(m,3)),this.setAttribute("normal",new At(A,3)),this.setAttribute("uv",new At(v,2))}static fromJSON(e){return new Bd(e.width,e.height,e.widthSegments,e.heightSegments)}}var sie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,oie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aie=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,lie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,cie=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uie=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,fie="vec3 transformed = vec3( position );",hie=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,die=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,pie=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,mie=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,gie=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Aie=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,vie=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yie=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,xie=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_ie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Eie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Cie=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Sie=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,wie=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bie=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Iie=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Tie=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Mie=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Bie=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Rie="gl_FragColor = linearToOutputTexel( gl_FragColor );",Pie=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Die=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Lie=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kie=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Fie=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Oie=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Nie=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Uie=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Gie=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,zie=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Qie=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Hie=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Vie=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,$ie=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Wie=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,jie=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Kie=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Jie=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Yie=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Xie=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,qie=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Zie=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,ese=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,tse=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nse=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rse=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ise=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,sse=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ose=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ase=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,lse=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cse=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,use=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,fse=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hse=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dse=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,pse=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mse=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,gse=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Ase=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,vse=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,yse=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xse=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_se=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ese=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Cse=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Sse=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,wse=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,bse=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Ise=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Tse=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Mse=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Bse=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Rse=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Pse=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Dse=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Lse=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kse=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Fse=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ose=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Nse=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Use=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Gse=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,zse=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Qse=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Hse=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Vse=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$se=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Wse=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,jse=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Kse=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Jse=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Yse=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Xse=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,qse=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Zse=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,eoe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,toe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,noe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const roe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ioe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,soe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ooe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,loe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,coe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uoe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,foe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hoe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,doe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,poe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,moe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,goe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Aoe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,voe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yoe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xoe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_oe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Eoe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Coe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Soe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,woe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,boe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ioe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Toe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Moe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Boe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Roe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Poe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Doe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Loe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,koe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Foe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Zt={alphamap_fragment:sie,alphamap_pars_fragment:oie,alphatest_fragment:aie,alphatest_pars_fragment:lie,aomap_fragment:cie,aomap_pars_fragment:uie,begin_vertex:fie,beginnormal_vertex:hie,bsdfs:die,iridescence_fragment:pie,bumpmap_pars_fragment:mie,clipping_planes_fragment:gie,clipping_planes_pars_fragment:Aie,clipping_planes_pars_vertex:vie,clipping_planes_vertex:yie,color_fragment:xie,color_pars_fragment:_ie,color_pars_vertex:Eie,color_vertex:Cie,common:Sie,cube_uv_reflection_fragment:wie,defaultnormal_vertex:bie,displacementmap_pars_vertex:Iie,displacementmap_vertex:Tie,emissivemap_fragment:Mie,emissivemap_pars_fragment:Bie,encodings_fragment:Rie,encodings_pars_fragment:Pie,envmap_fragment:Die,envmap_common_pars_fragment:Lie,envmap_pars_fragment:kie,envmap_pars_vertex:Fie,envmap_physical_pars_fragment:Kie,envmap_vertex:Oie,fog_vertex:Nie,fog_pars_vertex:Uie,fog_fragment:Gie,fog_pars_fragment:zie,gradientmap_pars_fragment:Qie,lightmap_fragment:Hie,lightmap_pars_fragment:Vie,lights_lambert_fragment:$ie,lights_lambert_pars_fragment:Wie,lights_pars_begin:jie,lights_toon_fragment:Jie,lights_toon_pars_fragment:Yie,lights_phong_fragment:Xie,lights_phong_pars_fragment:qie,lights_physical_fragment:Zie,lights_physical_pars_fragment:ese,lights_fragment_begin:tse,lights_fragment_maps:nse,lights_fragment_end:rse,logdepthbuf_fragment:ise,logdepthbuf_pars_fragment:sse,logdepthbuf_pars_vertex:ose,logdepthbuf_vertex:ase,map_fragment:lse,map_pars_fragment:cse,map_particle_fragment:use,map_particle_pars_fragment:fse,metalnessmap_fragment:hse,metalnessmap_pars_fragment:dse,morphcolor_vertex:pse,morphnormal_vertex:mse,morphtarget_pars_vertex:gse,morphtarget_vertex:Ase,normal_fragment_begin:vse,normal_fragment_maps:yse,normal_pars_fragment:xse,normal_pars_vertex:_se,normal_vertex:Ese,normalmap_pars_fragment:Cse,clearcoat_normal_fragment_begin:Sse,clearcoat_normal_fragment_maps:wse,clearcoat_pars_fragment:bse,iridescence_pars_fragment:Ise,output_fragment:Tse,packing:Mse,premultiplied_alpha_fragment:Bse,project_vertex:Rse,dithering_fragment:Pse,dithering_pars_fragment:Dse,roughnessmap_fragment:Lse,roughnessmap_pars_fragment:kse,shadowmap_pars_fragment:Fse,shadowmap_pars_vertex:Ose,shadowmap_vertex:Nse,shadowmask_pars_fragment:Use,skinbase_vertex:Gse,skinning_pars_vertex:zse,skinning_vertex:Qse,skinnormal_vertex:Hse,specularmap_fragment:Vse,specularmap_pars_fragment:$se,tonemapping_fragment:Wse,tonemapping_pars_fragment:jse,transmission_fragment:Kse,transmission_pars_fragment:Jse,uv_pars_fragment:Yse,uv_pars_vertex:Xse,uv_vertex:qse,uv2_pars_fragment:Zse,uv2_pars_vertex:eoe,uv2_vertex:toe,worldpos_vertex:noe,background_vert:roe,background_frag:ioe,backgroundCube_vert:soe,backgroundCube_frag:ooe,cube_vert:aoe,cube_frag:loe,depth_vert:coe,depth_frag:uoe,distanceRGBA_vert:foe,distanceRGBA_frag:hoe,equirect_vert:doe,equirect_frag:poe,linedashed_vert:moe,linedashed_frag:goe,meshbasic_vert:Aoe,meshbasic_frag:voe,meshlambert_vert:yoe,meshlambert_frag:xoe,meshmatcap_vert:_oe,meshmatcap_frag:Eoe,meshnormal_vert:Coe,meshnormal_frag:Soe,meshphong_vert:woe,meshphong_frag:boe,meshphysical_vert:Ioe,meshphysical_frag:Toe,meshtoon_vert:Moe,meshtoon_frag:Boe,points_vert:Roe,points_frag:Poe,shadow_vert:Doe,shadow_frag:Loe,sprite_vert:koe,sprite_frag:Foe},qe={common:{diffuse:{value:new Ue(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new fs},uv2Transform:{value:new fs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Se(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ue(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ue(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fs}},sprite:{diffuse:{value:new Ue(16777215)},opacity:{value:1},center:{value:new Se(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fs}}},Sa={basic:{uniforms:as([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:Zt.meshbasic_vert,fragmentShader:Zt.meshbasic_frag},lambert:{uniforms:as([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new Ue(0)}}]),vertexShader:Zt.meshlambert_vert,fragmentShader:Zt.meshlambert_frag},phong:{uniforms:as([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new Ue(0)},specular:{value:new Ue(1118481)},shininess:{value:30}}]),vertexShader:Zt.meshphong_vert,fragmentShader:Zt.meshphong_frag},standard:{uniforms:as([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new Ue(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag},toon:{uniforms:as([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new Ue(0)}}]),vertexShader:Zt.meshtoon_vert,fragmentShader:Zt.meshtoon_frag},matcap:{uniforms:as([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:Zt.meshmatcap_vert,fragmentShader:Zt.meshmatcap_frag},points:{uniforms:as([qe.points,qe.fog]),vertexShader:Zt.points_vert,fragmentShader:Zt.points_frag},dashed:{uniforms:as([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zt.linedashed_vert,fragmentShader:Zt.linedashed_frag},depth:{uniforms:as([qe.common,qe.displacementmap]),vertexShader:Zt.depth_vert,fragmentShader:Zt.depth_frag},normal:{uniforms:as([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:Zt.meshnormal_vert,fragmentShader:Zt.meshnormal_frag},sprite:{uniforms:as([qe.sprite,qe.fog]),vertexShader:Zt.sprite_vert,fragmentShader:Zt.sprite_frag},background:{uniforms:{uvTransform:{value:new fs},t2D:{value:null}},vertexShader:Zt.background_vert,fragmentShader:Zt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:Zt.backgroundCube_vert,fragmentShader:Zt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Zt.cube_vert,fragmentShader:Zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zt.equirect_vert,fragmentShader:Zt.equirect_frag},distanceRGBA:{uniforms:as([qe.common,qe.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zt.distanceRGBA_vert,fragmentShader:Zt.distanceRGBA_frag},shadow:{uniforms:as([qe.lights,qe.fog,{color:{value:new Ue(0)},opacity:{value:1}}]),vertexShader:Zt.shadow_vert,fragmentShader:Zt.shadow_frag}};Sa.physical={uniforms:as([Sa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Se(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ue(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ue(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ue(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag};function Ooe(t,e,n,r,i,s,o){const a=new Ue(0);let l=s===!0?0:1,c,u,f=null,h=0,d=null;function m(v,y){let _=!1,x=y.isScene===!0?y.background:null;x&&x.isTexture&&(x=(y.backgroundBlurriness>0?n:e).get(x));const E=t.xr,b=E.getSession&&E.getSession();b&&b.environmentBlendMode==="additive"&&(x=null),x===null?A(a,l):x&&x.isColor&&(A(x,1),_=!0),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===bm)?(u===void 0&&(u=new bn(new Zc(1,1,1),new fn({name:"BackgroundCubeMaterial",uniforms:J0(Sa.backgroundCube.uniforms),vertexShader:Sa.backgroundCube.vertexShader,fragmentShader:Sa.backgroundCube.fragmentShader,side:Ps,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,T,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,(f!==x||h!==x.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=x,h=x.version,d=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new bn(new Bd(2,2),new fn({name:"BackgroundMaterial",uniforms:J0(Sa.background.uniforms),vertexShader:Sa.background.vertexShader,fragmentShader:Sa.background.fragmentShader,side:Ef,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||h!==x.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=x,h=x.version,d=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function A(v,y){r.buffers.color.setClear(v.r,v.g,v.b,y,o)}return{getClearColor:function(){return a},setClearColor:function(v,y=1){a.set(v),l=y,A(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,A(a,l)},render:m}}function Noe(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function f(O,G,j,J,N){let V=!1;if(o){const Q=A(J,j,G);c!==Q&&(c=Q,d(c.object)),V=y(O,J,j,N),V&&_(O,J,j,N)}else{const Q=G.wireframe===!0;(c.geometry!==J.id||c.program!==j.id||c.wireframe!==Q)&&(c.geometry=J.id,c.program=j.id,c.wireframe=Q,V=!0)}N!==null&&n.update(N,34963),(V||u)&&(u=!1,C(O,G,j,J),N!==null&&t.bindBuffer(34963,n.get(N).buffer))}function h(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function d(O){return r.isWebGL2?t.bindVertexArray(O):s.bindVertexArrayOES(O)}function m(O){return r.isWebGL2?t.deleteVertexArray(O):s.deleteVertexArrayOES(O)}function A(O,G,j){const J=j.wireframe===!0;let N=a[O.id];N===void 0&&(N={},a[O.id]=N);let V=N[G.id];V===void 0&&(V={},N[G.id]=V);let Q=V[J];return Q===void 0&&(Q=v(h()),V[J]=Q),Q}function v(O){const G=[],j=[],J=[];for(let N=0;N<i;N++)G[N]=0,j[N]=0,J[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:j,attributeDivisors:J,object:O,attributes:{},index:null}}function y(O,G,j,J){const N=c.attributes,V=G.attributes;let Q=0;const Z=j.getAttributes();for(const re in Z)if(Z[re].location>=0){const Ee=N[re];let be=V[re];if(be===void 0&&(re==="instanceMatrix"&&O.instanceMatrix&&(be=O.instanceMatrix),re==="instanceColor"&&O.instanceColor&&(be=O.instanceColor)),Ee===void 0||Ee.attribute!==be||be&&Ee.data!==be.data)return!0;Q++}return c.attributesNum!==Q||c.index!==J}function _(O,G,j,J){const N={},V=G.attributes;let Q=0;const Z=j.getAttributes();for(const re in Z)if(Z[re].location>=0){let Ee=V[re];Ee===void 0&&(re==="instanceMatrix"&&O.instanceMatrix&&(Ee=O.instanceMatrix),re==="instanceColor"&&O.instanceColor&&(Ee=O.instanceColor));const be={};be.attribute=Ee,Ee&&Ee.data&&(be.data=Ee.data),N[re]=be,Q++}c.attributes=N,c.attributesNum=Q,c.index=J}function x(){const O=c.newAttributes;for(let G=0,j=O.length;G<j;G++)O[G]=0}function E(O){b(O,0)}function b(O,G){const j=c.newAttributes,J=c.enabledAttributes,N=c.attributeDivisors;j[O]=1,J[O]===0&&(t.enableVertexAttribArray(O),J[O]=1),N[O]!==G&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,G),N[O]=G)}function w(){const O=c.newAttributes,G=c.enabledAttributes;for(let j=0,J=G.length;j<J;j++)G[j]!==O[j]&&(t.disableVertexAttribArray(j),G[j]=0)}function T(O,G,j,J,N,V){r.isWebGL2===!0&&(j===5124||j===5125)?t.vertexAttribIPointer(O,G,j,N,V):t.vertexAttribPointer(O,G,j,J,N,V)}function C(O,G,j,J){if(r.isWebGL2===!1&&(O.isInstancedMesh||J.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const N=J.attributes,V=j.getAttributes(),Q=G.defaultAttributeValues;for(const Z in V){const re=V[Z];if(re.location>=0){let ge=N[Z];if(ge===void 0&&(Z==="instanceMatrix"&&O.instanceMatrix&&(ge=O.instanceMatrix),Z==="instanceColor"&&O.instanceColor&&(ge=O.instanceColor)),ge!==void 0){const Ee=ge.normalized,be=ge.itemSize,oe=n.get(ge);if(oe===void 0)continue;const Fe=oe.buffer,he=oe.type,U=oe.bytesPerElement;if(ge.isInterleavedBufferAttribute){const W=ge.data,Y=W.stride,ie=ge.offset;if(W.isInstancedInterleavedBuffer){for(let te=0;te<re.locationSize;te++)b(re.location+te,W.meshPerAttribute);O.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let te=0;te<re.locationSize;te++)E(re.location+te);t.bindBuffer(34962,Fe);for(let te=0;te<re.locationSize;te++)T(re.location+te,be/re.locationSize,he,Ee,Y*U,(ie+be/re.locationSize*te)*U)}else{if(ge.isInstancedBufferAttribute){for(let W=0;W<re.locationSize;W++)b(re.location+W,ge.meshPerAttribute);O.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let W=0;W<re.locationSize;W++)E(re.location+W);t.bindBuffer(34962,Fe);for(let W=0;W<re.locationSize;W++)T(re.location+W,be/re.locationSize,he,Ee,be*U,be/re.locationSize*W*U)}}else if(Q!==void 0){const Ee=Q[Z];if(Ee!==void 0)switch(Ee.length){case 2:t.vertexAttrib2fv(re.location,Ee);break;case 3:t.vertexAttrib3fv(re.location,Ee);break;case 4:t.vertexAttrib4fv(re.location,Ee);break;default:t.vertexAttrib1fv(re.location,Ee)}}}}w()}function I(){L();for(const O in a){const G=a[O];for(const j in G){const J=G[j];for(const N in J)m(J[N].object),delete J[N];delete G[j]}delete a[O]}}function B(O){if(a[O.id]===void 0)return;const G=a[O.id];for(const j in G){const J=G[j];for(const N in J)m(J[N].object),delete J[N];delete G[j]}delete a[O.id]}function R(O){for(const G in a){const j=a[G];if(j[O.id]===void 0)continue;const J=j[O.id];for(const N in J)m(J[N].object),delete J[N];delete j[O.id]}}function L(){z(),u=!0,c!==l&&(c=l,d(c.object))}function z(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:L,resetDefaultState:z,dispose:I,releaseStatesOfGeometry:B,releaseStatesOfProgram:R,initAttributes:x,enableAttribute:E,disableUnusedAttributes:w}}function Uoe(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,f){if(f===0)return;let h,d;if(i)h=t,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[d](s,c,u,f),n.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function Goe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(34930),h=t.getParameter(35660),d=t.getParameter(3379),m=t.getParameter(34076),A=t.getParameter(34921),v=t.getParameter(36347),y=t.getParameter(36348),_=t.getParameter(36349),x=h>0,E=o||e.has("OES_texture_float"),b=x&&E,w=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:m,maxAttributes:A,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:_,vertexTextures:x,floatFragmentTextures:E,floatVertexTextures:b,maxSamples:w}}function zoe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Uo,a=new fs,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h,d){const m=f.length!==0||h||r!==0||i;return i=h,n=u(f,d,0),r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,h,d){const m=f.clippingPlanes,A=f.clipIntersection,v=f.clipShadows,y=t.get(f);if(!i||m===null||m.length===0||s&&!v)s?u(null):c();else{const _=s?0:r,x=_*4;let E=y.clippingState||null;l.value=E,E=u(m,h,x,d);for(let b=0;b!==x;++b)E[b]=n[b];y.clippingState=E,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,h,d,m){const A=f!==null?f.length:0;let v=null;if(A!==0){if(v=l.value,m!==!0||v===null){const y=d+A*4,_=h.matrixWorldInverse;a.getNormalMatrix(_),(v===null||v.length<y)&&(v=new Float32Array(y));for(let x=0,E=d;x!==A;++x,E+=4)o.copy(f[x]).applyMatrix4(_,a),o.normal.toArray(v,E),v[E+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,v}}function Qoe(t){let e=new WeakMap;function n(o,a){return a===W0?o.mapping=Gc:a===w1&&(o.mapping=Cf),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===W0||a===w1)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new AI(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class eu extends L2{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const r0=4,CD=[.125,.215,.35,.446,.526,.582],Lh=20,H9=new eu,SD=new Ue;let V9=null;const bh=(1+Math.sqrt(5))/2,xp=1/bh,wD=[new K(1,1,1),new K(-1,1,1),new K(1,1,-1),new K(-1,1,-1),new K(0,bh,xp),new K(0,bh,-xp),new K(xp,0,bh),new K(-xp,0,bh),new K(bh,xp,0),new K(-bh,xp,0)];class nS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){V9=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=TD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ID(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(V9),e.scissorTest=!1,fy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Gc||e.mapping===Cf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),V9=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Cn,minFilter:Cn,generateMipmaps:!1,type:wn,format:dr,encoding:wf,depthBuffer:!1},i=bD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bD(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Hoe(s)),this._blurMaterial=Voe(s,e,n)}return i}_compileMaterial(e){const n=new bn(this._lodPlanes[0],e);this._renderer.compile(n,H9)}_sceneToCubeUV(e,n,r,i){const a=new rr(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(SD),u.toneMapping=ro,u.autoClear=!1;const d=new vi({name:"PMREM.Background",side:Ps,depthWrite:!1,depthTest:!1}),m=new bn(new Zc,d);let A=!1;const v=e.background;v?v.isColor&&(d.color.copy(v),e.background=null,A=!0):(d.color.copy(SD),A=!0);for(let y=0;y<6;y++){const _=y%3;_===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):_===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const x=this._cubeSize;fy(i,_*x,y>2?x:0,x,x),u.setRenderTarget(i),A&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Gc||e.mapping===Cf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=TD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ID());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new bn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;fy(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,H9)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=wD[(i-1)%wD.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new bn(this._lodPlanes[i],c),h=c.uniforms,d=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Lh-1),A=s/m,v=isFinite(s)?1+Math.floor(u*A):Lh;v>Lh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Lh}`);const y=[];let _=0;for(let T=0;T<Lh;++T){const C=T/A,I=Math.exp(-C*C/2);y.push(I),T===0?_+=I:T<v&&(_+=2*I)}for(let T=0;T<y.length;T++)y[T]=y[T]/_;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=y,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:x}=this;h.dTheta.value=m,h.mipInt.value=x-r;const E=this._sizeLods[i],b=3*E*(i>x-r0?i-x+r0:0),w=4*(this._cubeSize-E);fy(n,b,w,3*E,2*E),l.setRenderTarget(n),l.render(f,H9)}}function Hoe(t){const e=[],n=[],r=[];let i=t;const s=t-r0+1+CD.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-r0?l=CD[o-t+r0-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,m=6,A=3,v=2,y=1,_=new Float32Array(A*m*d),x=new Float32Array(v*m*d),E=new Float32Array(y*m*d);for(let w=0;w<d;w++){const T=w%3*2/3-1,C=w>2?0:-1,I=[T,C,0,T+2/3,C,0,T+2/3,C+1,0,T,C,0,T+2/3,C+1,0,T,C+1,0];_.set(I,A*m*w),x.set(h,v*m*w);const B=[w,w,w,w,w,w];E.set(B,y*m*w)}const b=new Ht;b.setAttribute("position",new xn(_,A)),b.setAttribute("uv",new xn(x,v)),b.setAttribute("faceIndex",new xn(E,y)),e.push(b),i>r0&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function bD(t,e,n){const r=new Dn(t,e,n);return r.texture.mapping=bm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function fy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Voe(t,e,n){const r=new Float32Array(Lh),i=new K(0,1,0);return new fn({name:"SphericalGaussianBlur",defines:{n:Lh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:vI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:rn,depthTest:!1,depthWrite:!1})}function ID(){return new fn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:rn,depthTest:!1,depthWrite:!1})}function TD(){return new fn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:rn,depthTest:!1,depthWrite:!1})}function vI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $oe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===W0||l===w1,u=l===Gc||l===Cf;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new nS(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new nS(t));const h=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Woe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function joe(t,e,n,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",o),delete i[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const m in h)e.update(h[m],34962);const d=f.morphAttributes;for(const m in d){const A=d[m];for(let v=0,y=A.length;v<y;v++)e.update(A[v],34962)}}function c(f){const h=[],d=f.index,m=f.attributes.position;let A=0;if(d!==null){const _=d.array;A=d.version;for(let x=0,E=_.length;x<E;x+=3){const b=_[x+0],w=_[x+1],T=_[x+2];h.push(b,w,w,T,T,b)}}else{const _=m.array;A=m.version;for(let x=0,E=_.length/3-1;x<E;x+=3){const b=x+0,w=x+1,T=x+2;h.push(b,w,w,T,T,b)}}const v=new(ZH(h)?m8:gI)(h,1);v.version=A;const y=s.get(f);y&&e.remove(y),s.set(f,v)}function u(f){const h=s.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function Koe(t,e,n,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,d){t.drawElements(s,d,a,h*l),n.update(d,s,1)}function f(h,d,m){if(m===0)return;let A,v;if(i)A=t,v="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[v](s,d,a,h*l,m),n.update(d,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function Joe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Yoe(t,e){return t[0]-e[0]}function Xoe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function qoe(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new sn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f,h){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,A=m!==void 0?m.length:0;let v=s.get(u);if(v===void 0||v.count!==A){let G=function(){z.dispose(),s.delete(u),u.removeEventListener("dispose",G)};v!==void 0&&v.texture.dispose();const x=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,b=u.morphAttributes.color!==void 0,w=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let I=0;x===!0&&(I=1),E===!0&&(I=2),b===!0&&(I=3);let B=u.attributes.position.count*I,R=1;B>e.maxTextureSize&&(R=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const L=new Float32Array(B*R*4*A),z=new P2(L,B,R,A);z.type=Yr,z.needsUpdate=!0;const O=I*4;for(let j=0;j<A;j++){const J=w[j],N=T[j],V=C[j],Q=B*R*4*j;for(let Z=0;Z<J.count;Z++){const re=Z*O;x===!0&&(o.fromBufferAttribute(J,Z),L[Q+re+0]=o.x,L[Q+re+1]=o.y,L[Q+re+2]=o.z,L[Q+re+3]=0),E===!0&&(o.fromBufferAttribute(N,Z),L[Q+re+4]=o.x,L[Q+re+5]=o.y,L[Q+re+6]=o.z,L[Q+re+7]=0),b===!0&&(o.fromBufferAttribute(V,Z),L[Q+re+8]=o.x,L[Q+re+9]=o.y,L[Q+re+10]=o.z,L[Q+re+11]=V.itemSize===4?o.w:1)}}v={count:A,texture:z,size:new Se(B,R)},s.set(u,v),u.addEventListener("dispose",G)}let y=0;for(let x=0;x<d.length;x++)y+=d[x];const _=u.morphTargetsRelative?1:1-y;h.getUniforms().setValue(t,"morphTargetBaseInfluence",_),h.getUniforms().setValue(t,"morphTargetInfluences",d),h.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}else{const m=d===void 0?0:d.length;let A=r[u.id];if(A===void 0||A.length!==m){A=[];for(let E=0;E<m;E++)A[E]=[E,0];r[u.id]=A}for(let E=0;E<m;E++){const b=A[E];b[0]=E,b[1]=d[E]}A.sort(Xoe);for(let E=0;E<8;E++)E<m&&A[E][1]?(a[E][0]=A[E][0],a[E][1]=A[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Yoe);const v=u.morphAttributes.position,y=u.morphAttributes.normal;let _=0;for(let E=0;E<8;E++){const b=a[E],w=b[0],T=b[1];w!==Number.MAX_SAFE_INTEGER&&T?(v&&u.getAttribute("morphTarget"+E)!==v[w]&&u.setAttribute("morphTarget"+E,v[w]),y&&u.getAttribute("morphNormal"+E)!==y[w]&&u.setAttribute("morphNormal"+E,y[w]),i[E]=T,_+=T):(v&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),y&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),i[E]=0)}const x=u.morphTargetsRelative?1:1-_;h.getUniforms().setValue(t,"morphTargetBaseInfluence",x),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Zoe(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const rV=new qn,iV=new P2,sV=new p8,oV=new k2,MD=[],BD=[],RD=new Float32Array(16),PD=new Float32Array(9),DD=new Float32Array(4);function Mm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=MD[i];if(s===void 0&&(s=new Float32Array(i),MD[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function ai(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function li(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function A8(t,e){let n=BD[e];n===void 0&&(n=new Int32Array(e),BD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function eae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function tae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ai(n,e))return;t.uniform2fv(this.addr,e),li(n,e)}}function nae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ai(n,e))return;t.uniform3fv(this.addr,e),li(n,e)}}function rae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ai(n,e))return;t.uniform4fv(this.addr,e),li(n,e)}}function iae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ai(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),li(n,e)}else{if(ai(n,r))return;DD.set(r),t.uniformMatrix2fv(this.addr,!1,DD),li(n,r)}}function sae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ai(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),li(n,e)}else{if(ai(n,r))return;PD.set(r),t.uniformMatrix3fv(this.addr,!1,PD),li(n,r)}}function oae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ai(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),li(n,e)}else{if(ai(n,r))return;RD.set(r),t.uniformMatrix4fv(this.addr,!1,RD),li(n,r)}}function aae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function lae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ai(n,e))return;t.uniform2iv(this.addr,e),li(n,e)}}function cae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ai(n,e))return;t.uniform3iv(this.addr,e),li(n,e)}}function uae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ai(n,e))return;t.uniform4iv(this.addr,e),li(n,e)}}function fae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function hae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ai(n,e))return;t.uniform2uiv(this.addr,e),li(n,e)}}function dae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ai(n,e))return;t.uniform3uiv(this.addr,e),li(n,e)}}function pae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ai(n,e))return;t.uniform4uiv(this.addr,e),li(n,e)}}function mae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||rV,i)}function gae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||sV,i)}function Aae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||oV,i)}function vae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||iV,i)}function yae(t){switch(t){case 5126:return eae;case 35664:return tae;case 35665:return nae;case 35666:return rae;case 35674:return iae;case 35675:return sae;case 35676:return oae;case 5124:case 35670:return aae;case 35667:case 35671:return lae;case 35668:case 35672:return cae;case 35669:case 35673:return uae;case 5125:return fae;case 36294:return hae;case 36295:return dae;case 36296:return pae;case 35678:case 36198:case 36298:case 36306:case 35682:return mae;case 35679:case 36299:case 36307:return gae;case 35680:case 36300:case 36308:case 36293:return Aae;case 36289:case 36303:case 36311:case 36292:return vae}}function xae(t,e){t.uniform1fv(this.addr,e)}function _ae(t,e){const n=Mm(e,this.size,2);t.uniform2fv(this.addr,n)}function Eae(t,e){const n=Mm(e,this.size,3);t.uniform3fv(this.addr,n)}function Cae(t,e){const n=Mm(e,this.size,4);t.uniform4fv(this.addr,n)}function Sae(t,e){const n=Mm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function wae(t,e){const n=Mm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function bae(t,e){const n=Mm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Iae(t,e){t.uniform1iv(this.addr,e)}function Tae(t,e){t.uniform2iv(this.addr,e)}function Mae(t,e){t.uniform3iv(this.addr,e)}function Bae(t,e){t.uniform4iv(this.addr,e)}function Rae(t,e){t.uniform1uiv(this.addr,e)}function Pae(t,e){t.uniform2uiv(this.addr,e)}function Dae(t,e){t.uniform3uiv(this.addr,e)}function Lae(t,e){t.uniform4uiv(this.addr,e)}function kae(t,e,n){const r=this.cache,i=e.length,s=A8(n,i);ai(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||rV,s[o])}function Fae(t,e,n){const r=this.cache,i=e.length,s=A8(n,i);ai(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||sV,s[o])}function Oae(t,e,n){const r=this.cache,i=e.length,s=A8(n,i);ai(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||oV,s[o])}function Nae(t,e,n){const r=this.cache,i=e.length,s=A8(n,i);ai(r,s)||(t.uniform1iv(this.addr,s),li(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||iV,s[o])}function Uae(t){switch(t){case 5126:return xae;case 35664:return _ae;case 35665:return Eae;case 35666:return Cae;case 35674:return Sae;case 35675:return wae;case 35676:return bae;case 5124:case 35670:return Iae;case 35667:case 35671:return Tae;case 35668:case 35672:return Mae;case 35669:case 35673:return Bae;case 5125:return Rae;case 36294:return Pae;case 36295:return Dae;case 36296:return Lae;case 35678:case 36198:case 36298:case 36306:case 35682:return kae;case 35679:case 36299:case 36307:return Fae;case 35680:case 36300:case 36308:case 36293:return Oae;case 36289:case 36303:case 36311:case 36292:return Nae}}class Gae{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=yae(n.type)}}class zae{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=Uae(n.type)}}class Qae{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const $9=/(\w+)(\])?(\[|\.)?/g;function LD(t,e){t.seq.push(e),t.map[e.id]=e}function Hae(t,e,n){const r=t.name,i=r.length;for($9.lastIndex=0;;){const s=$9.exec(r),o=$9.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){LD(n,c===void 0?new Gae(a,t,e):new zae(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new Qae(a),LD(n,f)),n=f}}}class F5{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Hae(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function kD(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Vae=0;function $ae(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function Wae(t){switch(t){case wf:return["Linear","( value )"];case ar:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function FD(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+$ae(t.getShaderSource(e),o)}else return i}function jae(t,e){const n=Wae(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Kae(t,e){let n;switch(e){case BH:n="Linear";break;case RH:n="Reinhard";break;case PH:n="OptimizedCineon";break;case cI:n="ACESFilmic";break;case DH:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Jae(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(c3).join(`
`)}function Yae(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Xae(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function c3(t){return t!==""}function OD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ND(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qae=/^[ \t]*#include +<([\w\d./]+)>/gm;function rS(t){return t.replace(qae,Zae)}function Zae(t,e){const n=Zt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return rS(n)}const ele=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UD(t){return t.replace(ele,tle)}function tle(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function GD(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function nle(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===a8?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===B3?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Uh&&(e="SHADOWMAP_TYPE_VSM"),e}function rle(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Gc:case Cf:e="ENVMAP_TYPE_CUBE";break;case bm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ile(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Cf:e="ENVMAP_MODE_REFRACTION";break}return e}function sle(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case R2:e="ENVMAP_BLENDING_MULTIPLY";break;case TH:e="ENVMAP_BLENDING_MIX";break;case MH:e="ENVMAP_BLENDING_ADD";break}return e}function ole(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function ale(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=nle(n),c=rle(n),u=ile(n),f=sle(n),h=ole(n),d=n.isWebGL2?"":Jae(n),m=Yae(s),A=i.createProgram();let v,y,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=[m].filter(c3).join(`
`),v.length>0&&(v+=`
`),y=[d,m].filter(c3).join(`
`),y.length>0&&(y+=`
`)):(v=[GD(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(c3).join(`
`),y=[d,GD(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ro?"#define TONE_MAPPING":"",n.toneMapping!==ro?Zt.tonemapping_pars_fragment:"",n.toneMapping!==ro?Kae("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Zt.encodings_pars_fragment,jae("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(c3).join(`
`)),o=rS(o),o=OD(o,n),o=ND(o,n),a=rS(a),a=OD(a,n),a=ND(a,n),o=UD(o),a=UD(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,y=["#define varying in",n.glslVersion===eS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===eS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const x=_+v+o,E=_+y+a,b=kD(i,35633,x),w=kD(i,35632,E);if(i.attachShader(A,b),i.attachShader(A,w),n.index0AttributeName!==void 0?i.bindAttribLocation(A,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(A,0,"position"),i.linkProgram(A),t.debug.checkShaderErrors){const I=i.getProgramInfoLog(A).trim(),B=i.getShaderInfoLog(b).trim(),R=i.getShaderInfoLog(w).trim();let L=!0,z=!0;if(i.getProgramParameter(A,35714)===!1){L=!1;const O=FD(i,b,"vertex"),G=FD(i,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(A,35715)+`

Program Info Log: `+I+`
`+O+`
`+G)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(B===""||R==="")&&(z=!1);z&&(this.diagnostics={runnable:L,programLog:I,vertexShader:{log:B,prefix:v},fragmentShader:{log:R,prefix:y}})}i.deleteShader(b),i.deleteShader(w);let T;this.getUniforms=function(){return T===void 0&&(T=new F5(i,A)),T};let C;return this.getAttributes=function(){return C===void 0&&(C=Xae(i,A)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(A),this.program=void 0},this.name=n.shaderName,this.id=Vae++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=b,this.fragmentShader=w,this}let lle=0;class cle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new ule(e),n.set(e,r)),r}}class ule{constructor(e){this.id=lle++,this.code=e,this.usedTimes=0}}function fle(t,e,n,r,i,s,o){const a=new td,l=new cle,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(C,I,B,R,L){const z=R.fog,O=L.geometry,G=C.isMeshStandardMaterial?R.environment:null,j=(C.isMeshStandardMaterial?n:e).get(C.envMap||G),J=j&&j.mapping===bm?j.image.height:null,N=m[C.type];C.precision!==null&&(d=i.getMaxPrecision(C.precision),d!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",d,"instead."));const V=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,Q=V!==void 0?V.length:0;let Z=0;O.morphAttributes.position!==void 0&&(Z=1),O.morphAttributes.normal!==void 0&&(Z=2),O.morphAttributes.color!==void 0&&(Z=3);let re,ge,Ee,be;if(N){const Y=Sa[N];re=Y.vertexShader,ge=Y.fragmentShader}else re=C.vertexShader,ge=C.fragmentShader,l.update(C),Ee=l.getVertexShaderID(C),be=l.getFragmentShaderID(C);const oe=t.getRenderTarget(),Fe=C.alphaTest>0,he=C.clearcoat>0,U=C.iridescence>0;return{isWebGL2:u,shaderID:N,shaderName:C.type,vertexShader:re,fragmentShader:ge,defines:C.defines,customVertexShaderID:Ee,customFragmentShaderID:be,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:d,instancing:L.isInstancedMesh===!0,instancingColor:L.isInstancedMesh===!0&&L.instanceColor!==null,supportsVertexTextures:h,outputEncoding:oe===null?t.outputEncoding:oe.isXRRenderTarget===!0?oe.texture.encoding:wf,map:!!C.map,matcap:!!C.matcap,envMap:!!j,envMapMode:j&&j.mapping,envMapCubeUVHeight:J,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===YH,tangentSpaceNormalMap:C.normalMapType===Vf,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===ar,clearcoat:he,clearcoatMap:he&&!!C.clearcoatMap,clearcoatRoughnessMap:he&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!C.clearcoatNormalMap,iridescence:U,iridescenceMap:U&&!!C.iridescenceMap,iridescenceThicknessMap:U&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===bl,alphaMap:!!C.alphaMap,alphaTest:Fe,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!O.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!z,useFog:C.fog===!0,fogExp2:z&&z.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:f,skinning:L.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:Z,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:C.toneMapped?t.toneMapping:ro,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===$o,flipSided:C.side===Ps,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const I=[];if(C.shaderID?I.push(C.shaderID):(I.push(C.customVertexShaderID),I.push(C.customFragmentShaderID)),C.defines!==void 0)for(const B in C.defines)I.push(B),I.push(C.defines[B]);return C.isRawShaderMaterial===!1&&(y(I,C),_(I,C),I.push(t.outputEncoding)),I.push(C.customProgramCacheKey),I.join()}function y(C,I){C.push(I.precision),C.push(I.outputEncoding),C.push(I.envMapMode),C.push(I.envMapCubeUVHeight),C.push(I.combine),C.push(I.vertexUvs),C.push(I.fogExp2),C.push(I.sizeAttenuation),C.push(I.morphTargetsCount),C.push(I.morphAttributeCount),C.push(I.numDirLights),C.push(I.numPointLights),C.push(I.numSpotLights),C.push(I.numSpotLightMaps),C.push(I.numHemiLights),C.push(I.numRectAreaLights),C.push(I.numDirLightShadows),C.push(I.numPointLightShadows),C.push(I.numSpotLightShadows),C.push(I.numSpotLightShadowsWithMaps),C.push(I.shadowMapType),C.push(I.toneMapping),C.push(I.numClippingPlanes),C.push(I.numClipIntersection),C.push(I.depthPacking)}function _(C,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.map&&a.enable(4),I.matcap&&a.enable(5),I.envMap&&a.enable(6),I.lightMap&&a.enable(7),I.aoMap&&a.enable(8),I.emissiveMap&&a.enable(9),I.bumpMap&&a.enable(10),I.normalMap&&a.enable(11),I.objectSpaceNormalMap&&a.enable(12),I.tangentSpaceNormalMap&&a.enable(13),I.clearcoat&&a.enable(14),I.clearcoatMap&&a.enable(15),I.clearcoatRoughnessMap&&a.enable(16),I.clearcoatNormalMap&&a.enable(17),I.iridescence&&a.enable(18),I.iridescenceMap&&a.enable(19),I.iridescenceThicknessMap&&a.enable(20),I.displacementMap&&a.enable(21),I.specularMap&&a.enable(22),I.roughnessMap&&a.enable(23),I.metalnessMap&&a.enable(24),I.gradientMap&&a.enable(25),I.alphaMap&&a.enable(26),I.alphaTest&&a.enable(27),I.vertexColors&&a.enable(28),I.vertexAlphas&&a.enable(29),I.vertexUvs&&a.enable(30),I.vertexTangents&&a.enable(31),I.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.physicallyCorrectLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.specularIntensityMap&&a.enable(15),I.specularColorMap&&a.enable(16),I.transmission&&a.enable(17),I.transmissionMap&&a.enable(18),I.thicknessMap&&a.enable(19),I.sheen&&a.enable(20),I.sheenColorMap&&a.enable(21),I.sheenRoughnessMap&&a.enable(22),I.decodeVideoTexture&&a.enable(23),I.opaque&&a.enable(24),C.push(a.mask)}function x(C){const I=m[C.type];let B;if(I){const R=Sa[I];B=pr.clone(R.uniforms)}else B=C.uniforms;return B}function E(C,I){let B;for(let R=0,L=c.length;R<L;R++){const z=c[R];if(z.cacheKey===I){B=z,++B.usedTimes;break}}return B===void 0&&(B=new ale(t,I,C,s),c.push(B)),B}function b(C){if(--C.usedTimes===0){const I=c.indexOf(C);c[I]=c[c.length-1],c.pop(),C.destroy()}}function w(C){l.remove(C)}function T(){l.dispose()}return{getParameters:A,getProgramCacheKey:v,getUniforms:x,acquireProgram:E,releaseProgram:b,releaseShaderCache:w,programs:c,dispose:T}}function hle(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function dle(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function zD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function QD(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,d,m,A,v){let y=t[e];return y===void 0?(y={id:f.id,object:f,geometry:h,material:d,groupOrder:m,renderOrder:f.renderOrder,z:A,group:v},t[e]=y):(y.id=f.id,y.object=f,y.geometry=h,y.material=d,y.groupOrder=m,y.renderOrder=f.renderOrder,y.z=A,y.group=v),e++,y}function a(f,h,d,m,A,v){const y=o(f,h,d,m,A,v);d.transmission>0?r.push(y):d.transparent===!0?i.push(y):n.push(y)}function l(f,h,d,m,A,v){const y=o(f,h,d,m,A,v);d.transmission>0?r.unshift(y):d.transparent===!0?i.unshift(y):n.unshift(y)}function c(f,h){n.length>1&&n.sort(f||dle),r.length>1&&r.sort(h||zD),i.length>1&&i.sort(h||zD)}function u(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function ple(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new QD,t.set(r,[o])):i>=s.length?(o=new QD,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function mle(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new K,color:new Ue};break;case"SpotLight":n={position:new K,direction:new K,color:new Ue,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new K,color:new Ue,distance:0,decay:0};break;case"HemisphereLight":n={direction:new K,skyColor:new Ue,groundColor:new Ue};break;case"RectAreaLight":n={color:new Ue,position:new K,halfWidth:new K,halfHeight:new K};break}return t[e.id]=n,n}}}function gle(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Ale=0;function vle(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function yle(t,e){const n=new mle,r=gle(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new K);const s=new K,o=new dt,a=new dt;function l(u,f){let h=0,d=0,m=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let A=0,v=0,y=0,_=0,x=0,E=0,b=0,w=0,T=0,C=0;u.sort(vle);const I=f!==!0?Math.PI:1;for(let R=0,L=u.length;R<L;R++){const z=u[R],O=z.color,G=z.intensity,j=z.distance,J=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)h+=O.r*G*I,d+=O.g*G*I,m+=O.b*G*I;else if(z.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(z.sh.coefficients[N],G);else if(z.isDirectionalLight){const N=n.get(z);if(N.color.copy(z.color).multiplyScalar(z.intensity*I),z.castShadow){const V=z.shadow,Q=r.get(z);Q.shadowBias=V.bias,Q.shadowNormalBias=V.normalBias,Q.shadowRadius=V.radius,Q.shadowMapSize=V.mapSize,i.directionalShadow[A]=Q,i.directionalShadowMap[A]=J,i.directionalShadowMatrix[A]=z.shadow.matrix,E++}i.directional[A]=N,A++}else if(z.isSpotLight){const N=n.get(z);N.position.setFromMatrixPosition(z.matrixWorld),N.color.copy(O).multiplyScalar(G*I),N.distance=j,N.coneCos=Math.cos(z.angle),N.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),N.decay=z.decay,i.spot[y]=N;const V=z.shadow;if(z.map&&(i.spotLightMap[T]=z.map,T++,V.updateMatrices(z),z.castShadow&&C++),i.spotLightMatrix[y]=V.matrix,z.castShadow){const Q=r.get(z);Q.shadowBias=V.bias,Q.shadowNormalBias=V.normalBias,Q.shadowRadius=V.radius,Q.shadowMapSize=V.mapSize,i.spotShadow[y]=Q,i.spotShadowMap[y]=J,w++}y++}else if(z.isRectAreaLight){const N=n.get(z);N.color.copy(O).multiplyScalar(G),N.halfWidth.set(z.width*.5,0,0),N.halfHeight.set(0,z.height*.5,0),i.rectArea[_]=N,_++}else if(z.isPointLight){const N=n.get(z);if(N.color.copy(z.color).multiplyScalar(z.intensity*I),N.distance=z.distance,N.decay=z.decay,z.castShadow){const V=z.shadow,Q=r.get(z);Q.shadowBias=V.bias,Q.shadowNormalBias=V.normalBias,Q.shadowRadius=V.radius,Q.shadowMapSize=V.mapSize,Q.shadowCameraNear=V.camera.near,Q.shadowCameraFar=V.camera.far,i.pointShadow[v]=Q,i.pointShadowMap[v]=J,i.pointShadowMatrix[v]=z.shadow.matrix,b++}i.point[v]=N,v++}else if(z.isHemisphereLight){const N=n.get(z);N.skyColor.copy(z.color).multiplyScalar(G*I),N.groundColor.copy(z.groundColor).multiplyScalar(G*I),i.hemi[x]=N,x++}}_>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=qe.LTC_FLOAT_1,i.rectAreaLTC2=qe.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=qe.LTC_HALF_1,i.rectAreaLTC2=qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=m;const B=i.hash;(B.directionalLength!==A||B.pointLength!==v||B.spotLength!==y||B.rectAreaLength!==_||B.hemiLength!==x||B.numDirectionalShadows!==E||B.numPointShadows!==b||B.numSpotShadows!==w||B.numSpotMaps!==T)&&(i.directional.length=A,i.spot.length=y,i.rectArea.length=_,i.point.length=v,i.hemi.length=x,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=w+T-C,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=C,B.directionalLength=A,B.pointLength=v,B.spotLength=y,B.rectAreaLength=_,B.hemiLength=x,B.numDirectionalShadows=E,B.numPointShadows=b,B.numSpotShadows=w,B.numSpotMaps=T,i.version=Ale++)}function c(u,f){let h=0,d=0,m=0,A=0,v=0;const y=f.matrixWorldInverse;for(let _=0,x=u.length;_<x;_++){const E=u[_];if(E.isDirectionalLight){const b=i.directional[h];b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(y),h++}else if(E.isSpotLight){const b=i.spot[m];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(y),b.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(y),m++}else if(E.isRectAreaLight){const b=i.rectArea[A];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(y),a.identity(),o.copy(E.matrixWorld),o.premultiply(y),a.extractRotation(o),b.halfWidth.set(E.width*.5,0,0),b.halfHeight.set(0,E.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),A++}else if(E.isPointLight){const b=i.point[d];b.position.setFromMatrixPosition(E.matrixWorld),b.position.applyMatrix4(y),d++}else if(E.isHemisphereLight){const b=i.hemi[v];b.direction.setFromMatrixPosition(E.matrixWorld),b.direction.transformDirection(y),v++}}}return{setup:l,setupView:c,state:i}}function HD(t,e){const n=new yle(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function xle(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new HD(t,e),n.set(s,[l])):o>=a.length?(l=new HD(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class v8 extends Ur{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=JH,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yI extends Ur{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new K,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const _le=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ele=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Cle(t,e,n){let r=new g8;const i=new Se,s=new Se,o=new sn,a=new v8({depthPacking:dI}),l=new yI,c={},u=n.maxTextureSize,f={0:Ps,1:Ef,2:$o},h=new fn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Se},radius:{value:4}},vertexShader:_le,fragmentShader:Ele}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const m=new Ht;m.setAttribute("position",new xn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new bn(m,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=a8,this.render=function(E,b,w){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||E.length===0)return;const T=t.getRenderTarget(),C=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),B=t.state;B.setBlending(rn),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);for(let R=0,L=E.length;R<L;R++){const z=E[R],O=z.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;i.copy(O.mapSize);const G=O.getFrameExtents();if(i.multiply(G),s.copy(O.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/G.x),i.x=s.x*G.x,O.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/G.y),i.y=s.y*G.y,O.mapSize.y=s.y)),O.map===null){const J=this.type!==Uh?{minFilter:Qt,magFilter:Qt}:{};O.map=new Dn(i.x,i.y,J),O.map.texture.name=z.name+".shadowMap",O.camera.updateProjectionMatrix()}t.setRenderTarget(O.map),t.clear();const j=O.getViewportCount();for(let J=0;J<j;J++){const N=O.getViewport(J);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),B.viewport(o),O.updateMatrices(z,J),r=O.getFrustum(),x(b,w,O.camera,z,this.type)}O.isPointLightShadow!==!0&&this.type===Uh&&y(O,w),O.needsUpdate=!1}v.needsUpdate=!1,t.setRenderTarget(T,C,I)};function y(E,b){const w=e.update(A);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,d.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Dn(i.x,i.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(b,null,w,h,A,null),d.uniforms.shadow_pass.value=E.mapPass.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(b,null,w,d,A,null)}function _(E,b,w,T,C,I){let B=null;const R=w.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(R!==void 0?B=R:B=w.isPointLight===!0?l:a,t.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0){const L=B.uuid,z=b.uuid;let O=c[L];O===void 0&&(O={},c[L]=O);let G=O[z];G===void 0&&(G=B.clone(),O[z]=G),B=G}return B.visible=b.visible,B.wireframe=b.wireframe,I===Uh?B.side=b.shadowSide!==null?b.shadowSide:b.side:B.side=b.shadowSide!==null?b.shadowSide:f[b.side],B.alphaMap=b.alphaMap,B.alphaTest=b.alphaTest,B.clipShadows=b.clipShadows,B.clippingPlanes=b.clippingPlanes,B.clipIntersection=b.clipIntersection,B.displacementMap=b.displacementMap,B.displacementScale=b.displacementScale,B.displacementBias=b.displacementBias,B.wireframeLinewidth=b.wireframeLinewidth,B.linewidth=b.linewidth,w.isPointLight===!0&&B.isMeshDistanceMaterial===!0&&(B.referencePosition.setFromMatrixPosition(w.matrixWorld),B.nearDistance=T,B.farDistance=C),B}function x(E,b,w,T,C){if(E.visible===!1)return;if(E.layers.test(b.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&C===Uh)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,E.matrixWorld);const R=e.update(E),L=E.material;if(Array.isArray(L)){const z=R.groups;for(let O=0,G=z.length;O<G;O++){const j=z[O],J=L[j.materialIndex];if(J&&J.visible){const N=_(E,J,T,w.near,w.far,C);t.renderBufferDirect(w,null,R,N,E,j)}}}else if(L.visible){const z=_(E,L,T,w.near,w.far,C);t.renderBufferDirect(w,null,R,z,E,null)}}const B=E.children;for(let R=0,L=B.length;R<L;R++)x(B[R],b,w,T,C)}}function Sle(t,e,n){const r=n.isWebGL2;function i(){let le=!1;const ae=new sn;let Ne=null;const et=new sn(0,0,0,0);return{setMask:function(St){Ne!==St&&!le&&(t.colorMask(St,St,St,St),Ne=St)},setLocked:function(St){le=St},setClear:function(St,an,sr,Gr,xo){xo===!0&&(St*=Gr,an*=Gr,sr*=Gr),ae.set(St,an,sr,Gr),et.equals(ae)===!1&&(t.clearColor(St,an,sr,Gr),et.copy(ae))},reset:function(){le=!1,Ne=null,et.set(-1,0,0,0)}}}function s(){let le=!1,ae=null,Ne=null,et=null;return{setTest:function(St){St?Fe(2929):he(2929)},setMask:function(St){ae!==St&&!le&&(t.depthMask(St),ae=St)},setFunc:function(St){if(Ne!==St){switch(St){case _H:t.depthFunc(512);break;case EH:t.depthFunc(519);break;case CH:t.depthFunc(513);break;case R6:t.depthFunc(515);break;case SH:t.depthFunc(514);break;case wH:t.depthFunc(518);break;case bH:t.depthFunc(516);break;case IH:t.depthFunc(517);break;default:t.depthFunc(515)}Ne=St}},setLocked:function(St){le=St},setClear:function(St){et!==St&&(t.clearDepth(St),et=St)},reset:function(){le=!1,ae=null,Ne=null,et=null}}}function o(){let le=!1,ae=null,Ne=null,et=null,St=null,an=null,sr=null,Gr=null,xo=null;return{setTest:function(Tn){le||(Tn?Fe(2960):he(2960))},setMask:function(Tn){ae!==Tn&&!le&&(t.stencilMask(Tn),ae=Tn)},setFunc:function(Tn,vs,Li){(Ne!==Tn||et!==vs||St!==Li)&&(t.stencilFunc(Tn,vs,Li),Ne=Tn,et=vs,St=Li)},setOp:function(Tn,vs,Li){(an!==Tn||sr!==vs||Gr!==Li)&&(t.stencilOp(Tn,vs,Li),an=Tn,sr=vs,Gr=Li)},setLocked:function(Tn){le=Tn},setClear:function(Tn){xo!==Tn&&(t.clearStencil(Tn),xo=Tn)},reset:function(){le=!1,ae=null,Ne=null,et=null,St=null,an=null,sr=null,Gr=null,xo=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let h={},d={},m=new WeakMap,A=[],v=null,y=!1,_=null,x=null,E=null,b=null,w=null,T=null,C=null,I=!1,B=null,R=null,L=null,z=null,O=null;const G=t.getParameter(35661);let j=!1,J=0;const N=t.getParameter(7938);N.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(N)[1]),j=J>=1):N.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),j=J>=2);let V=null,Q={};const Z=t.getParameter(3088),re=t.getParameter(2978),ge=new sn().fromArray(Z),Ee=new sn().fromArray(re);function be(le,ae,Ne){const et=new Uint8Array(4),St=t.createTexture();t.bindTexture(le,St),t.texParameteri(le,10241,9728),t.texParameteri(le,10240,9728);for(let an=0;an<Ne;an++)t.texImage2D(ae+an,0,6408,1,1,0,6408,5121,et);return St}const oe={};oe[3553]=be(3553,3553,1),oe[34067]=be(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Fe(2929),l.setFunc(R6),ke(!1),Ye(LC),Fe(2884),de(rn);function Fe(le){h[le]!==!0&&(t.enable(le),h[le]=!0)}function he(le){h[le]!==!1&&(t.disable(le),h[le]=!1)}function U(le,ae){return d[le]!==ae?(t.bindFramebuffer(le,ae),d[le]=ae,r&&(le===36009&&(d[36160]=ae),le===36160&&(d[36009]=ae)),!0):!1}function W(le,ae){let Ne=A,et=!1;if(le)if(Ne=m.get(ae),Ne===void 0&&(Ne=[],m.set(ae,Ne)),le.isWebGLMultipleRenderTargets){const St=le.texture;if(Ne.length!==St.length||Ne[0]!==36064){for(let an=0,sr=St.length;an<sr;an++)Ne[an]=36064+an;Ne.length=St.length,et=!0}}else Ne[0]!==36064&&(Ne[0]=36064,et=!0);else Ne[0]!==1029&&(Ne[0]=1029,et=!0);et&&(n.isWebGL2?t.drawBuffers(Ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ne))}function Y(le){return v!==le?(t.useProgram(le),v=le,!0):!1}const ie={[Xs]:32774,[dH]:32778,[pH]:32779};if(r)ie[OC]=32775,ie[NC]=32776;else{const le=e.get("EXT_blend_minmax");le!==null&&(ie[OC]=le.MIN_EXT,ie[NC]=le.MAX_EXT)}const te={[$0]:0,[mH]:1,[gH]:768,[C1]:770,[xH]:776,[c8]:774,[l8]:772,[AH]:769,[S1]:771,[yH]:775,[vH]:773};function de(le,ae,Ne,et,St,an,sr,Gr){if(le===rn){y===!0&&(he(3042),y=!1);return}if(y===!1&&(Fe(3042),y=!0),le!==E1){if(le!==_||Gr!==I){if((x!==Xs||w!==Xs)&&(t.blendEquation(32774),x=Xs,w=Xs),Gr)switch(le){case bl:t.blendFuncSeparate(1,771,1,771);break;case _1:t.blendFunc(1,1);break;case kC:t.blendFuncSeparate(0,769,0,1);break;case FC:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case bl:t.blendFuncSeparate(770,771,1,771);break;case _1:t.blendFunc(770,1);break;case kC:t.blendFuncSeparate(0,769,0,1);break;case FC:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}E=null,b=null,T=null,C=null,_=le,I=Gr}return}St=St||ae,an=an||Ne,sr=sr||et,(ae!==x||St!==w)&&(t.blendEquationSeparate(ie[ae],ie[St]),x=ae,w=St),(Ne!==E||et!==b||an!==T||sr!==C)&&(t.blendFuncSeparate(te[Ne],te[et],te[an],te[sr]),E=Ne,b=et,T=an,C=sr),_=le,I=null}function Pe(le,ae){le.side===$o?he(2884):Fe(2884);let Ne=le.side===Ps;ae&&(Ne=!Ne),ke(Ne),le.blending===bl&&le.transparent===!1?de(rn):de(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.premultipliedAlpha),l.setFunc(le.depthFunc),l.setTest(le.depthTest),l.setMask(le.depthWrite),a.setMask(le.colorWrite);const et=le.stencilWrite;c.setTest(et),et&&(c.setMask(le.stencilWriteMask),c.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),c.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),Je(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?Fe(32926):he(32926)}function ke(le){B!==le&&(le?t.frontFace(2304):t.frontFace(2305),B=le)}function Ye(le){le!==uH?(Fe(2884),le!==R&&(le===LC?t.cullFace(1029):le===fH?t.cullFace(1028):t.cullFace(1032))):he(2884),R=le}function nt(le){le!==L&&(j&&t.lineWidth(le),L=le)}function Je(le,ae,Ne){le?(Fe(32823),(z!==ae||O!==Ne)&&(t.polygonOffset(ae,Ne),z=ae,O=Ne)):he(32823)}function pt(le){le?Fe(3089):he(3089)}function Ct(le){le===void 0&&(le=33984+G-1),V!==le&&(t.activeTexture(le),V=le)}function X(le,ae,Ne){Ne===void 0&&(V===null?Ne=33984+G-1:Ne=V);let et=Q[Ne];et===void 0&&(et={type:void 0,texture:void 0},Q[Ne]=et),(et.type!==le||et.texture!==ae)&&(V!==Ne&&(t.activeTexture(Ne),V=Ne),t.bindTexture(le,ae||oe[le]),et.type=le,et.texture=ae)}function H(){const le=Q[V];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function ce(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function De(){try{t.compressedTexImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Oe(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ge(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function _t(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function $e(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Te(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function lt(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function vt(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function it(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function st(le){ge.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),ge.copy(le))}function mt(le){Ee.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),Ee.copy(le))}function Nt(le,ae){let Ne=f.get(ae);Ne===void 0&&(Ne=new WeakMap,f.set(ae,Ne));let et=Ne.get(le);et===void 0&&(et=t.getUniformBlockIndex(ae,le.name),Ne.set(le,et))}function Gt(le,ae){const et=f.get(ae).get(le);u.get(le)!==et&&(t.uniformBlockBinding(ae,et,le.__bindingPointIndex),u.set(le,et))}function zt(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},V=null,Q={},d={},m=new WeakMap,A=[],v=null,y=!1,_=null,x=null,E=null,b=null,w=null,T=null,C=null,I=!1,B=null,R=null,L=null,z=null,O=null,ge.set(0,0,t.canvas.width,t.canvas.height),Ee.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Fe,disable:he,bindFramebuffer:U,drawBuffers:W,useProgram:Y,setBlending:de,setMaterial:Pe,setFlipSided:ke,setCullFace:Ye,setLineWidth:nt,setPolygonOffset:Je,setScissorTest:pt,activeTexture:Ct,bindTexture:X,unbindTexture:H,compressedTexImage2D:ce,compressedTexImage3D:De,texImage2D:vt,texImage3D:it,updateUBOMapping:Nt,uniformBlockBinding:Gt,texStorage2D:Te,texStorage3D:lt,texSubImage2D:Oe,texSubImage3D:Ge,compressedTexSubImage2D:_t,compressedTexSubImage3D:$e,scissor:st,viewport:mt,reset:zt}}function wle(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),m=new WeakMap;let A;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(X,H){return y?new OffscreenCanvas(X,H):O1("canvas")}function x(X,H,ce,De){let Oe=1;if((X.width>De||X.height>De)&&(Oe=De/Math.max(X.width,X.height)),Oe<1||H===!0)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap){const Ge=H?L6:Math.floor,_t=Ge(Oe*X.width),$e=Ge(Oe*X.height);A===void 0&&(A=_(_t,$e));const Te=ce?_(_t,$e):A;return Te.width=_t,Te.height=$e,Te.getContext("2d").drawImage(X,0,0,_t,$e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+X.width+"x"+X.height+") to ("+_t+"x"+$e+")."),Te}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+X.width+"x"+X.height+")."),X;return X}function E(X){return tS(X.width)&&tS(X.height)}function b(X){return a?!1:X.wrapS!==hr||X.wrapT!==hr||X.minFilter!==Qt&&X.minFilter!==Cn}function w(X,H){return X.generateMipmaps&&H&&X.minFilter!==Qt&&X.minFilter!==Cn}function T(X){t.generateMipmap(X)}function C(X,H,ce,De,Oe=!1){if(a===!1)return H;if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let Ge=H;return H===6403&&(ce===5126&&(Ge=33326),ce===5131&&(Ge=33325),ce===5121&&(Ge=33321)),H===33319&&(ce===5126&&(Ge=33328),ce===5131&&(Ge=33327),ce===5121&&(Ge=33323)),H===6408&&(ce===5126&&(Ge=34836),ce===5131&&(Ge=34842),ce===5121&&(Ge=De===ar&&Oe===!1?35907:32856),ce===32819&&(Ge=32854),ce===32820&&(Ge=32855)),(Ge===33325||Ge===33326||Ge===33327||Ge===33328||Ge===34842||Ge===34836)&&e.get("EXT_color_buffer_float"),Ge}function I(X,H,ce){return w(X,ce)===!0||X.isFramebufferTexture&&X.minFilter!==Qt&&X.minFilter!==Cn?Math.log2(Math.max(H.width,H.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?H.mipmaps.length:1}function B(X){return X===Qt||X===b1||X===I1?9728:9729}function R(X){const H=X.target;H.removeEventListener("dispose",R),z(H),H.isVideoTexture&&m.delete(H)}function L(X){const H=X.target;H.removeEventListener("dispose",L),G(H)}function z(X){const H=r.get(X);if(H.__webglInit===void 0)return;const ce=X.source,De=v.get(ce);if(De){const Oe=De[H.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&O(X),Object.keys(De).length===0&&v.delete(ce)}r.remove(X)}function O(X){const H=r.get(X);t.deleteTexture(H.__webglTexture);const ce=X.source,De=v.get(ce);delete De[H.__cacheKey],o.memory.textures--}function G(X){const H=X.texture,ce=r.get(X),De=r.get(H);if(De.__webglTexture!==void 0&&(t.deleteTexture(De.__webglTexture),o.memory.textures--),X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++)t.deleteFramebuffer(ce.__webglFramebuffer[Oe]),ce.__webglDepthbuffer&&t.deleteRenderbuffer(ce.__webglDepthbuffer[Oe]);else{if(t.deleteFramebuffer(ce.__webglFramebuffer),ce.__webglDepthbuffer&&t.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Oe=0;Oe<ce.__webglColorRenderbuffer.length;Oe++)ce.__webglColorRenderbuffer[Oe]&&t.deleteRenderbuffer(ce.__webglColorRenderbuffer[Oe]);ce.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(X.isWebGLMultipleRenderTargets)for(let Oe=0,Ge=H.length;Oe<Ge;Oe++){const _t=r.get(H[Oe]);_t.__webglTexture&&(t.deleteTexture(_t.__webglTexture),o.memory.textures--),r.remove(H[Oe])}r.remove(H),r.remove(X)}let j=0;function J(){j=0}function N(){const X=j;return X>=l&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+l),j+=1,X}function V(X){const H=[];return H.push(X.wrapS),H.push(X.wrapT),H.push(X.wrapR||0),H.push(X.magFilter),H.push(X.minFilter),H.push(X.anisotropy),H.push(X.internalFormat),H.push(X.format),H.push(X.type),H.push(X.generateMipmaps),H.push(X.premultiplyAlpha),H.push(X.flipY),H.push(X.unpackAlignment),H.push(X.encoding),H.join()}function Q(X,H){const ce=r.get(X);if(X.isVideoTexture&&pt(X),X.isRenderTargetTexture===!1&&X.version>0&&ce.__version!==X.version){const De=X.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(ce,X,H);return}}n.bindTexture(3553,ce.__webglTexture,33984+H)}function Z(X,H){const ce=r.get(X);if(X.version>0&&ce.__version!==X.version){he(ce,X,H);return}n.bindTexture(35866,ce.__webglTexture,33984+H)}function re(X,H){const ce=r.get(X);if(X.version>0&&ce.__version!==X.version){he(ce,X,H);return}n.bindTexture(32879,ce.__webglTexture,33984+H)}function ge(X,H){const ce=r.get(X);if(X.version>0&&ce.__version!==X.version){U(ce,X,H);return}n.bindTexture(34067,ce.__webglTexture,33984+H)}const Ee={[na]:10497,[hr]:33071,[j0]:33648},be={[Qt]:9728,[b1]:9984,[I1]:9986,[Cn]:9729,[f8]:9985,[za]:9987};function oe(X,H,ce){if(ce?(t.texParameteri(X,10242,Ee[H.wrapS]),t.texParameteri(X,10243,Ee[H.wrapT]),(X===32879||X===35866)&&t.texParameteri(X,32882,Ee[H.wrapR]),t.texParameteri(X,10240,be[H.magFilter]),t.texParameteri(X,10241,be[H.minFilter])):(t.texParameteri(X,10242,33071),t.texParameteri(X,10243,33071),(X===32879||X===35866)&&t.texParameteri(X,32882,33071),(H.wrapS!==hr||H.wrapT!==hr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(X,10240,B(H.magFilter)),t.texParameteri(X,10241,B(H.minFilter)),H.minFilter!==Qt&&H.minFilter!==Cn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const De=e.get("EXT_texture_filter_anisotropic");if(H.type===Yr&&e.has("OES_texture_float_linear")===!1||a===!1&&H.type===wn&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||r.get(H).__currentAnisotropy)&&(t.texParameterf(X,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,i.getMaxAnisotropy())),r.get(H).__currentAnisotropy=H.anisotropy)}}function Fe(X,H){let ce=!1;X.__webglInit===void 0&&(X.__webglInit=!0,H.addEventListener("dispose",R));const De=H.source;let Oe=v.get(De);Oe===void 0&&(Oe={},v.set(De,Oe));const Ge=V(H);if(Ge!==X.__cacheKey){Oe[Ge]===void 0&&(Oe[Ge]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),Oe[Ge].usedTimes++;const _t=Oe[X.__cacheKey];_t!==void 0&&(Oe[X.__cacheKey].usedTimes--,_t.usedTimes===0&&O(H)),X.__cacheKey=Ge,X.__webglTexture=Oe[Ge].texture}return ce}function he(X,H,ce){let De=3553;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(De=35866),H.isData3DTexture&&(De=32879);const Oe=Fe(X,H),Ge=H.source;n.bindTexture(De,X.__webglTexture,33984+ce);const _t=r.get(Ge);if(Ge.version!==_t.__version||Oe===!0){n.activeTexture(33984+ce),t.pixelStorei(37440,H.flipY),t.pixelStorei(37441,H.premultiplyAlpha),t.pixelStorei(3317,H.unpackAlignment),t.pixelStorei(37443,0);const $e=b(H)&&E(H.image)===!1;let Te=x(H.image,$e,!1,u);Te=Ct(H,Te);const lt=E(Te)||a,vt=s.convert(H.format,H.encoding);let it=s.convert(H.type),st=C(H.internalFormat,vt,it,H.encoding,H.isVideoTexture);oe(De,H,lt);let mt;const Nt=H.mipmaps,Gt=a&&H.isVideoTexture!==!0,zt=_t.__version===void 0||Oe===!0,le=I(H,Te,lt);if(H.isDepthTexture)st=6402,a?H.type===Yr?st=36012:H.type===$u?st=33190:H.type===hf?st=35056:st=33189:H.type===Yr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===df&&st===6402&&H.type!==Im&&H.type!==$u&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=$u,it=s.convert(H.type)),H.format===Sf&&st===6402&&(st=34041,H.type!==hf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=hf,it=s.convert(H.type))),zt&&(Gt?n.texStorage2D(3553,1,st,Te.width,Te.height):n.texImage2D(3553,0,st,Te.width,Te.height,0,vt,it,null));else if(H.isDataTexture)if(Nt.length>0&&lt){Gt&&zt&&n.texStorage2D(3553,le,st,Nt[0].width,Nt[0].height);for(let ae=0,Ne=Nt.length;ae<Ne;ae++)mt=Nt[ae],Gt?n.texSubImage2D(3553,ae,0,0,mt.width,mt.height,vt,it,mt.data):n.texImage2D(3553,ae,st,mt.width,mt.height,0,vt,it,mt.data);H.generateMipmaps=!1}else Gt?(zt&&n.texStorage2D(3553,le,st,Te.width,Te.height),n.texSubImage2D(3553,0,0,0,Te.width,Te.height,vt,it,Te.data)):n.texImage2D(3553,0,st,Te.width,Te.height,0,vt,it,Te.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){Gt&&zt&&n.texStorage3D(35866,le,st,Nt[0].width,Nt[0].height,Te.depth);for(let ae=0,Ne=Nt.length;ae<Ne;ae++)mt=Nt[ae],H.format!==dr?vt!==null?Gt?n.compressedTexSubImage3D(35866,ae,0,0,0,mt.width,mt.height,Te.depth,vt,mt.data,0,0):n.compressedTexImage3D(35866,ae,st,mt.width,mt.height,Te.depth,0,mt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Gt?n.texSubImage3D(35866,ae,0,0,0,mt.width,mt.height,Te.depth,vt,it,mt.data):n.texImage3D(35866,ae,st,mt.width,mt.height,Te.depth,0,vt,it,mt.data)}else{Gt&&zt&&n.texStorage2D(3553,le,st,Nt[0].width,Nt[0].height);for(let ae=0,Ne=Nt.length;ae<Ne;ae++)mt=Nt[ae],H.format!==dr?vt!==null?Gt?n.compressedTexSubImage2D(3553,ae,0,0,mt.width,mt.height,vt,mt.data):n.compressedTexImage2D(3553,ae,st,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Gt?n.texSubImage2D(3553,ae,0,0,mt.width,mt.height,vt,it,mt.data):n.texImage2D(3553,ae,st,mt.width,mt.height,0,vt,it,mt.data)}else if(H.isDataArrayTexture)Gt?(zt&&n.texStorage3D(35866,le,st,Te.width,Te.height,Te.depth),n.texSubImage3D(35866,0,0,0,0,Te.width,Te.height,Te.depth,vt,it,Te.data)):n.texImage3D(35866,0,st,Te.width,Te.height,Te.depth,0,vt,it,Te.data);else if(H.isData3DTexture)Gt?(zt&&n.texStorage3D(32879,le,st,Te.width,Te.height,Te.depth),n.texSubImage3D(32879,0,0,0,0,Te.width,Te.height,Te.depth,vt,it,Te.data)):n.texImage3D(32879,0,st,Te.width,Te.height,Te.depth,0,vt,it,Te.data);else if(H.isFramebufferTexture){if(zt)if(Gt)n.texStorage2D(3553,le,st,Te.width,Te.height);else{let ae=Te.width,Ne=Te.height;for(let et=0;et<le;et++)n.texImage2D(3553,et,st,ae,Ne,0,vt,it,null),ae>>=1,Ne>>=1}}else if(Nt.length>0&&lt){Gt&&zt&&n.texStorage2D(3553,le,st,Nt[0].width,Nt[0].height);for(let ae=0,Ne=Nt.length;ae<Ne;ae++)mt=Nt[ae],Gt?n.texSubImage2D(3553,ae,0,0,vt,it,mt):n.texImage2D(3553,ae,st,vt,it,mt);H.generateMipmaps=!1}else Gt?(zt&&n.texStorage2D(3553,le,st,Te.width,Te.height),n.texSubImage2D(3553,0,0,0,vt,it,Te)):n.texImage2D(3553,0,st,vt,it,Te);w(H,lt)&&T(De),_t.__version=Ge.version,H.onUpdate&&H.onUpdate(H)}X.__version=H.version}function U(X,H,ce){if(H.image.length!==6)return;const De=Fe(X,H),Oe=H.source;n.bindTexture(34067,X.__webglTexture,33984+ce);const Ge=r.get(Oe);if(Oe.version!==Ge.__version||De===!0){n.activeTexture(33984+ce),t.pixelStorei(37440,H.flipY),t.pixelStorei(37441,H.premultiplyAlpha),t.pixelStorei(3317,H.unpackAlignment),t.pixelStorei(37443,0);const _t=H.isCompressedTexture||H.image[0].isCompressedTexture,$e=H.image[0]&&H.image[0].isDataTexture,Te=[];for(let ae=0;ae<6;ae++)!_t&&!$e?Te[ae]=x(H.image[ae],!1,!0,c):Te[ae]=$e?H.image[ae].image:H.image[ae],Te[ae]=Ct(H,Te[ae]);const lt=Te[0],vt=E(lt)||a,it=s.convert(H.format,H.encoding),st=s.convert(H.type),mt=C(H.internalFormat,it,st,H.encoding),Nt=a&&H.isVideoTexture!==!0,Gt=Ge.__version===void 0||De===!0;let zt=I(H,lt,vt);oe(34067,H,vt);let le;if(_t){Nt&&Gt&&n.texStorage2D(34067,zt,mt,lt.width,lt.height);for(let ae=0;ae<6;ae++){le=Te[ae].mipmaps;for(let Ne=0;Ne<le.length;Ne++){const et=le[Ne];H.format!==dr?it!==null?Nt?n.compressedTexSubImage2D(34069+ae,Ne,0,0,et.width,et.height,it,et.data):n.compressedTexImage2D(34069+ae,Ne,mt,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Nt?n.texSubImage2D(34069+ae,Ne,0,0,et.width,et.height,it,st,et.data):n.texImage2D(34069+ae,Ne,mt,et.width,et.height,0,it,st,et.data)}}}else{le=H.mipmaps,Nt&&Gt&&(le.length>0&&zt++,n.texStorage2D(34067,zt,mt,Te[0].width,Te[0].height));for(let ae=0;ae<6;ae++)if($e){Nt?n.texSubImage2D(34069+ae,0,0,0,Te[ae].width,Te[ae].height,it,st,Te[ae].data):n.texImage2D(34069+ae,0,mt,Te[ae].width,Te[ae].height,0,it,st,Te[ae].data);for(let Ne=0;Ne<le.length;Ne++){const St=le[Ne].image[ae].image;Nt?n.texSubImage2D(34069+ae,Ne+1,0,0,St.width,St.height,it,st,St.data):n.texImage2D(34069+ae,Ne+1,mt,St.width,St.height,0,it,st,St.data)}}else{Nt?n.texSubImage2D(34069+ae,0,0,0,it,st,Te[ae]):n.texImage2D(34069+ae,0,mt,it,st,Te[ae]);for(let Ne=0;Ne<le.length;Ne++){const et=le[Ne];Nt?n.texSubImage2D(34069+ae,Ne+1,0,0,it,st,et.image[ae]):n.texImage2D(34069+ae,Ne+1,mt,it,st,et.image[ae])}}}w(H,vt)&&T(34067),Ge.__version=Oe.version,H.onUpdate&&H.onUpdate(H)}X.__version=H.version}function W(X,H,ce,De,Oe){const Ge=s.convert(ce.format,ce.encoding),_t=s.convert(ce.type),$e=C(ce.internalFormat,Ge,_t,ce.encoding);r.get(H).__hasExternalTextures||(Oe===32879||Oe===35866?n.texImage3D(Oe,0,$e,H.width,H.height,H.depth,0,Ge,_t,null):n.texImage2D(Oe,0,$e,H.width,H.height,0,Ge,_t,null)),n.bindFramebuffer(36160,X),Je(H)?h.framebufferTexture2DMultisampleEXT(36160,De,Oe,r.get(ce).__webglTexture,0,nt(H)):(Oe===3553||Oe>=34069&&Oe<=34074)&&t.framebufferTexture2D(36160,De,Oe,r.get(ce).__webglTexture,0),n.bindFramebuffer(36160,null)}function Y(X,H,ce){if(t.bindRenderbuffer(36161,X),H.depthBuffer&&!H.stencilBuffer){let De=33189;if(ce||Je(H)){const Oe=H.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===Yr?De=36012:Oe.type===$u&&(De=33190));const Ge=nt(H);Je(H)?h.renderbufferStorageMultisampleEXT(36161,Ge,De,H.width,H.height):t.renderbufferStorageMultisample(36161,Ge,De,H.width,H.height)}else t.renderbufferStorage(36161,De,H.width,H.height);t.framebufferRenderbuffer(36160,36096,36161,X)}else if(H.depthBuffer&&H.stencilBuffer){const De=nt(H);ce&&Je(H)===!1?t.renderbufferStorageMultisample(36161,De,35056,H.width,H.height):Je(H)?h.renderbufferStorageMultisampleEXT(36161,De,35056,H.width,H.height):t.renderbufferStorage(36161,34041,H.width,H.height),t.framebufferRenderbuffer(36160,33306,36161,X)}else{const De=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Oe=0;Oe<De.length;Oe++){const Ge=De[Oe],_t=s.convert(Ge.format,Ge.encoding),$e=s.convert(Ge.type),Te=C(Ge.internalFormat,_t,$e,Ge.encoding),lt=nt(H);ce&&Je(H)===!1?t.renderbufferStorageMultisample(36161,lt,Te,H.width,H.height):Je(H)?h.renderbufferStorageMultisampleEXT(36161,lt,Te,H.width,H.height):t.renderbufferStorage(36161,Te,H.width,H.height)}}t.bindRenderbuffer(36161,null)}function ie(X,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,X),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),Q(H.depthTexture,0);const De=r.get(H.depthTexture).__webglTexture,Oe=nt(H);if(H.depthTexture.format===df)Je(H)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,De,0,Oe):t.framebufferTexture2D(36160,36096,3553,De,0);else if(H.depthTexture.format===Sf)Je(H)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,De,0,Oe):t.framebufferTexture2D(36160,33306,3553,De,0);else throw new Error("Unknown depthTexture format")}function te(X){const H=r.get(X),ce=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture&&!H.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");ie(H.__webglFramebuffer,X)}else if(ce){H.__webglDepthbuffer=[];for(let De=0;De<6;De++)n.bindFramebuffer(36160,H.__webglFramebuffer[De]),H.__webglDepthbuffer[De]=t.createRenderbuffer(),Y(H.__webglDepthbuffer[De],X,!1)}else n.bindFramebuffer(36160,H.__webglFramebuffer),H.__webglDepthbuffer=t.createRenderbuffer(),Y(H.__webglDepthbuffer,X,!1);n.bindFramebuffer(36160,null)}function de(X,H,ce){const De=r.get(X);H!==void 0&&W(De.__webglFramebuffer,X,X.texture,36064,3553),ce!==void 0&&te(X)}function Pe(X){const H=X.texture,ce=r.get(X),De=r.get(H);X.addEventListener("dispose",L),X.isWebGLMultipleRenderTargets!==!0&&(De.__webglTexture===void 0&&(De.__webglTexture=t.createTexture()),De.__version=H.version,o.memory.textures++);const Oe=X.isWebGLCubeRenderTarget===!0,Ge=X.isWebGLMultipleRenderTargets===!0,_t=E(X)||a;if(Oe){ce.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)ce.__webglFramebuffer[$e]=t.createFramebuffer()}else{if(ce.__webglFramebuffer=t.createFramebuffer(),Ge)if(i.drawBuffers){const $e=X.texture;for(let Te=0,lt=$e.length;Te<lt;Te++){const vt=r.get($e[Te]);vt.__webglTexture===void 0&&(vt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&X.samples>0&&Je(X)===!1){const $e=Ge?H:[H];ce.__webglMultisampledFramebuffer=t.createFramebuffer(),ce.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ce.__webglMultisampledFramebuffer);for(let Te=0;Te<$e.length;Te++){const lt=$e[Te];ce.__webglColorRenderbuffer[Te]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ce.__webglColorRenderbuffer[Te]);const vt=s.convert(lt.format,lt.encoding),it=s.convert(lt.type),st=C(lt.internalFormat,vt,it,lt.encoding,X.isXRRenderTarget===!0),mt=nt(X);t.renderbufferStorageMultisample(36161,mt,st,X.width,X.height),t.framebufferRenderbuffer(36160,36064+Te,36161,ce.__webglColorRenderbuffer[Te])}t.bindRenderbuffer(36161,null),X.depthBuffer&&(ce.__webglDepthRenderbuffer=t.createRenderbuffer(),Y(ce.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(36160,null)}}if(Oe){n.bindTexture(34067,De.__webglTexture),oe(34067,H,_t);for(let $e=0;$e<6;$e++)W(ce.__webglFramebuffer[$e],X,H,36064,34069+$e);w(H,_t)&&T(34067),n.unbindTexture()}else if(Ge){const $e=X.texture;for(let Te=0,lt=$e.length;Te<lt;Te++){const vt=$e[Te],it=r.get(vt);n.bindTexture(3553,it.__webglTexture),oe(3553,vt,_t),W(ce.__webglFramebuffer,X,vt,36064+Te,3553),w(vt,_t)&&T(3553)}n.unbindTexture()}else{let $e=3553;(X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(a?$e=X.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture($e,De.__webglTexture),oe($e,H,_t),W(ce.__webglFramebuffer,X,H,36064,$e),w(H,_t)&&T($e),n.unbindTexture()}X.depthBuffer&&te(X)}function ke(X){const H=E(X)||a,ce=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let De=0,Oe=ce.length;De<Oe;De++){const Ge=ce[De];if(w(Ge,H)){const _t=X.isWebGLCubeRenderTarget?34067:3553,$e=r.get(Ge).__webglTexture;n.bindTexture(_t,$e),T(_t),n.unbindTexture()}}}function Ye(X){if(a&&X.samples>0&&Je(X)===!1){const H=X.isWebGLMultipleRenderTargets?X.texture:[X.texture],ce=X.width,De=X.height;let Oe=16384;const Ge=[],_t=X.stencilBuffer?33306:36096,$e=r.get(X),Te=X.isWebGLMultipleRenderTargets===!0;if(Te)for(let lt=0;lt<H.length;lt++)n.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+lt,36161,null),n.bindFramebuffer(36160,$e.__webglFramebuffer),t.framebufferTexture2D(36009,36064+lt,3553,null,0);n.bindFramebuffer(36008,$e.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,$e.__webglFramebuffer);for(let lt=0;lt<H.length;lt++){Ge.push(36064+lt),X.depthBuffer&&Ge.push(_t);const vt=$e.__ignoreDepthValues!==void 0?$e.__ignoreDepthValues:!1;if(vt===!1&&(X.depthBuffer&&(Oe|=256),X.stencilBuffer&&(Oe|=1024)),Te&&t.framebufferRenderbuffer(36008,36064,36161,$e.__webglColorRenderbuffer[lt]),vt===!0&&(t.invalidateFramebuffer(36008,[_t]),t.invalidateFramebuffer(36009,[_t])),Te){const it=r.get(H[lt]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,it,0)}t.blitFramebuffer(0,0,ce,De,0,0,ce,De,Oe,9728),d&&t.invalidateFramebuffer(36008,Ge)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Te)for(let lt=0;lt<H.length;lt++){n.bindFramebuffer(36160,$e.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+lt,36161,$e.__webglColorRenderbuffer[lt]);const vt=r.get(H[lt]).__webglTexture;n.bindFramebuffer(36160,$e.__webglFramebuffer),t.framebufferTexture2D(36009,36064+lt,3553,vt,0)}n.bindFramebuffer(36009,$e.__webglMultisampledFramebuffer)}}function nt(X){return Math.min(f,X.samples)}function Je(X){const H=r.get(X);return a&&X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function pt(X){const H=o.render.frame;m.get(X)!==H&&(m.set(X,H),X.update())}function Ct(X,H){const ce=X.encoding,De=X.format,Oe=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||X.format===D6||ce!==wf&&(ce===ar?a===!1?e.has("EXT_sRGB")===!0&&De===dr?(X.format=D6,X.minFilter=Cn,X.generateMipmaps=!1):H=mI.sRGBToLinear(H):(De!==dr||Oe!==Ai)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ce)),H}this.allocateTextureUnit=N,this.resetTextureUnits=J,this.setTexture2D=Q,this.setTexture2DArray=Z,this.setTexture3D=re,this.setTextureCube=ge,this.rebindTextures=de,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=te,this.setupFrameBufferTexture=W,this.useMultisampledRTT=Je}function aV(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===Ai)return 5121;if(s===OH)return 32819;if(s===NH)return 32820;if(s===LH)return 5120;if(s===kH)return 5122;if(s===Im)return 5123;if(s===FH)return 5124;if(s===$u)return 5125;if(s===Yr)return 5126;if(s===wn)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===UH)return 6406;if(s===dr)return 6408;if(s===uI)return 6409;if(s===zH)return 6410;if(s===df)return 6402;if(s===Sf)return 34041;if(s===Wu)return 6403;if(s===GH)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===D6)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===QH)return 36244;if(s===t0)return 33319;if(s===HH)return 33320;if(s===VH)return 36249;if(s===x0||s===B5||s===R5||s===_0)if(o===ar)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===x0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===B5)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===R5)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===_0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===x0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===B5)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===R5)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===_0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===T1||s===UC||s===M1||s===GC)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===T1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===UC)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===M1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===GC)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===h8)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===B1||s===R1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===B1)return o===ar?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===R1)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===P1||s===zC||s===QC||s===HC||s===VC||s===$C||s===WC||s===jC||s===KC||s===JC||s===YC||s===XC||s===qC||s===ZC)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===P1)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===zC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===QC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===HC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===VC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===$C)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===WC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===jC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===KC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===JC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===YC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===XC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===qC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ZC)return o===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===D1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===D1)return o===ar?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===hf?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class lV extends rr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Sc extends hn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ble={type:"move"};class W9{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Sc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Sc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Sc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const A of e.hand.values()){const v=n.getJointPose(A,r);if(c.joints[A.jointName]===void 0){const _=new Sc;_.matrixAutoUpdate=!1,_.visible=!1,c.joints[A.jointName]=_,c.add(_)}const y=c.joints[A.jointName];v!==null&&(y.matrix.fromArray(v.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=v.radius),y.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),d=.02,m=.005;c.inputState.pinching&&h>d+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=d-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(ble)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class Bm extends qn{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:df,u!==df&&u!==Sf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===df&&(r=$u),r===void 0&&u===Sf&&(r=hf),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Qt,this.minFilter=l!==void 0?l:Qt,this.flipY=!1,this.generateMipmaps=!1}}class Ile extends qc{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,f=null,h=null,d=null;const m=n.getContextAttributes();let A=null,v=null;const y=[],_=[],x=new rr;x.layers.enable(1),x.viewport=new sn;const E=new rr;E.layers.enable(2),E.viewport=new sn;const b=[x,E],w=new lV;w.layers.enable(1),w.layers.enable(2);let T=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let Q=y[V];return Q===void 0&&(Q=new W9,y[V]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(V){let Q=y[V];return Q===void 0&&(Q=new W9,y[V]=Q),Q.getGripSpace()},this.getHand=function(V){let Q=y[V];return Q===void 0&&(Q=new W9,y[V]=Q),Q.getHandSpace()};function I(V){const Q=_.indexOf(V.inputSource);if(Q===-1)return;const Z=y[Q];Z!==void 0&&Z.dispatchEvent({type:V.type,data:V.inputSource})}function B(){i.removeEventListener("select",I),i.removeEventListener("selectstart",I),i.removeEventListener("selectend",I),i.removeEventListener("squeeze",I),i.removeEventListener("squeezestart",I),i.removeEventListener("squeezeend",I),i.removeEventListener("end",B),i.removeEventListener("inputsourceschange",R);for(let V=0;V<y.length;V++){const Q=_[V];Q!==null&&(_[V]=null,y[V].disconnect(Q))}T=null,C=null,e.setRenderTarget(A),h=null,f=null,u=null,i=null,v=null,N.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){s=V,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(V){l=V},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return u},this.getFrame=function(){return d},this.getSession=function(){return i},this.setSession=async function(V){if(i=V,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",B),i.addEventListener("inputsourceschange",R),m.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Q={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,n,Q),i.updateRenderState({baseLayer:h}),v=new Dn(h.framebufferWidth,h.framebufferHeight,{format:dr,type:Ai,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let Q=null,Z=null,re=null;m.depth&&(re=m.stencil?35056:33190,Q=m.stencil?Sf:df,Z=m.stencil?hf:$u);const ge={colorFormat:32856,depthFormat:re,scaleFactor:s};u=new XRWebGLBinding(i,n),f=u.createProjectionLayer(ge),i.updateRenderState({layers:[f]}),v=new Dn(f.textureWidth,f.textureHeight,{format:dr,type:Ai,depthTexture:new Bm(f.textureWidth,f.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const Ee=e.properties.get(v);Ee.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),N.setContext(i),N.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function R(V){for(let Q=0;Q<V.removed.length;Q++){const Z=V.removed[Q],re=_.indexOf(Z);re>=0&&(_[re]=null,y[re].dispatchEvent({type:"disconnected",data:Z}))}for(let Q=0;Q<V.added.length;Q++){const Z=V.added[Q];let re=_.indexOf(Z);if(re===-1){for(let Ee=0;Ee<y.length;Ee++)if(Ee>=_.length){_.push(Z),re=Ee;break}else if(_[Ee]===null){_[Ee]=Z,re=Ee;break}if(re===-1)break}const ge=y[re];ge&&ge.dispatchEvent({type:"connected",data:Z})}}const L=new K,z=new K;function O(V,Q,Z){L.setFromMatrixPosition(Q.matrixWorld),z.setFromMatrixPosition(Z.matrixWorld);const re=L.distanceTo(z),ge=Q.projectionMatrix.elements,Ee=Z.projectionMatrix.elements,be=ge[14]/(ge[10]-1),oe=ge[14]/(ge[10]+1),Fe=(ge[9]+1)/ge[5],he=(ge[9]-1)/ge[5],U=(ge[8]-1)/ge[0],W=(Ee[8]+1)/Ee[0],Y=be*U,ie=be*W,te=re/(-U+W),de=te*-U;Q.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(de),V.translateZ(te),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const Pe=be+te,ke=oe+te,Ye=Y-de,nt=ie+(re-de),Je=Fe*oe/ke*Pe,pt=he*oe/ke*Pe;V.projectionMatrix.makePerspective(Ye,nt,Je,pt,Pe,ke)}function G(V,Q){Q===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(Q.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(i===null)return;w.near=E.near=x.near=V.near,w.far=E.far=x.far=V.far,(T!==w.near||C!==w.far)&&(i.updateRenderState({depthNear:w.near,depthFar:w.far}),T=w.near,C=w.far);const Q=V.parent,Z=w.cameras;G(w,Q);for(let ge=0;ge<Z.length;ge++)G(Z[ge],Q);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),V.matrix.copy(w.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale);const re=V.children;for(let ge=0,Ee=re.length;ge<Ee;ge++)re[ge].updateMatrixWorld(!0);Z.length===2?O(w,x,E):w.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(V){f!==null&&(f.fixedFoveation=V),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=V)};let j=null;function J(V,Q){if(c=Q.getViewerPose(l||o),d=Q,c!==null){const Z=c.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let re=!1;Z.length!==w.cameras.length&&(w.cameras.length=0,re=!0);for(let ge=0;ge<Z.length;ge++){const Ee=Z[ge];let be=null;if(h!==null)be=h.getViewport(Ee);else{const Fe=u.getViewSubImage(f,Ee);be=Fe.viewport,ge===0&&(e.setRenderTargetTextures(v,Fe.colorTexture,f.ignoreDepthValues?void 0:Fe.depthStencilTexture),e.setRenderTarget(v))}let oe=b[ge];oe===void 0&&(oe=new rr,oe.layers.enable(ge),oe.viewport=new sn,b[ge]=oe),oe.matrix.fromArray(Ee.transform.matrix),oe.projectionMatrix.fromArray(Ee.projectionMatrix),oe.viewport.set(be.x,be.y,be.width,be.height),ge===0&&w.matrix.copy(oe.matrix),re===!0&&w.cameras.push(oe)}}for(let Z=0;Z<y.length;Z++){const re=_[Z],ge=y[Z];re!==null&&ge!==void 0&&ge.update(re,Q,l||o)}j&&j(V,Q),d=null}const N=new nV;N.setAnimationLoop(J),this.setAnimationLoop=function(V){j=V},this.dispose=function(){}}}function Tle(t,e){function n(A,v){A.fogColor.value.copy(v.color),v.isFog?(A.fogNear.value=v.near,A.fogFar.value=v.far):v.isFogExp2&&(A.fogDensity.value=v.density)}function r(A,v,y,_,x){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(A,v):v.isMeshToonMaterial?(i(A,v),u(A,v)):v.isMeshPhongMaterial?(i(A,v),c(A,v)):v.isMeshStandardMaterial?(i(A,v),f(A,v),v.isMeshPhysicalMaterial&&h(A,v,x)):v.isMeshMatcapMaterial?(i(A,v),d(A,v)):v.isMeshDepthMaterial?i(A,v):v.isMeshDistanceMaterial?(i(A,v),m(A,v)):v.isMeshNormalMaterial?i(A,v):v.isLineBasicMaterial?(s(A,v),v.isLineDashedMaterial&&o(A,v)):v.isPointsMaterial?a(A,v,y,_):v.isSpriteMaterial?l(A,v):v.isShadowMaterial?(A.color.value.copy(v.color),A.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(A,v){A.opacity.value=v.opacity,v.color&&A.diffuse.value.copy(v.color),v.emissive&&A.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(A.map.value=v.map),v.alphaMap&&(A.alphaMap.value=v.alphaMap),v.bumpMap&&(A.bumpMap.value=v.bumpMap,A.bumpScale.value=v.bumpScale,v.side===Ps&&(A.bumpScale.value*=-1)),v.displacementMap&&(A.displacementMap.value=v.displacementMap,A.displacementScale.value=v.displacementScale,A.displacementBias.value=v.displacementBias),v.emissiveMap&&(A.emissiveMap.value=v.emissiveMap),v.normalMap&&(A.normalMap.value=v.normalMap,A.normalScale.value.copy(v.normalScale),v.side===Ps&&A.normalScale.value.negate()),v.specularMap&&(A.specularMap.value=v.specularMap),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest);const y=e.get(v).envMap;if(y&&(A.envMap.value=y,A.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=v.reflectivity,A.ior.value=v.ior,A.refractionRatio.value=v.refractionRatio),v.lightMap){A.lightMap.value=v.lightMap;const E=t.physicallyCorrectLights!==!0?Math.PI:1;A.lightMapIntensity.value=v.lightMapIntensity*E}v.aoMap&&(A.aoMap.value=v.aoMap,A.aoMapIntensity.value=v.aoMapIntensity);let _;v.map?_=v.map:v.specularMap?_=v.specularMap:v.displacementMap?_=v.displacementMap:v.normalMap?_=v.normalMap:v.bumpMap?_=v.bumpMap:v.roughnessMap?_=v.roughnessMap:v.metalnessMap?_=v.metalnessMap:v.alphaMap?_=v.alphaMap:v.emissiveMap?_=v.emissiveMap:v.clearcoatMap?_=v.clearcoatMap:v.clearcoatNormalMap?_=v.clearcoatNormalMap:v.clearcoatRoughnessMap?_=v.clearcoatRoughnessMap:v.iridescenceMap?_=v.iridescenceMap:v.iridescenceThicknessMap?_=v.iridescenceThicknessMap:v.specularIntensityMap?_=v.specularIntensityMap:v.specularColorMap?_=v.specularColorMap:v.transmissionMap?_=v.transmissionMap:v.thicknessMap?_=v.thicknessMap:v.sheenColorMap?_=v.sheenColorMap:v.sheenRoughnessMap&&(_=v.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),A.uvTransform.value.copy(_.matrix));let x;v.aoMap?x=v.aoMap:v.lightMap&&(x=v.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),A.uv2Transform.value.copy(x.matrix))}function s(A,v){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity}function o(A,v){A.dashSize.value=v.dashSize,A.totalSize.value=v.dashSize+v.gapSize,A.scale.value=v.scale}function a(A,v,y,_){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity,A.size.value=v.size*y,A.scale.value=_*.5,v.map&&(A.map.value=v.map),v.alphaMap&&(A.alphaMap.value=v.alphaMap),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),A.uvTransform.value.copy(x.matrix))}function l(A,v){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity,A.rotation.value=v.rotation,v.map&&(A.map.value=v.map),v.alphaMap&&(A.alphaMap.value=v.alphaMap),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest);let y;v.map?y=v.map:v.alphaMap&&(y=v.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),A.uvTransform.value.copy(y.matrix))}function c(A,v){A.specular.value.copy(v.specular),A.shininess.value=Math.max(v.shininess,1e-4)}function u(A,v){v.gradientMap&&(A.gradientMap.value=v.gradientMap)}function f(A,v){A.roughness.value=v.roughness,A.metalness.value=v.metalness,v.roughnessMap&&(A.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(A.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(A.envMapIntensity.value=v.envMapIntensity)}function h(A,v,y){A.ior.value=v.ior,v.sheen>0&&(A.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),A.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(A.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(A.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(A.clearcoat.value=v.clearcoat,A.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(A.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),A.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===Ps&&A.clearcoatNormalScale.value.negate())),v.iridescence>0&&(A.iridescence.value=v.iridescence,A.iridescenceIOR.value=v.iridescenceIOR,A.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(A.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(A.transmission.value=v.transmission,A.transmissionSamplerMap.value=y.texture,A.transmissionSamplerSize.value.set(y.width,y.height),v.transmissionMap&&(A.transmissionMap.value=v.transmissionMap),A.thickness.value=v.thickness,v.thicknessMap&&(A.thicknessMap.value=v.thicknessMap),A.attenuationDistance.value=v.attenuationDistance,A.attenuationColor.value.copy(v.attenuationColor)),A.specularIntensity.value=v.specularIntensity,A.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(A.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(A.specularColorMap.value=v.specularColorMap)}function d(A,v){v.matcap&&(A.matcap.value=v.matcap)}function m(A,v){A.referencePosition.value.copy(v.referencePosition),A.nearDistance.value=v.nearDistance,A.farDistance.value=v.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function Mle(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(_,x){const E=x.program;r.uniformBlockBinding(_,E)}function c(_,x){let E=i[_.id];E===void 0&&(m(_),E=u(_),i[_.id]=E,_.addEventListener("dispose",v));const b=x.program;r.updateUBOMapping(_,b);const w=e.render.frame;s[_.id]!==w&&(h(_),s[_.id]=w)}function u(_){const x=f();_.__bindingPointIndex=x;const E=t.createBuffer(),b=_.__size,w=_.usage;return t.bindBuffer(35345,E),t.bufferData(35345,b,w),t.bindBuffer(35345,null),t.bindBufferBase(35345,x,E),E}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const x=i[_.id],E=_.uniforms,b=_.__cache;t.bindBuffer(35345,x);for(let w=0,T=E.length;w<T;w++){const C=E[w];if(d(C,w,b)===!0){const I=C.value,B=C.__offset;typeof I=="number"?(C.__data[0]=I,t.bufferSubData(35345,B,C.__data)):(C.value.isMatrix3?(C.__data[0]=C.value.elements[0],C.__data[1]=C.value.elements[1],C.__data[2]=C.value.elements[2],C.__data[3]=C.value.elements[0],C.__data[4]=C.value.elements[3],C.__data[5]=C.value.elements[4],C.__data[6]=C.value.elements[5],C.__data[7]=C.value.elements[0],C.__data[8]=C.value.elements[6],C.__data[9]=C.value.elements[7],C.__data[10]=C.value.elements[8],C.__data[11]=C.value.elements[0]):I.toArray(C.__data),t.bufferSubData(35345,B,C.__data))}}t.bindBuffer(35345,null)}function d(_,x,E){const b=_.value;if(E[x]===void 0)return typeof b=="number"?E[x]=b:E[x]=b.clone(),!0;if(typeof b=="number"){if(E[x]!==b)return E[x]=b,!0}else{const w=E[x];if(w.equals(b)===!1)return w.copy(b),!0}return!1}function m(_){const x=_.uniforms;let E=0;const b=16;let w=0;for(let T=0,C=x.length;T<C;T++){const I=x[T],B=A(I);if(I.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=E,T>0){w=E%b;const R=b-w;w!==0&&R-B.boundary<0&&(E+=b-w,I.__offset=E)}E+=B.storage}return w=E%b,w>0&&(E+=b-w),_.__size=E,_.__cache={},this}function A(_){const x=_.value,E={boundary:0,storage:0};return typeof x=="number"?(E.boundary=4,E.storage=4):x.isVector2?(E.boundary=8,E.storage=8):x.isVector3||x.isColor?(E.boundary=16,E.storage=12):x.isVector4?(E.boundary=16,E.storage=16):x.isMatrix3?(E.boundary=48,E.storage=48):x.isMatrix4?(E.boundary=64,E.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),E}function v(_){const x=_.target;x.removeEventListener("dispose",v);const E=o.indexOf(x.__bindingPointIndex);o.splice(E,1),t.deleteBuffer(i[x.id]),delete i[x.id],delete s[x.id]}function y(){for(const _ in i)t.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:y}}function Ble(){const t=O1("canvas");return t.style.display="block",t}function xI(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:Ble(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;n!==null?u=n.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let f=null,h=null;const d=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=wf,this.physicallyCorrectLights=!1,this.toneMapping=ro,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const A=this;let v=!1,y=0,_=0,x=null,E=-1,b=null;const w=new sn,T=new sn;let C=null,I=e.width,B=e.height,R=1,L=null,z=null;const O=new sn(0,0,I,B),G=new sn(0,0,I,B);let j=!1;const J=new g8;let N=!1,V=!1,Q=null;const Z=new dt,re=new Se,ge=new K,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function be(){return x===null?R:1}let oe=n;function Fe(q,ye){for(let xe=0;xe<q.length;xe++){const ve=q[xe],Le=e.getContext(ve,ye);if(Le!==null)return Le}return null}try{const q={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ql}`),e.addEventListener("webglcontextlost",st,!1),e.addEventListener("webglcontextrestored",mt,!1),e.addEventListener("webglcontextcreationerror",Nt,!1),oe===null){const ye=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&ye.shift(),oe=Fe(ye,q),oe===null)throw Fe(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}oe.getShaderPrecisionFormat===void 0&&(oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let he,U,W,Y,ie,te,de,Pe,ke,Ye,nt,Je,pt,Ct,X,H,ce,De,Oe,Ge,_t,$e,Te,lt;function vt(){he=new Woe(oe),U=new Goe(oe,he,t),he.init(U),$e=new aV(oe,he,U),W=new Sle(oe,he,U),Y=new Joe,ie=new hle,te=new wle(oe,he,W,ie,U,$e,Y),de=new Qoe(A),Pe=new $oe(A),ke=new iie(oe,U),Te=new Noe(oe,he,ke,U),Ye=new joe(oe,ke,Y,Te),nt=new Zoe(oe,Ye,ke,Y),Oe=new qoe(oe,U,te),H=new zoe(ie),Je=new fle(A,de,Pe,he,U,Te,H),pt=new Tle(A,ie),Ct=new ple,X=new xle(he,U),De=new Ooe(A,de,Pe,W,nt,u,o),ce=new Cle(A,nt,U),lt=new Mle(oe,Y,U,W),Ge=new Uoe(oe,he,Y,U),_t=new Koe(oe,he,Y,U),Y.programs=Je.programs,A.capabilities=U,A.extensions=he,A.properties=ie,A.renderLists=Ct,A.shadowMap=ce,A.state=W,A.info=Y}vt();const it=new Ile(A,oe);this.xr=it,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const q=he.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=he.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(q){q!==void 0&&(R=q,this.setSize(I,B,!1))},this.getSize=function(q){return q.set(I,B)},this.setSize=function(q,ye,xe){if(it.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=q,B=ye,e.width=Math.floor(q*R),e.height=Math.floor(ye*R),xe!==!1&&(e.style.width=q+"px",e.style.height=ye+"px"),this.setViewport(0,0,q,ye)},this.getDrawingBufferSize=function(q){return q.set(I*R,B*R).floor()},this.setDrawingBufferSize=function(q,ye,xe){I=q,B=ye,R=xe,e.width=Math.floor(q*xe),e.height=Math.floor(ye*xe),this.setViewport(0,0,q,ye)},this.getCurrentViewport=function(q){return q.copy(w)},this.getViewport=function(q){return q.copy(O)},this.setViewport=function(q,ye,xe,ve){q.isVector4?O.set(q.x,q.y,q.z,q.w):O.set(q,ye,xe,ve),W.viewport(w.copy(O).multiplyScalar(R).floor())},this.getScissor=function(q){return q.copy(G)},this.setScissor=function(q,ye,xe,ve){q.isVector4?G.set(q.x,q.y,q.z,q.w):G.set(q,ye,xe,ve),W.scissor(T.copy(G).multiplyScalar(R).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(q){W.setScissorTest(j=q)},this.setOpaqueSort=function(q){L=q},this.setTransparentSort=function(q){z=q},this.getClearColor=function(q){return q.copy(De.getClearColor())},this.setClearColor=function(){De.setClearColor.apply(De,arguments)},this.getClearAlpha=function(){return De.getClearAlpha()},this.setClearAlpha=function(){De.setClearAlpha.apply(De,arguments)},this.clear=function(q=!0,ye=!0,xe=!0){let ve=0;q&&(ve|=16384),ye&&(ve|=256),xe&&(ve|=1024),oe.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",st,!1),e.removeEventListener("webglcontextrestored",mt,!1),e.removeEventListener("webglcontextcreationerror",Nt,!1),Ct.dispose(),X.dispose(),ie.dispose(),de.dispose(),Pe.dispose(),nt.dispose(),Te.dispose(),lt.dispose(),Je.dispose(),it.dispose(),it.removeEventListener("sessionstart",et),it.removeEventListener("sessionend",St),Q&&(Q.dispose(),Q=null),an.stop()};function st(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const q=Y.autoReset,ye=ce.enabled,xe=ce.autoUpdate,ve=ce.needsUpdate,Le=ce.type;vt(),Y.autoReset=q,ce.enabled=ye,ce.autoUpdate=xe,ce.needsUpdate=ve,ce.type=Le}function Nt(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function Gt(q){const ye=q.target;ye.removeEventListener("dispose",Gt),zt(ye)}function zt(q){le(q),ie.remove(q)}function le(q){const ye=ie.get(q).programs;ye!==void 0&&(ye.forEach(function(xe){Je.releaseProgram(xe)}),q.isShaderMaterial&&Je.releaseShaderCache(q))}this.renderBufferDirect=function(q,ye,xe,ve,Le,F){ye===null&&(ye=Ee);const $=Le.isMesh&&Le.matrixWorld.determinant()<0,ne=Xm(q,ye,xe,ve,Le);W.setMaterial(ve,$);let ue=xe.index;const Ae=xe.attributes.position;if(ue===null){if(Ae===void 0||Ae.count===0)return}else if(ue.count===0)return;let me=1;ve.wireframe===!0&&(ue=Ye.getWireframeAttribute(xe),me=2),Te.setup(Le,ve,ne,xe,ue);let Be,Re=Ge;ue!==null&&(Be=ke.get(ue),Re=_t,Re.setIndex(Be));const He=ue!==null?ue.count:Ae.count,Ve=xe.drawRange.start*me,We=xe.drawRange.count*me,ze=F!==null?F.start*me:0,Et=F!==null?F.count*me:1/0,at=Math.max(Ve,ze),Ze=Math.min(He,Ve+We,ze+Et)-1,bt=Math.max(0,Ze-at+1);if(bt!==0){if(Le.isMesh)ve.wireframe===!0?(W.setLineWidth(ve.wireframeLinewidth*be()),Re.setMode(1)):Re.setMode(4);else if(Le.isLine){let Rt=ve.linewidth;Rt===void 0&&(Rt=1),W.setLineWidth(Rt*be()),Le.isLineSegments?Re.setMode(1):Le.isLineLoop?Re.setMode(2):Re.setMode(3)}else Le.isPoints?Re.setMode(0):Le.isSprite&&Re.setMode(4);if(Le.isInstancedMesh)Re.renderInstances(at,bt,Le.count);else if(xe.isInstancedBufferGeometry){const Rt=Math.min(xe.instanceCount,xe._maxInstanceCount);Re.renderInstances(at,bt,Rt)}else Re.render(at,bt)}},this.compile=function(q,ye){function xe(ve,Le,F){ve.transparent===!0&&ve.side===$o?(ve.side=Ps,ve.needsUpdate=!0,Li(ve,Le,F),ve.side=Ef,ve.needsUpdate=!0,Li(ve,Le,F),ve.side=$o):Li(ve,Le,F)}h=X.get(q),h.init(),m.push(h),q.traverseVisible(function(ve){ve.isLight&&ve.layers.test(ye.layers)&&(h.pushLight(ve),ve.castShadow&&h.pushShadow(ve))}),h.setupLights(A.physicallyCorrectLights),q.traverse(function(ve){const Le=ve.material;if(Le)if(Array.isArray(Le))for(let F=0;F<Le.length;F++){const $=Le[F];xe($,q,ve)}else xe(Le,q,ve)}),m.pop(),h=null};let ae=null;function Ne(q){ae&&ae(q)}function et(){an.stop()}function St(){an.start()}const an=new nV;an.setAnimationLoop(Ne),typeof self<"u"&&an.setContext(self),this.setAnimationLoop=function(q){ae=q,it.setAnimationLoop(q),q===null?an.stop():an.start()},it.addEventListener("sessionstart",et),it.addEventListener("sessionend",St),this.render=function(q,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),it.enabled===!0&&it.isPresenting===!0&&(it.cameraAutoUpdate===!0&&it.updateCamera(ye),ye=it.getCamera()),q.isScene===!0&&q.onBeforeRender(A,q,ye,x),h=X.get(q,m.length),h.init(),m.push(h),Z.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),J.setFromProjectionMatrix(Z),V=this.localClippingEnabled,N=H.init(this.clippingPlanes,V,ye),f=Ct.get(q,d.length),f.init(),d.push(f),sr(q,ye,0,A.sortObjects),f.finish(),A.sortObjects===!0&&f.sort(L,z),N===!0&&H.beginShadows();const xe=h.state.shadowsArray;if(ce.render(xe,q,ye),N===!0&&H.endShadows(),this.info.autoReset===!0&&this.info.reset(),De.render(f,q),h.setupLights(A.physicallyCorrectLights),ye.isArrayCamera){const ve=ye.cameras;for(let Le=0,F=ve.length;Le<F;Le++){const $=ve[Le];Gr(f,q,$,$.viewport)}}else Gr(f,q,ye);x!==null&&(te.updateMultisampleRenderTarget(x),te.updateRenderTargetMipmap(x)),q.isScene===!0&&q.onAfterRender(A,q,ye),Te.resetDefaultState(),E=-1,b=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,d.pop(),d.length>0?f=d[d.length-1]:f=null};function sr(q,ye,xe,ve){if(q.visible===!1)return;if(q.layers.test(ye.layers)){if(q.isGroup)xe=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(ye);else if(q.isLight)h.pushLight(q),q.castShadow&&h.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||J.intersectsSprite(q)){ve&&ge.setFromMatrixPosition(q.matrixWorld).applyMatrix4(Z);const $=nt.update(q),ne=q.material;ne.visible&&f.push(q,$,ne,xe,ge.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(q.isSkinnedMesh&&q.skeleton.frame!==Y.render.frame&&(q.skeleton.update(),q.skeleton.frame=Y.render.frame),!q.frustumCulled||J.intersectsObject(q))){ve&&ge.setFromMatrixPosition(q.matrixWorld).applyMatrix4(Z);const $=nt.update(q),ne=q.material;if(Array.isArray(ne)){const ue=$.groups;for(let Ae=0,me=ue.length;Ae<me;Ae++){const Be=ue[Ae],Re=ne[Be.materialIndex];Re&&Re.visible&&f.push(q,$,Re,xe,ge.z,Be)}}else ne.visible&&f.push(q,$,ne,xe,ge.z,null)}}const F=q.children;for(let $=0,ne=F.length;$<ne;$++)sr(F[$],ye,xe,ve)}function Gr(q,ye,xe,ve){const Le=q.opaque,F=q.transmissive,$=q.transparent;h.setupLightsView(xe),F.length>0&&xo(Le,ye,xe),ve&&W.viewport(w.copy(ve)),Le.length>0&&Tn(Le,ye,xe),F.length>0&&Tn(F,ye,xe),$.length>0&&Tn($,ye,xe),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1)}function xo(q,ye,xe){const ve=U.isWebGL2;Q===null&&(Q=new Dn(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?wn:Ai,minFilter:za,samples:ve&&s===!0?4:0})),A.getDrawingBufferSize(re),ve?Q.setSize(re.x,re.y):Q.setSize(L6(re.x),L6(re.y));const Le=A.getRenderTarget();A.setRenderTarget(Q),A.clear();const F=A.toneMapping;A.toneMapping=ro,Tn(q,ye,xe),A.toneMapping=F,te.updateMultisampleRenderTarget(Q),te.updateRenderTargetMipmap(Q),A.setRenderTarget(Le)}function Tn(q,ye,xe){const ve=ye.isScene===!0?ye.overrideMaterial:null;for(let Le=0,F=q.length;Le<F;Le++){const $=q[Le],ne=$.object,ue=$.geometry,Ae=ve===null?$.material:ve,me=$.group;ne.layers.test(xe.layers)&&vs(ne,ye,xe,ue,Ae,me)}}function vs(q,ye,xe,ve,Le,F){q.onBeforeRender(A,ye,xe,ve,Le,F),q.modelViewMatrix.multiplyMatrices(xe.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),Le.onBeforeRender(A,ye,xe,ve,q,F),Le.transparent===!0&&Le.side===$o?(Le.side=Ps,Le.needsUpdate=!0,A.renderBufferDirect(xe,ye,ve,Le,q,F),Le.side=Ef,Le.needsUpdate=!0,A.renderBufferDirect(xe,ye,ve,Le,q,F),Le.side=$o):A.renderBufferDirect(xe,ye,ve,Le,q,F),q.onAfterRender(A,ye,xe,ve,Le,F)}function Li(q,ye,xe){ye.isScene!==!0&&(ye=Ee);const ve=ie.get(q),Le=h.state.lights,F=h.state.shadowsArray,$=Le.state.version,ne=Je.getParameters(q,Le.state,F,ye,xe),ue=Je.getProgramCacheKey(ne);let Ae=ve.programs;ve.environment=q.isMeshStandardMaterial?ye.environment:null,ve.fog=ye.fog,ve.envMap=(q.isMeshStandardMaterial?Pe:de).get(q.envMap||ve.environment),Ae===void 0&&(q.addEventListener("dispose",Gt),Ae=new Map,ve.programs=Ae);let me=Ae.get(ue);if(me!==void 0){if(ve.currentProgram===me&&ve.lightsStateVersion===$)return jd(q,ne),me}else ne.uniforms=Je.getUniforms(q),q.onBuild(xe,ne,A),q.onBeforeCompile(ne,A),me=Je.acquireProgram(ne,ue),Ae.set(ue,me),ve.uniforms=ne.uniforms;const Be=ve.uniforms;(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(Be.clippingPlanes=H.uniform),jd(q,ne),ve.needsLights=th(q),ve.lightsStateVersion=$,ve.needsLights&&(Be.ambientLightColor.value=Le.state.ambient,Be.lightProbe.value=Le.state.probe,Be.directionalLights.value=Le.state.directional,Be.directionalLightShadows.value=Le.state.directionalShadow,Be.spotLights.value=Le.state.spot,Be.spotLightShadows.value=Le.state.spotShadow,Be.rectAreaLights.value=Le.state.rectArea,Be.ltc_1.value=Le.state.rectAreaLTC1,Be.ltc_2.value=Le.state.rectAreaLTC2,Be.pointLights.value=Le.state.point,Be.pointLightShadows.value=Le.state.pointShadow,Be.hemisphereLights.value=Le.state.hemi,Be.directionalShadowMap.value=Le.state.directionalShadowMap,Be.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,Be.spotShadowMap.value=Le.state.spotShadowMap,Be.spotLightMatrix.value=Le.state.spotLightMatrix,Be.spotLightMap.value=Le.state.spotLightMap,Be.pointShadowMap.value=Le.state.pointShadowMap,Be.pointShadowMatrix.value=Le.state.pointShadowMatrix);const Re=me.getUniforms(),He=F5.seqWithValue(Re.seq,Be);return ve.currentProgram=me,ve.uniformsList=He,me}function jd(q,ye){const xe=ie.get(q);xe.outputEncoding=ye.outputEncoding,xe.instancing=ye.instancing,xe.skinning=ye.skinning,xe.morphTargets=ye.morphTargets,xe.morphNormals=ye.morphNormals,xe.morphColors=ye.morphColors,xe.morphTargetsCount=ye.morphTargetsCount,xe.numClippingPlanes=ye.numClippingPlanes,xe.numIntersection=ye.numClipIntersection,xe.vertexAlphas=ye.vertexAlphas,xe.vertexTangents=ye.vertexTangents,xe.toneMapping=ye.toneMapping}function Xm(q,ye,xe,ve,Le){ye.isScene!==!0&&(ye=Ee),te.resetTextureUnits();const F=ye.fog,$=ve.isMeshStandardMaterial?ye.environment:null,ne=x===null?A.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:wf,ue=(ve.isMeshStandardMaterial?Pe:de).get(ve.envMap||$),Ae=ve.vertexColors===!0&&!!xe.attributes.color&&xe.attributes.color.itemSize===4,me=!!ve.normalMap&&!!xe.attributes.tangent,Be=!!xe.morphAttributes.position,Re=!!xe.morphAttributes.normal,He=!!xe.morphAttributes.color,Ve=ve.toneMapped?A.toneMapping:ro,We=xe.morphAttributes.position||xe.morphAttributes.normal||xe.morphAttributes.color,ze=We!==void 0?We.length:0,Et=ie.get(ve),at=h.state.lights;if(N===!0&&(V===!0||q!==b)){const Jt=q===b&&ve.id===E;H.setState(ve,q,Jt)}let Ze=!1;ve.version===Et.__version?(Et.needsLights&&Et.lightsStateVersion!==at.state.version||Et.outputEncoding!==ne||Le.isInstancedMesh&&Et.instancing===!1||!Le.isInstancedMesh&&Et.instancing===!0||Le.isSkinnedMesh&&Et.skinning===!1||!Le.isSkinnedMesh&&Et.skinning===!0||Et.envMap!==ue||ve.fog===!0&&Et.fog!==F||Et.numClippingPlanes!==void 0&&(Et.numClippingPlanes!==H.numPlanes||Et.numIntersection!==H.numIntersection)||Et.vertexAlphas!==Ae||Et.vertexTangents!==me||Et.morphTargets!==Be||Et.morphNormals!==Re||Et.morphColors!==He||Et.toneMapping!==Ve||U.isWebGL2===!0&&Et.morphTargetsCount!==ze)&&(Ze=!0):(Ze=!0,Et.__version=ve.version);let bt=Et.currentProgram;Ze===!0&&(bt=Li(ve,ye,Le));let Rt=!1,Xt=!1,en=!1;const yt=bt.getUniforms(),Lt=Et.uniforms;if(W.useProgram(bt.program)&&(Rt=!0,Xt=!0,en=!0),ve.id!==E&&(E=ve.id,Xt=!0),Rt||b!==q){if(yt.setValue(oe,"projectionMatrix",q.projectionMatrix),U.logarithmicDepthBuffer&&yt.setValue(oe,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),b!==q&&(b=q,Xt=!0,en=!0),ve.isShaderMaterial||ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshStandardMaterial||ve.envMap){const Jt=yt.map.cameraPosition;Jt!==void 0&&Jt.setValue(oe,ge.setFromMatrixPosition(q.matrixWorld))}(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&yt.setValue(oe,"isOrthographic",q.isOrthographicCamera===!0),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial||ve.isShadowMaterial||Le.isSkinnedMesh)&&yt.setValue(oe,"viewMatrix",q.matrixWorldInverse)}if(Le.isSkinnedMesh){yt.setOptional(oe,Le,"bindMatrix"),yt.setOptional(oe,Le,"bindMatrixInverse");const Jt=Le.skeleton;Jt&&(U.floatVertexTextures?(Jt.boneTexture===null&&Jt.computeBoneTexture(),yt.setValue(oe,"boneTexture",Jt.boneTexture,te),yt.setValue(oe,"boneTextureSize",Jt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const tn=xe.morphAttributes;if((tn.position!==void 0||tn.normal!==void 0||tn.color!==void 0&&U.isWebGL2===!0)&&Oe.update(Le,xe,ve,bt),(Xt||Et.receiveShadow!==Le.receiveShadow)&&(Et.receiveShadow=Le.receiveShadow,yt.setValue(oe,"receiveShadow",Le.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(Lt.envMap.value=ue,Lt.flipEnvMap.value=ue.isCubeTexture&&ue.isRenderTargetTexture===!1?-1:1),Xt&&(yt.setValue(oe,"toneMappingExposure",A.toneMappingExposure),Et.needsLights&&Yl(Lt,en),F&&ve.fog===!0&&pt.refreshFogUniforms(Lt,F),pt.refreshMaterialUniforms(Lt,ve,R,B,Q),F5.upload(oe,Et.uniformsList,Lt,te)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(F5.upload(oe,Et.uniformsList,Lt,te),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&yt.setValue(oe,"center",Le.center),yt.setValue(oe,"modelViewMatrix",Le.modelViewMatrix),yt.setValue(oe,"normalMatrix",Le.normalMatrix),yt.setValue(oe,"modelMatrix",Le.matrixWorld),ve.isShaderMaterial||ve.isRawShaderMaterial){const Jt=ve.uniformsGroups;for(let Vt=0,Rn=Jt.length;Vt<Rn;Vt++)if(U.isWebGL2){const Xr=Jt[Vt];lt.update(Xr,bt),lt.bind(Xr,bt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return bt}function Yl(q,ye){q.ambientLightColor.needsUpdate=ye,q.lightProbe.needsUpdate=ye,q.directionalLights.needsUpdate=ye,q.directionalLightShadows.needsUpdate=ye,q.pointLights.needsUpdate=ye,q.pointLightShadows.needsUpdate=ye,q.spotLights.needsUpdate=ye,q.spotLightShadows.needsUpdate=ye,q.rectAreaLights.needsUpdate=ye,q.hemisphereLights.needsUpdate=ye}function th(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(q,ye,xe){ie.get(q.texture).__webglTexture=ye,ie.get(q.depthTexture).__webglTexture=xe;const ve=ie.get(q);ve.__hasExternalTextures=!0,ve.__hasExternalTextures&&(ve.__autoAllocateDepthBuffer=xe===void 0,ve.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(q,ye){const xe=ie.get(q);xe.__webglFramebuffer=ye,xe.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(q,ye=0,xe=0){x=q,y=ye,_=xe;let ve=!0,Le=null,F=!1,$=!1;if(q){const ue=ie.get(q);ue.__useDefaultFramebuffer!==void 0?(W.bindFramebuffer(36160,null),ve=!1):ue.__webglFramebuffer===void 0?te.setupRenderTarget(q):ue.__hasExternalTextures&&te.rebindTextures(q,ie.get(q.texture).__webglTexture,ie.get(q.depthTexture).__webglTexture);const Ae=q.texture;(Ae.isData3DTexture||Ae.isDataArrayTexture||Ae.isCompressedArrayTexture)&&($=!0);const me=ie.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Le=me[ye],F=!0):U.isWebGL2&&q.samples>0&&te.useMultisampledRTT(q)===!1?Le=ie.get(q).__webglMultisampledFramebuffer:Le=me,w.copy(q.viewport),T.copy(q.scissor),C=q.scissorTest}else w.copy(O).multiplyScalar(R).floor(),T.copy(G).multiplyScalar(R).floor(),C=j;if(W.bindFramebuffer(36160,Le)&&U.drawBuffers&&ve&&W.drawBuffers(q,Le),W.viewport(w),W.scissor(T),W.setScissorTest(C),F){const ue=ie.get(q.texture);oe.framebufferTexture2D(36160,36064,34069+ye,ue.__webglTexture,xe)}else if($){const ue=ie.get(q.texture),Ae=ye||0;oe.framebufferTextureLayer(36160,36064,ue.__webglTexture,xe||0,Ae)}E=-1},this.readRenderTargetPixels=function(q,ye,xe,ve,Le,F,$){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ne=ie.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&$!==void 0&&(ne=ne[$]),ne){W.bindFramebuffer(36160,ne);try{const ue=q.texture,Ae=ue.format,me=ue.type;if(Ae!==dr&&$e.convert(Ae)!==oe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Be=me===wn&&(he.has("EXT_color_buffer_half_float")||U.isWebGL2&&he.has("EXT_color_buffer_float"));if(me!==Ai&&$e.convert(me)!==oe.getParameter(35738)&&!(me===Yr&&(U.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Be){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=q.width-ve&&xe>=0&&xe<=q.height-Le&&oe.readPixels(ye,xe,ve,Le,$e.convert(Ae),$e.convert(me),F)}finally{const ue=x!==null?ie.get(x).__webglFramebuffer:null;W.bindFramebuffer(36160,ue)}}},this.copyFramebufferToTexture=function(q,ye,xe=0){const ve=Math.pow(2,-xe),Le=Math.floor(ye.image.width*ve),F=Math.floor(ye.image.height*ve);te.setTexture2D(ye,0),oe.copyTexSubImage2D(3553,xe,0,0,q.x,q.y,Le,F),W.unbindTexture()},this.copyTextureToTexture=function(q,ye,xe,ve=0){const Le=ye.image.width,F=ye.image.height,$=$e.convert(xe.format),ne=$e.convert(xe.type);te.setTexture2D(xe,0),oe.pixelStorei(37440,xe.flipY),oe.pixelStorei(37441,xe.premultiplyAlpha),oe.pixelStorei(3317,xe.unpackAlignment),ye.isDataTexture?oe.texSubImage2D(3553,ve,q.x,q.y,Le,F,$,ne,ye.image.data):ye.isCompressedTexture?oe.compressedTexSubImage2D(3553,ve,q.x,q.y,ye.mipmaps[0].width,ye.mipmaps[0].height,$,ye.mipmaps[0].data):oe.texSubImage2D(3553,ve,q.x,q.y,$,ne,ye.image),ve===0&&xe.generateMipmaps&&oe.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(q,ye,xe,ve,Le=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const F=q.max.x-q.min.x+1,$=q.max.y-q.min.y+1,ne=q.max.z-q.min.z+1,ue=$e.convert(ve.format),Ae=$e.convert(ve.type);let me;if(ve.isData3DTexture)te.setTexture3D(ve,0),me=32879;else if(ve.isDataArrayTexture)te.setTexture2DArray(ve,0),me=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(37440,ve.flipY),oe.pixelStorei(37441,ve.premultiplyAlpha),oe.pixelStorei(3317,ve.unpackAlignment);const Be=oe.getParameter(3314),Re=oe.getParameter(32878),He=oe.getParameter(3316),Ve=oe.getParameter(3315),We=oe.getParameter(32877),ze=xe.isCompressedTexture?xe.mipmaps[0]:xe.image;oe.pixelStorei(3314,ze.width),oe.pixelStorei(32878,ze.height),oe.pixelStorei(3316,q.min.x),oe.pixelStorei(3315,q.min.y),oe.pixelStorei(32877,q.min.z),xe.isDataTexture||xe.isData3DTexture?oe.texSubImage3D(me,Le,ye.x,ye.y,ye.z,F,$,ne,ue,Ae,ze.data):xe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),oe.compressedTexSubImage3D(me,Le,ye.x,ye.y,ye.z,F,$,ne,ue,ze.data)):oe.texSubImage3D(me,Le,ye.x,ye.y,ye.z,F,$,ne,ue,Ae,ze),oe.pixelStorei(3314,Be),oe.pixelStorei(32878,Re),oe.pixelStorei(3316,He),oe.pixelStorei(3315,Ve),oe.pixelStorei(32877,We),Le===0&&ve.generateMipmaps&&oe.generateMipmap(me),W.unbindTexture()},this.initTexture=function(q){q.isCubeTexture?te.setTextureCube(q,0):q.isData3DTexture?te.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?te.setTexture2DArray(q,0):te.setTexture2D(q,0),W.unbindTexture()},this.resetState=function(){y=0,_=0,x=null,W.reset(),Te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class cV extends xI{}cV.prototype.isWebGL1Renderer=!0;class y8{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ue(e),this.density=n}clone(){return new y8(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class x8{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ue(e),this.near=n,this.far=r}clone(){return new x8(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class N1 extends hn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.backgroundBlurriness=this.backgroundBlurriness),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class F2{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=k1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=io()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const rs=new K;class bf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)rs.fromBufferAttribute(this,n),rs.applyMatrix4(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)rs.fromBufferAttribute(this,n),rs.applyNormalMatrix(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)rs.fromBufferAttribute(this,n),rs.transformDirection(e),this.setXYZ(n,rs.x,rs.y,rs.z);return this}setX(e,n){return this.normalized&&(n=Nn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Cc(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Cc(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Cc(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Cc(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nn(n,this.array),r=Nn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nn(n,this.array),r=Nn(r,this.array),i=Nn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nn(n,this.array),r=Nn(r,this.array),i=Nn(i,this.array),s=Nn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new xn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new bf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _I extends Ur{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _p;const Mg=new K,Ep=new K,Cp=new K,Sp=new Se,Bg=new Se,uV=new dt,hy=new K,Rg=new K,dy=new K,VD=new Se,j9=new Se,$D=new Se;class fV extends hn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",_p===void 0){_p=new Ht;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new F2(n,5);_p.setIndex([0,1,2,0,2,3]),_p.setAttribute("position",new bf(r,3,0,!1)),_p.setAttribute("uv",new bf(r,2,3,!1))}this.geometry=_p,this.material=e!==void 0?e:new _I,this.center=new Se(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ep.setFromMatrixScale(this.matrixWorld),uV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Cp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ep.multiplyScalar(-Cp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;py(hy.set(-.5,-.5,0),Cp,o,Ep,i,s),py(Rg.set(.5,-.5,0),Cp,o,Ep,i,s),py(dy.set(.5,.5,0),Cp,o,Ep,i,s),VD.set(0,0),j9.set(1,0),$D.set(1,1);let a=e.ray.intersectTriangle(hy,Rg,dy,!1,Mg);if(a===null&&(py(Rg.set(-.5,.5,0),Cp,o,Ep,i,s),j9.set(0,1),a=e.ray.intersectTriangle(hy,dy,Rg,!1,Mg),a===null))return;const l=e.ray.origin.distanceTo(Mg);l<e.near||l>e.far||n.push({distance:l,point:Mg.clone(),uv:zo.getUV(Mg,hy,Rg,dy,VD,j9,$D,new Se),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function py(t,e,n,r,i,s){Sp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Bg.x=s*Sp.x-i*Sp.y,Bg.y=i*Sp.x+s*Sp.y):Bg.copy(Sp),t.copy(e),t.x+=Bg.x,t.y+=Bg.y,t.applyMatrix4(uV)}const my=new K,WD=new K;class hV extends hn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0){n=Math.abs(n);const r=this.levels;let i;for(i=0;i<r.length&&!(n<r[i].distance);i++);return r.splice(i,0,{distance:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i&&!(e<n[r].distance);r++);return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){my.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(my);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){my.setFromMatrixPosition(e.matrixWorld),WD.setFromMatrixPosition(this.matrixWorld);const r=my.distanceTo(WD)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s&&r>=n[i].distance;i++)n[i-1].object.visible=!1,n[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance})}return n}}const jD=new K,KD=new sn,JD=new sn,Rle=new K,YD=new dt;class EI extends bn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dt,this.bindMatrixInverse=new dt}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new sn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;KD.fromBufferAttribute(i.attributes.skinIndex,e),JD.fromBufferAttribute(i.attributes.skinWeight,e),jD.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=JD.getComponent(s);if(o!==0){const a=KD.getComponent(s);YD.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Rle.copy(jD).applyMatrix4(YD),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class _8 extends hn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Il extends qn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Qt,u=Qt,f,h){super(null,o,a,l,c,u,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const XD=new dt,Ple=new dt;class O2{constructor(e=[],n=[]){this.uuid=io(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new dt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new dt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Ple;XD.multiplyMatrices(a,n[s]),XD.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new O2(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=qH(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Il(n,e,e,dr,Yr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _8),this.bones.push(o),this.boneInverses.push(new dt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Y0 extends xn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qD=new dt,ZD=new dt,gy=[],Dle=new dt,Pg=new bn;class CI extends bn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Y0(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,Dle)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Pg.geometry=this.geometry,Pg.material=this.material,Pg.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,qD),ZD.multiplyMatrices(r,qD),Pg.matrixWorld=ZD,Pg.raycast(e,gy);for(let o=0,a=gy.length;o<a;o++){const l=gy[o];l.instanceId=s,l.object=this,n.push(l)}gy.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Y0(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class qi extends Ur{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ue(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const eL=new K,tL=new K,nL=new dt,K9=new D2,Ay=new Wf;class zc extends hn{constructor(e=new Ht,n=new qi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)eL.fromBufferAttribute(n,i-1),tL.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=eL.distanceTo(tL);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ay.copy(r.boundingSphere),Ay.applyMatrix4(i),Ay.radius+=s,e.ray.intersectsSphere(Ay)===!1)return;nL.copy(i).invert(),K9.copy(e.ray).applyMatrix4(nL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new K,u=new K,f=new K,h=new K,d=this.isLineSegments?2:1,m=r.index,v=r.attributes.position;if(m!==null){const y=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let x=y,E=_-1;x<E;x+=d){const b=m.getX(x),w=m.getX(x+1);if(c.fromBufferAttribute(v,b),u.fromBufferAttribute(v,w),K9.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(h);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let x=y,E=_-1;x<E;x+=d){if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,x+1),K9.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||n.push({distance:w,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const rL=new K,iL=new K;class Qa extends zc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)rL.fromBufferAttribute(n,i),iL.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+rL.distanceTo(iL);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class SI extends zc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class E8 extends Ur{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const sL=new dt,iS=new D2,vy=new Wf,yy=new K;class C8 extends hn{constructor(e=new Ht,n=new E8){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),vy.copy(r.boundingSphere),vy.applyMatrix4(i),vy.radius+=s,e.ray.intersectsSphere(vy)===!1)return;sL.copy(i).invert(),iS.copy(e.ray).applyMatrix4(sL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),d=Math.min(c.count,o.start+o.count);for(let m=h,A=d;m<A;m++){const v=c.getX(m);yy.fromBufferAttribute(f,v),oL(yy,v,l,i,e,n,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let m=h,A=d;m<A;m++)yy.fromBufferAttribute(f,m),oL(yy,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function oL(t,e,n,r,i,s,o){const a=iS.distanceSqToPoint(t);if(a<n){const l=new K;iS.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Lle extends qn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Cn,this.magFilter=s!==void 0?s:Cn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kle extends qn{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Qt,this.minFilter=Qt,this.generateMipmaps=!1,this.needsUpdate=!0}}class gd extends qn{constructor(e,n,r,i,s,o,a,l,c,u,f,h){super(null,o,a,l,c,u,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let Fle=class extends gd{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=hr}};class Ole extends qn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ha{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],h=r[i+1]-u,d=(o-u)/h;return(i+d)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Se:new K);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new K,i=[],s=[],o=[],a=new K,l=new dt;for(let d=0;d<=e;d++){const m=d/e;i[d]=this.getTangentAt(m,new K)}s[0]=new K,o[0]=new K;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(i[d-1],i[d]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Nr(i[d-1].dot(i[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(a,m))}o[d].crossVectors(i[d],s[d])}if(n===!0){let d=Math.acos(Nr(s[0].dot(s[e]),-1,1));d/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(i[m],d*m)),o[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class S8 extends Ha{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Se,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=c-this.aY;l=h*u-d*f+this.aX,c=h*f+d*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class dV extends S8{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function wI(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,d=(a-o)/u-(l-o)/(u+f)+(l-a)/f;h*=u,d*=u,i(o,a,h,d)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const xy=new K,J9=new wI,Y9=new wI,X9=new wI;class pV extends Ha{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new K){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(xy.subVectors(i[0],i[1]).add(i[0]),c=xy);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(xy.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=xy),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(f),d),A=Math.pow(f.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(u),d);A<1e-4&&(A=1),m<1e-4&&(m=A),v<1e-4&&(v=A),J9.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,m,A,v),Y9.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,m,A,v),X9.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,m,A,v)}else this.curveType==="catmullrom"&&(J9.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),Y9.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),X9.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return r.set(J9.calc(l),Y9.calc(l),X9.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new K().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function aL(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Nle(t,e){const n=1-t;return n*n*e}function Ule(t,e){return 2*(1-t)*t*e}function Gle(t,e){return t*t*e}function P3(t,e,n,r){return Nle(t,e)+Ule(t,n)+Gle(t,r)}function zle(t,e){const n=1-t;return n*n*n*e}function Qle(t,e){const n=1-t;return 3*n*n*t*e}function Hle(t,e){return 3*(1-t)*t*t*e}function Vle(t,e){return t*t*t*e}function D3(t,e,n,r,i){return zle(t,e)+Qle(t,n)+Hle(t,r)+Vle(t,i)}class bI extends Ha{constructor(e=new Se,n=new Se,r=new Se,i=new Se){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Se){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(D3(e,i.x,s.x,o.x,a.x),D3(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mV extends Ha{constructor(e=new K,n=new K,r=new K,i=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new K){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(D3(e,i.x,s.x,o.x,a.x),D3(e,i.y,s.y,o.y,a.y),D3(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class w8 extends Ha{constructor(e=new Se,n=new Se){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Se){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new Se;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gV extends Ha{constructor(e=new K,n=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new K){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class II extends Ha{constructor(e=new Se,n=new Se,r=new Se){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Se){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(P3(e,i.x,s.x,o.x),P3(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TI extends Ha{constructor(e=new K,n=new K,r=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new K){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(P3(e,i.x,s.x,o.x),P3(e,i.y,s.y,o.y),P3(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MI extends Ha{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Se){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(aL(a,l.x,c.x,u.x,f.x),aL(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Se().fromArray(i))}return this}}var BI=Object.freeze({__proto__:null,ArcCurve:dV,CatmullRomCurve3:pV,CubicBezierCurve:bI,CubicBezierCurve3:mV,EllipseCurve:S8,LineCurve:w8,LineCurve3:gV,QuadraticBezierCurve:II,QuadraticBezierCurve3:TI,SplineCurve:MI});class AV extends Ha{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new w8(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new BI[i.type]().fromJSON(i))}return this}}let U1=class extends AV{constructor(e){super(),this.type="Path",this.currentPoint=new Se,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new w8(this.currentPoint.clone(),new Se(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new II(this.currentPoint.clone(),new Se(e,n),new Se(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new bI(this.currentPoint.clone(),new Se(e,n),new Se(r,i),new Se(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new MI(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new S8(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Rm extends Ht{constructor(e=[new Se(0,-.5),new Se(.5,0),new Se(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Nr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,f=new K,h=new Se,d=new K,m=new K,A=new K;let v=0,y=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:v=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,d.x=y*1,d.y=-v,d.z=y*0,A.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(A.x,A.y,A.z);break;default:v=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,d.x=y*1,d.y=-v,d.z=y*0,m.copy(d),d.x+=A.x,d.y+=A.y,d.z+=A.z,d.normalize(),l.push(d.x,d.y,d.z),A.copy(m)}for(let _=0;_<=n;_++){const x=r+_*u*i,E=Math.sin(x),b=Math.cos(x);for(let w=0;w<=e.length-1;w++){f.x=e[w].x*E,f.y=e[w].y,f.z=e[w].x*b,o.push(f.x,f.y,f.z),h.x=_/n,h.y=w/(e.length-1),a.push(h.x,h.y);const T=l[3*w+0]*E,C=l[3*w+1],I=l[3*w+0]*b;c.push(T,C,I)}}for(let _=0;_<n;_++)for(let x=0;x<e.length-1;x++){const E=x+_*e.length,b=E,w=E+e.length,T=E+e.length+1,C=E+1;s.push(b,w,C),s.push(T,C,w)}this.setIndex(s),this.setAttribute("position",new At(o,3)),this.setAttribute("uv",new At(a,2)),this.setAttribute("normal",new At(c,3))}static fromJSON(e){return new Rm(e.points,e.segments,e.phiStart,e.phiLength)}}class N2 extends Rm{constructor(e=1,n=1,r=4,i=8){const s=new U1;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new N2(e.radius,e.length,e.capSegments,e.radialSegments)}}class U2 extends Ht{constructor(e=1,n=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new K,u=new Se;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=r+f/n*i;c.x=e*Math.cos(d),c.y=e*Math.sin(d),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(a,3)),this.setAttribute("uv",new At(l,2))}static fromJSON(e){return new U2(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Rd extends Ht{constructor(e=1,n=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],h=[],d=[];let m=0;const A=[],v=r/2;let y=0;_(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new At(f,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(d,2));function _(){const E=new K,b=new K;let w=0;const T=(n-e)/r;for(let C=0;C<=s;C++){const I=[],B=C/s,R=B*(n-e)+e;for(let L=0;L<=i;L++){const z=L/i,O=z*l+a,G=Math.sin(O),j=Math.cos(O);b.x=R*G,b.y=-B*r+v,b.z=R*j,f.push(b.x,b.y,b.z),E.set(G,T,j).normalize(),h.push(E.x,E.y,E.z),d.push(z,1-B),I.push(m++)}A.push(I)}for(let C=0;C<i;C++)for(let I=0;I<s;I++){const B=A[I][C],R=A[I+1][C],L=A[I+1][C+1],z=A[I][C+1];u.push(B,R,z),u.push(R,L,z),w+=6}c.addGroup(y,w,0),y+=w}function x(E){const b=m,w=new Se,T=new K;let C=0;const I=E===!0?e:n,B=E===!0?1:-1;for(let L=1;L<=i;L++)f.push(0,v*B,0),h.push(0,B,0),d.push(.5,.5),m++;const R=m;for(let L=0;L<=i;L++){const O=L/i*l+a,G=Math.cos(O),j=Math.sin(O);T.x=I*j,T.y=v*B,T.z=I*G,f.push(T.x,T.y,T.z),h.push(0,B,0),w.x=G*.5+.5,w.y=j*.5*B+.5,d.push(w.x,w.y),m++}for(let L=0;L<i;L++){const z=b+L,O=R+L;E===!0?u.push(O,O+1,z):u.push(O+1,O,z),C+=3}c.addGroup(y,C,E===!0?1:2),y+=C}}static fromJSON(e){return new Rd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class G2 extends Rd{constructor(e=1,n=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new G2(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tu extends Ht{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(s.slice(),3)),this.setAttribute("uv",new At(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const x=new K,E=new K,b=new K;for(let w=0;w<n.length;w+=3)d(n[w+0],x),d(n[w+1],E),d(n[w+2],b),l(x,E,b,_)}function l(_,x,E,b){const w=b+1,T=[];for(let C=0;C<=w;C++){T[C]=[];const I=_.clone().lerp(E,C/w),B=x.clone().lerp(E,C/w),R=w-C;for(let L=0;L<=R;L++)L===0&&C===w?T[C][L]=I:T[C][L]=I.clone().lerp(B,L/R)}for(let C=0;C<w;C++)for(let I=0;I<2*(w-C)-1;I++){const B=Math.floor(I/2);I%2===0?(h(T[C][B+1]),h(T[C+1][B]),h(T[C][B])):(h(T[C][B+1]),h(T[C+1][B+1]),h(T[C+1][B]))}}function c(_){const x=new K;for(let E=0;E<s.length;E+=3)x.x=s[E+0],x.y=s[E+1],x.z=s[E+2],x.normalize().multiplyScalar(_),s[E+0]=x.x,s[E+1]=x.y,s[E+2]=x.z}function u(){const _=new K;for(let x=0;x<s.length;x+=3){_.x=s[x+0],_.y=s[x+1],_.z=s[x+2];const E=v(_)/2/Math.PI+.5,b=y(_)/Math.PI+.5;o.push(E,1-b)}m(),f()}function f(){for(let _=0;_<o.length;_+=6){const x=o[_+0],E=o[_+2],b=o[_+4],w=Math.max(x,E,b),T=Math.min(x,E,b);w>.9&&T<.1&&(x<.2&&(o[_+0]+=1),E<.2&&(o[_+2]+=1),b<.2&&(o[_+4]+=1))}}function h(_){s.push(_.x,_.y,_.z)}function d(_,x){const E=_*3;x.x=e[E+0],x.y=e[E+1],x.z=e[E+2]}function m(){const _=new K,x=new K,E=new K,b=new K,w=new Se,T=new Se,C=new Se;for(let I=0,B=0;I<s.length;I+=9,B+=6){_.set(s[I+0],s[I+1],s[I+2]),x.set(s[I+3],s[I+4],s[I+5]),E.set(s[I+6],s[I+7],s[I+8]),w.set(o[B+0],o[B+1]),T.set(o[B+2],o[B+3]),C.set(o[B+4],o[B+5]),b.copy(_).add(x).add(E).divideScalar(3);const R=v(b);A(w,B+0,_,R),A(T,B+2,x,R),A(C,B+4,E,R)}}function A(_,x,E,b){b<0&&_.x===1&&(o[x]=_.x-1),E.x===0&&E.z===0&&(o[x]=b/2/Math.PI+.5)}function v(_){return Math.atan2(_.z,-_.x)}function y(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new tu(e.vertices,e.indices,e.radius,e.details)}}class z2 extends tu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new z2(e.radius,e.detail)}}const _y=new K,Ey=new K,q9=new K,Cy=new zo;class vV extends Ht{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Zh*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),h={},d=[];for(let m=0;m<l;m+=3){o?(c[0]=o.getX(m),c[1]=o.getX(m+1),c[2]=o.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:A,b:v,c:y}=Cy;if(A.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),y.fromBufferAttribute(a,c[2]),Cy.getNormal(q9),f[0]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const x=(_+1)%3,E=f[_],b=f[x],w=Cy[u[_]],T=Cy[u[x]],C=`${E}_${b}`,I=`${b}_${E}`;I in h&&h[I]?(q9.dot(h[I].normal)<=s&&(d.push(w.x,w.y,w.z),d.push(T.x,T.y,T.z)),h[I]=null):C in h||(h[C]={index0:c[_],index1:c[x],normal:q9.clone()})}}for(const m in h)if(h[m]){const{index0:A,index1:v}=h[m];_y.fromBufferAttribute(a,A),Ey.fromBufferAttribute(a,v),d.push(_y.x,_y.y,_y.z),d.push(Ey.x,Ey.y,Ey.z)}this.setAttribute("position",new At(d,3))}}}class nd extends U1{constructor(e){super(e),this.uuid=io(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new U1().fromJSON(i))}return this}}const $le={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=yV(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,h,d;if(r&&(s=Yle(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let m=n;m<i;m+=n)f=t[m],h=t[m+1],f<a&&(a=f),h<l&&(l=h),f>c&&(c=f),h>u&&(u=h);d=Math.max(c-a,u-l),d=d!==0?32767/d:0}return G1(s,o,n,a,l,d,0),o}};function yV(t,e,n,r,i){let s,o;if(i===ace(t,e,n,r)>0)for(s=e;s<n;s+=r)o=lL(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=lL(s,t[s],t[s+1],o);return o&&b8(o,o.next)&&(Q1(o),o=o.next),o}function Ad(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(b8(n,n.next)||mr(n.prev,n,n.next)===0)){if(Q1(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function G1(t,e,n,r,i,s,o){if(!t)return;!o&&s&&tce(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?jle(t,r,i,s):Wle(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Q1(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Kle(Ad(t),e,n),G1(t,e,n,r,i,s,2)):o===2&&Jle(t,e,n,r,i,s):G1(Ad(t),e,n,r,i,s,1);break}}}function Wle(t){const e=t.prev,n=t,r=t.next;if(mr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,h=i>s?i>o?i:o:s>o?s:o,d=a>l?a>c?a:c:l>c?l:c;let m=r.next;for(;m!==e;){if(m.x>=u&&m.x<=h&&m.y>=f&&m.y<=d&&i0(i,a,s,l,o,c,m.x,m.y)&&mr(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function jle(t,e,n,r){const i=t.prev,s=t,o=t.next;if(mr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,h=o.y,d=a<l?a<c?a:c:l<c?l:c,m=u<f?u<h?u:h:f<h?f:h,A=a>l?a>c?a:c:l>c?l:c,v=u>f?u>h?u:h:f>h?f:h,y=sS(d,m,e,n,r),_=sS(A,v,e,n,r);let x=t.prevZ,E=t.nextZ;for(;x&&x.z>=y&&E&&E.z<=_;){if(x.x>=d&&x.x<=A&&x.y>=m&&x.y<=v&&x!==i&&x!==o&&i0(a,u,l,f,c,h,x.x,x.y)&&mr(x.prev,x,x.next)>=0||(x=x.prevZ,E.x>=d&&E.x<=A&&E.y>=m&&E.y<=v&&E!==i&&E!==o&&i0(a,u,l,f,c,h,E.x,E.y)&&mr(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;x&&x.z>=y;){if(x.x>=d&&x.x<=A&&x.y>=m&&x.y<=v&&x!==i&&x!==o&&i0(a,u,l,f,c,h,x.x,x.y)&&mr(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;E&&E.z<=_;){if(E.x>=d&&E.x<=A&&E.y>=m&&E.y<=v&&E!==i&&E!==o&&i0(a,u,l,f,c,h,E.x,E.y)&&mr(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Kle(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!b8(i,s)&&xV(i,r,r.next,s)&&z1(i,s)&&z1(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Q1(r),Q1(r.next),r=t=s),r=r.next}while(r!==t);return Ad(r)}function Jle(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ice(o,a)){let l=_V(o,a);o=Ad(o,o.next),l=Ad(l,l.next),G1(o,e,n,r,i,s,0),G1(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Yle(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=yV(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(rce(c));for(i.sort(Xle),s=0;s<i.length;s++)n=qle(i[s],n);return n}function Xle(t,e){return t.x-e.x}function qle(t,e){const n=Zle(t,e);if(!n)return e;const r=_V(n,t);return Ad(r,r.next),Ad(n,n.next)}function Zle(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&i0(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),z1(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&ece(i,n)))&&(i=n,u=f)),n=n.next;while(n!==a);return i}function ece(t,e){return mr(t.prev,t,e.prev)<0&&mr(e.next,t,t.next)<0}function tce(t,e,n,r){let i=t;do i.z===0&&(i.z=sS(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,nce(i)}function nce(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function sS(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function rce(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function i0(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function ice(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!sce(t,e)&&(z1(t,e)&&z1(e,t)&&oce(t,e)&&(mr(t.prev,t,e.prev)||mr(t,e.prev,e))||b8(t,e)&&mr(t.prev,t,t.next)>0&&mr(e.prev,e,e.next)>0)}function mr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b8(t,e){return t.x===e.x&&t.y===e.y}function xV(t,e,n,r){const i=wy(mr(t,e,n)),s=wy(mr(t,e,r)),o=wy(mr(n,r,t)),a=wy(mr(n,r,e));return!!(i!==s&&o!==a||i===0&&Sy(t,n,e)||s===0&&Sy(t,r,e)||o===0&&Sy(n,t,r)||a===0&&Sy(n,e,r))}function Sy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function wy(t){return t>0?1:t<0?-1:0}function sce(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&xV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function z1(t,e){return mr(t.prev,t,t.next)<0?mr(t,e,t.next)>=0&&mr(t,t.prev,e)>=0:mr(t,e,t.prev)<0||mr(t,t.next,e)<0}function oce(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function _V(t,e){const n=new oS(t.i,t.x,t.y),r=new oS(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function lL(t,e,n,r){const i=new oS(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Q1(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function oS(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ace(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Tl{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Tl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];cL(e),uL(r,e);let o=e.length;n.forEach(cL);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,uL(r,n[l]);const a=$le.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function cL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function uL(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Q2 extends Ht{constructor(e=new nd([new Se(.5,.5),new Se(-.5,.5),new Se(-.5,-.5),new Se(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new At(i,3)),this.setAttribute("uv",new At(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:d-.1,A=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:lce;let x,E=!1,b,w,T,C;y&&(x=y.getSpacedPoints(u),E=!0,h=!1,b=y.computeFrenetFrames(u,!1),w=new K,T=new K,C=new K),h||(v=0,d=0,m=0,A=0);const I=a.extractPoints(c);let B=I.shape;const R=I.holes;if(!Tl.isClockWise(B)){B=B.reverse();for(let ie=0,te=R.length;ie<te;ie++){const de=R[ie];Tl.isClockWise(de)&&(R[ie]=de.reverse())}}const z=Tl.triangulateShape(B,R),O=B;for(let ie=0,te=R.length;ie<te;ie++){const de=R[ie];B=B.concat(de)}function G(ie,te,de){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().multiplyScalar(de).add(ie)}const j=B.length,J=z.length;function N(ie,te,de){let Pe,ke,Ye;const nt=ie.x-te.x,Je=ie.y-te.y,pt=de.x-ie.x,Ct=de.y-ie.y,X=nt*nt+Je*Je,H=nt*Ct-Je*pt;if(Math.abs(H)>Number.EPSILON){const ce=Math.sqrt(X),De=Math.sqrt(pt*pt+Ct*Ct),Oe=te.x-Je/ce,Ge=te.y+nt/ce,_t=de.x-Ct/De,$e=de.y+pt/De,Te=((_t-Oe)*Ct-($e-Ge)*pt)/(nt*Ct-Je*pt);Pe=Oe+nt*Te-ie.x,ke=Ge+Je*Te-ie.y;const lt=Pe*Pe+ke*ke;if(lt<=2)return new Se(Pe,ke);Ye=Math.sqrt(lt/2)}else{let ce=!1;nt>Number.EPSILON?pt>Number.EPSILON&&(ce=!0):nt<-Number.EPSILON?pt<-Number.EPSILON&&(ce=!0):Math.sign(Je)===Math.sign(Ct)&&(ce=!0),ce?(Pe=-Je,ke=nt,Ye=Math.sqrt(X)):(Pe=nt,ke=Je,Ye=Math.sqrt(X/2))}return new Se(Pe/Ye,ke/Ye)}const V=[];for(let ie=0,te=O.length,de=te-1,Pe=ie+1;ie<te;ie++,de++,Pe++)de===te&&(de=0),Pe===te&&(Pe=0),V[ie]=N(O[ie],O[de],O[Pe]);const Q=[];let Z,re=V.concat();for(let ie=0,te=R.length;ie<te;ie++){const de=R[ie];Z=[];for(let Pe=0,ke=de.length,Ye=ke-1,nt=Pe+1;Pe<ke;Pe++,Ye++,nt++)Ye===ke&&(Ye=0),nt===ke&&(nt=0),Z[Pe]=N(de[Pe],de[Ye],de[nt]);Q.push(Z),re=re.concat(Z)}for(let ie=0;ie<v;ie++){const te=ie/v,de=d*Math.cos(te*Math.PI/2),Pe=m*Math.sin(te*Math.PI/2)+A;for(let ke=0,Ye=O.length;ke<Ye;ke++){const nt=G(O[ke],V[ke],Pe);Fe(nt.x,nt.y,-de)}for(let ke=0,Ye=R.length;ke<Ye;ke++){const nt=R[ke];Z=Q[ke];for(let Je=0,pt=nt.length;Je<pt;Je++){const Ct=G(nt[Je],Z[Je],Pe);Fe(Ct.x,Ct.y,-de)}}}const ge=m+A;for(let ie=0;ie<j;ie++){const te=h?G(B[ie],re[ie],ge):B[ie];E?(T.copy(b.normals[0]).multiplyScalar(te.x),w.copy(b.binormals[0]).multiplyScalar(te.y),C.copy(x[0]).add(T).add(w),Fe(C.x,C.y,C.z)):Fe(te.x,te.y,0)}for(let ie=1;ie<=u;ie++)for(let te=0;te<j;te++){const de=h?G(B[te],re[te],ge):B[te];E?(T.copy(b.normals[ie]).multiplyScalar(de.x),w.copy(b.binormals[ie]).multiplyScalar(de.y),C.copy(x[ie]).add(T).add(w),Fe(C.x,C.y,C.z)):Fe(de.x,de.y,f/u*ie)}for(let ie=v-1;ie>=0;ie--){const te=ie/v,de=d*Math.cos(te*Math.PI/2),Pe=m*Math.sin(te*Math.PI/2)+A;for(let ke=0,Ye=O.length;ke<Ye;ke++){const nt=G(O[ke],V[ke],Pe);Fe(nt.x,nt.y,f+de)}for(let ke=0,Ye=R.length;ke<Ye;ke++){const nt=R[ke];Z=Q[ke];for(let Je=0,pt=nt.length;Je<pt;Je++){const Ct=G(nt[Je],Z[Je],Pe);E?Fe(Ct.x,Ct.y+x[u-1].y,x[u-1].x+de):Fe(Ct.x,Ct.y,f+de)}}}Ee(),be();function Ee(){const ie=i.length/3;if(h){let te=0,de=j*te;for(let Pe=0;Pe<J;Pe++){const ke=z[Pe];he(ke[2]+de,ke[1]+de,ke[0]+de)}te=u+v*2,de=j*te;for(let Pe=0;Pe<J;Pe++){const ke=z[Pe];he(ke[0]+de,ke[1]+de,ke[2]+de)}}else{for(let te=0;te<J;te++){const de=z[te];he(de[2],de[1],de[0])}for(let te=0;te<J;te++){const de=z[te];he(de[0]+j*u,de[1]+j*u,de[2]+j*u)}}r.addGroup(ie,i.length/3-ie,0)}function be(){const ie=i.length/3;let te=0;oe(O,te),te+=O.length;for(let de=0,Pe=R.length;de<Pe;de++){const ke=R[de];oe(ke,te),te+=ke.length}r.addGroup(ie,i.length/3-ie,1)}function oe(ie,te){let de=ie.length;for(;--de>=0;){const Pe=de;let ke=de-1;ke<0&&(ke=ie.length-1);for(let Ye=0,nt=u+v*2;Ye<nt;Ye++){const Je=j*Ye,pt=j*(Ye+1),Ct=te+Pe+Je,X=te+ke+Je,H=te+ke+pt,ce=te+Pe+pt;U(Ct,X,H,ce)}}}function Fe(ie,te,de){l.push(ie),l.push(te),l.push(de)}function he(ie,te,de){W(ie),W(te),W(de);const Pe=i.length/3,ke=_.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);Y(ke[0]),Y(ke[1]),Y(ke[2])}function U(ie,te,de,Pe){W(ie),W(te),W(Pe),W(te),W(de),W(Pe);const ke=i.length/3,Ye=_.generateSideWallUV(r,i,ke-6,ke-3,ke-2,ke-1);Y(Ye[0]),Y(Ye[1]),Y(Ye[3]),Y(Ye[1]),Y(Ye[2]),Y(Ye[3])}function W(ie){i.push(l[ie*3+0]),i.push(l[ie*3+1]),i.push(l[ie*3+2])}function Y(ie){s.push(ie.x),s.push(ie.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return cce(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new BI[i.type]().fromJSON(i)),new Q2(r,e.options)}}const lce={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Se(s,o),new Se(a,l),new Se(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],h=e[i*3],d=e[i*3+1],m=e[i*3+2],A=e[s*3],v=e[s*3+1],y=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Se(o,1-l),new Se(c,1-f),new Se(h,1-m),new Se(A,1-y)]:[new Se(a,1-l),new Se(u,1-f),new Se(d,1-m),new Se(v,1-y)]}};function cce(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Pm extends tu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Pm(e.radius,e.detail)}}class Dm extends tu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Dm(e.radius,e.detail)}}class H2 extends Ht{constructor(e=.5,n=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const h=(n-e)/i,d=new K,m=new Se;for(let A=0;A<=i;A++){for(let v=0;v<=r;v++){const y=s+v/r*o;d.x=f*Math.cos(y),d.y=f*Math.sin(y),l.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(d.x/n+1)/2,m.y=(d.y/n+1)/2,u.push(m.x,m.y)}f+=h}for(let A=0;A<i;A++){const v=A*(r+1);for(let y=0;y<r;y++){const _=y+v,x=_,E=_+r+1,b=_+r+2,w=_+1;a.push(x,E,w),a.push(E,b,w)}}this.setIndex(a),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(u,2))}static fromJSON(e){return new H2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class V2 extends Ht{constructor(e=new nd([new Se(0,.5),new Se(-.5,-.5),new Se(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new At(i,3)),this.setAttribute("normal",new At(s,3)),this.setAttribute("uv",new At(o,2));function c(u){const f=i.length/3,h=u.extractPoints(n);let d=h.shape;const m=h.holes;Tl.isClockWise(d)===!1&&(d=d.reverse());for(let v=0,y=m.length;v<y;v++){const _=m[v];Tl.isClockWise(_)===!0&&(m[v]=_.reverse())}const A=Tl.triangulateShape(d,m);for(let v=0,y=m.length;v<y;v++){const _=m[v];d=d.concat(_)}for(let v=0,y=d.length;v<y;v++){const _=d[v];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let v=0,y=A.length;v<y;v++){const _=A[v],x=_[0]+f,E=_[1]+f,b=_[2]+f;r.push(x,E,b),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return uce(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new V2(r,e.curveSegments)}}function uce(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Lm extends Ht{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new K,h=new K,d=[],m=[],A=[],v=[];for(let y=0;y<=r;y++){const _=[],x=y/r;let E=0;y==0&&o==0?E=.5/n:y==r&&l==Math.PI&&(E=-.5/n);for(let b=0;b<=n;b++){const w=b/n;f.x=-e*Math.cos(i+w*s)*Math.sin(o+x*a),f.y=e*Math.cos(o+x*a),f.z=e*Math.sin(i+w*s)*Math.sin(o+x*a),m.push(f.x,f.y,f.z),h.copy(f).normalize(),A.push(h.x,h.y,h.z),v.push(w+E,1-x),_.push(c++)}u.push(_)}for(let y=0;y<r;y++)for(let _=0;_<n;_++){const x=u[y][_+1],E=u[y][_],b=u[y+1][_],w=u[y+1][_+1];(y!==0||o>0)&&d.push(x,E,w),(y!==r-1||l<Math.PI)&&d.push(E,b,w)}this.setIndex(d),this.setAttribute("position",new At(m,3)),this.setAttribute("normal",new At(A,3)),this.setAttribute("uv",new At(v,2))}static fromJSON(e){return new Lm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $2 extends tu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $2(e.radius,e.detail)}}class W2 extends Ht{constructor(e=1,n=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new K,f=new K,h=new K;for(let d=0;d<=r;d++)for(let m=0;m<=i;m++){const A=m/i*s,v=d/r*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(A),f.y=(e+n*Math.cos(v))*Math.sin(A),f.z=n*Math.sin(v),a.push(f.x,f.y,f.z),u.x=e*Math.cos(A),u.y=e*Math.sin(A),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(m/i),c.push(d/r)}for(let d=1;d<=r;d++)for(let m=1;m<=i;m++){const A=(i+1)*d+m-1,v=(i+1)*(d-1)+m-1,y=(i+1)*(d-1)+m,_=(i+1)*d+m;o.push(A,v,_),o.push(v,y,_)}this.setIndex(o),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(l,3)),this.setAttribute("uv",new At(c,2))}static fromJSON(e){return new W2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class j2 extends Ht{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new K,h=new K,d=new K,m=new K,A=new K,v=new K,y=new K;for(let x=0;x<=r;++x){const E=x/r*s*Math.PI*2;_(E,s,o,e,d),_(E+.01,s,o,e,m),v.subVectors(m,d),y.addVectors(m,d),A.crossVectors(v,y),y.crossVectors(A,v),A.normalize(),y.normalize();for(let b=0;b<=i;++b){const w=b/i*Math.PI*2,T=-n*Math.cos(w),C=n*Math.sin(w);f.x=d.x+(T*y.x+C*A.x),f.y=d.y+(T*y.y+C*A.y),f.z=d.z+(T*y.z+C*A.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(x/r),u.push(b/i)}}for(let x=1;x<=r;x++)for(let E=1;E<=i;E++){const b=(i+1)*(x-1)+(E-1),w=(i+1)*x+(E-1),T=(i+1)*x+E,C=(i+1)*(x-1)+E;a.push(b,w,C),a.push(w,T,C)}this.setIndex(a),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(u,2));function _(x,E,b,w,T){const C=Math.cos(x),I=Math.sin(x),B=b/E*x,R=Math.cos(B);T.x=w*(2+R)*.5*C,T.y=w*(2+R)*I*.5,T.z=w*Math.sin(B)*.5}}static fromJSON(e){return new j2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class K2 extends Ht{constructor(e=new TI(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new K,l=new K,c=new Se;let u=new K;const f=[],h=[],d=[],m=[];A(),this.setIndex(m),this.setAttribute("position",new At(f,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(d,2));function A(){for(let x=0;x<n;x++)v(x);v(s===!1?n:0),_(),y()}function v(x){u=e.getPointAt(x/n,u);const E=o.normals[x],b=o.binormals[x];for(let w=0;w<=i;w++){const T=w/i*Math.PI*2,C=Math.sin(T),I=-Math.cos(T);l.x=I*E.x+C*b.x,l.y=I*E.y+C*b.y,l.z=I*E.z+C*b.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function y(){for(let x=1;x<=n;x++)for(let E=1;E<=i;E++){const b=(i+1)*(x-1)+(E-1),w=(i+1)*x+(E-1),T=(i+1)*x+E,C=(i+1)*(x-1)+E;m.push(b,w,C),m.push(w,T,C)}}function _(){for(let x=0;x<=n;x++)for(let E=0;E<=i;E++)c.x=x/n,c.y=E/i,d.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new K2(new BI[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class EV extends Ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new K,s=new K;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,d=f.count;for(let m=h,A=h+d;m<A;m+=3)for(let v=0;v<3;v++){const y=a.getX(m+v),_=a.getX(m+(v+1)%3);i.fromBufferAttribute(o,y),s.fromBufferAttribute(o,_),fL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),fL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new At(n,3))}}}function fL(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var hL=Object.freeze({__proto__:null,BoxGeometry:Zc,CapsuleGeometry:N2,CircleGeometry:U2,ConeGeometry:G2,CylinderGeometry:Rd,DodecahedronGeometry:z2,EdgesGeometry:vV,ExtrudeGeometry:Q2,IcosahedronGeometry:Pm,LatheGeometry:Rm,OctahedronGeometry:Dm,PlaneGeometry:Bd,PolyhedronGeometry:tu,RingGeometry:H2,ShapeGeometry:V2,SphereGeometry:Lm,TetrahedronGeometry:$2,TorusGeometry:W2,TorusKnotGeometry:j2,TubeGeometry:K2,WireframeGeometry:EV});class CV extends Ur{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ue(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class L3 extends fn{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Pd extends Ur{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ue(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Va extends Pd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Nr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ue(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ue(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ue(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class RI extends Ur{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ue(16777215),this.specular=new Ue(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=R2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PI extends Ur{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ue(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class J2 extends Ur{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class DI extends Ur{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=R2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SV extends Ur{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ue(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wV extends qi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ko(t,e,n){return LI(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Hh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function LI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bV(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function aS(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function kI(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function fce(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const m=c.times[d]*i;if(!(m<n||m>=r)){f.push(c.times[d]);for(let A=0;A<u;++A)h.push(c.values[d*u+A])}}f.length!==0&&(c.times=Hh(f,c.times.constructor),c.values=Hh(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function hce(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const m=a.times.length-1;let A;if(s<=a.times[0]){const y=u,_=f-u;A=ko(a.values,y,_)}else if(s>=a.times[m]){const y=m*f+u,_=y+f-u;A=ko(a.values,y,_)}else{const y=a.createInterpolant(),_=u,x=f-u;y.evaluate(s),A=ko(y.resultBuffer,_,x)}l==="quaternion"&&new Ri().fromArray(A).normalize().conjugate().toArray(A);const v=c.times.length;for(let y=0;y<v;++y){const _=y*d+h;if(l==="quaternion")Ri.multiplyQuaternionsFlat(c.values,_,A,0,c.values,_);else{const x=d-h*2;for(let E=0;E<x;++E)c.values[_+E]-=A[E]}}}return t.blendMode=fI,t}var dce=Object.freeze({__proto__:null,arraySlice:ko,convertArray:Hh,isTypedArray:LI,getKeyframeOrder:bV,sortedArray:aS,flattenJSON:kI,subclip:fce,makeClipAdditive:hce});class km{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class IV extends km{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gh,endingEnd:Gh}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case zh:s=e,a=2*n-r;break;case L1:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case zh:o=e,l=2*r-n;break;case L1:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,m=(r-n)/(i-n),A=m*m,v=A*m,y=-h*v+2*h*A-h*m,_=(1+h)*v+(-1.5-2*h)*A+(-.5+h)*m+1,x=(-1-d)*v+(1.5+d)*A+.5*m,E=d*v-d*A;for(let b=0;b!==a;++b)s[b]=y*o[u+b]+_*o[c+b]+x*o[l+b]+E*o[f+b];return s}}class FI extends km{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),f=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*f+o[l+h]*u;return s}}class TV extends km{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class $a{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hh(n,this.TimeBufferType),this.values=Hh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Hh(e.times,Array),values:Hh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new TV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new FI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new IV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case K0:n=this.InterpolantFactoryMethodDiscrete;break;case md:n=this.InterpolantFactoryMethodLinear;break;case P5:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return K0;case this.InterpolantFactoryMethodLinear:return md;case this.InterpolantFactoryMethodSmooth:return P5}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ko(r,s,o),this.values=ko(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&LI(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=ko(this.times),n=ko(this.values),r=this.getValueSize(),i=this.getInterpolation()===P5,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,d=f+r;for(let m=0;m!==r;++m){const A=n[f+m];if(A!==n[h+m]||A!==n[d+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let d=0;d!==r;++d)n[h+d]=n[f+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=ko(e,0,o),this.values=ko(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=ko(this.times,0),n=ko(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}$a.prototype.TimeBufferType=Float32Array;$a.prototype.ValueBufferType=Float32Array;$a.prototype.DefaultInterpolation=md;class Dd extends $a{}Dd.prototype.ValueTypeName="bool";Dd.prototype.ValueBufferType=Array;Dd.prototype.DefaultInterpolation=K0;Dd.prototype.InterpolantFactoryMethodLinear=void 0;Dd.prototype.InterpolantFactoryMethodSmooth=void 0;class OI extends $a{}OI.prototype.ValueTypeName="color";class X0 extends $a{}X0.prototype.ValueTypeName="number";class MV extends km{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Ri.slerpFlat(s,0,o,c-a,o,c,l);return s}}class If extends $a{InterpolantFactoryMethodLinear(e){return new MV(this.times,this.values,this.getValueSize(),e)}}If.prototype.ValueTypeName="quaternion";If.prototype.DefaultInterpolation=md;If.prototype.InterpolantFactoryMethodSmooth=void 0;class Ld extends $a{}Ld.prototype.ValueTypeName="string";Ld.prototype.ValueBufferType=Array;Ld.prototype.DefaultInterpolation=K0;Ld.prototype.InterpolantFactoryMethodLinear=void 0;Ld.prototype.InterpolantFactoryMethodSmooth=void 0;class q0 extends $a{}q0.prototype.ValueTypeName="vector";class Z0{constructor(e,n=-1,r,i=d8){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=io(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(mce(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push($a.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=bV(l);l=aS(l,1,u),c=aS(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new X0(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let h=i[f];h||(i[f]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,d,m,A){if(d.length!==0){const v=[],y=[];kI(d,v,y,m),v.length!==0&&A.push(new f(h,v,y))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let A=0;A<h[m].morphTargets.length;A++)d[h[m].morphTargets[A]]=-1;for(const A in d){const v=[],y=[];for(let _=0;_!==h[m].morphTargets.length;++_){const x=h[m];v.push(x.time),y.push(x.morphTarget===A?1:0)}i.push(new X0(".morphTargetInfluence["+A+"]",v,y))}l=d.length*o}else{const d=".bones["+n[f].name+"]";r(q0,d+".position",h,"pos",i),r(If,d+".quaternion",h,"rot",i),r(q0,d+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pce(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return X0;case"vector":case"vector2":case"vector3":case"vector4":return q0;case"color":return OI;case"quaternion":return If;case"bool":case"boolean":return Dd;case"string":return Ld}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function mce(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pce(t.type);if(t.times===void 0){const n=[],r=[];kI(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const vd={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class NI{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const d=c[f],m=c[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return m}return null}}}const s0=new NI;let Di=class{constructor(e){this.manager=e!==void 0?e:s0,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const cc={};class gce extends Error{constructor(e,n){super(e),this.response=n}}class oi extends Di{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=vd.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(cc[e]!==void 0){cc[e].push({onLoad:n,onProgress:r,onError:i});return}cc[e]=[],cc[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=cc[e],f=c.body.getReader(),h=c.headers.get("Content-Length"),d=h?parseInt(h):0,m=d!==0;let A=0;const v=new ReadableStream({start(y){_();function _(){f.read().then(({done:x,value:E})=>{if(x)y.close();else{A+=E.byteLength;const b=new ProgressEvent("progress",{lengthComputable:m,loaded:A,total:d});for(let w=0,T=u.length;w<T;w++){const C=u[w];C.onProgress&&C.onProgress(b)}y.enqueue(E),_()}})}}});return new Response(v)}else throw new gce(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return c.arrayBuffer().then(m=>d.decode(m))}}}).then(c=>{vd.add(e,c);const u=cc[e];delete cc[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(c)}}).catch(c=>{const u=cc[e];if(u===void 0)throw this.manager.itemError(e),c;delete cc[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ace extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new oi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Z0.parse(e[r]);n.push(i)}return n}}class vce extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new gd,l=new oi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(h){const d=s.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(a.minFilter=Cn),a.image=o,a.format=d.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)u(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let m=0;m<d;m++){o[m]={mipmaps:[]};for(let A=0;A<h.mipmapCount;A++)o[m].mipmaps.push(h.mipmaps[m*h.mipmapCount+A]),o[m].format=h.format,o[m].width=h.width,o[m].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Cn),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class H1 extends Di{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=O1("img");function l(){u(),vd.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class BV extends Di{constructor(e){super(e)}load(e,n,r,i){const s=new k2,o=new H1(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class UI extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Il,a=new oi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:hr,o.wrapT=c.wrapT!==void 0?c.wrapT:hr,o.magFilter=c.magFilter!==void 0?c.magFilter:Cn,o.minFilter=c.minFilter!==void 0?c.minFilter:Cn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=za),c.mipmapCount===1&&(o.minFilter=Cn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},r,i),o}}class RV extends Di{constructor(e){super(e)}load(e,n,r,i){const s=new qn,o=new H1(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class jf extends hn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ue(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class PV extends jf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.groundColor=new Ue(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Z9=new dt,dL=new K,pL=new K;class GI{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Se(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new g8,this._frameExtents=new Se(1,1),this._viewportCount=1,this._viewports=[new sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;dL.setFromMatrixPosition(e.matrixWorld),n.position.copy(dL),pL.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(pL),n.updateMatrixWorld(),Z9.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Z9),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Z9)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class yce extends GI{constructor(){super(new rr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=F1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class zI extends jf{constructor(e,n,r=0,i=Math.PI/3,s=0,o=1){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.target=new hn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new yce}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const mL=new dt,Dg=new K,e7=new K;class xce extends GI{constructor(){super(new rr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Se(4,2),this._viewportCount=6,this._viewports=[new sn(2,1,1,1),new sn(0,1,1,1),new sn(3,1,1,1),new sn(1,1,1,1),new sn(3,0,1,1),new sn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Dg.setFromMatrixPosition(e.matrixWorld),r.position.copy(Dg),e7.copy(r.position),e7.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(e7),r.updateMatrixWorld(),i.makeTranslation(-Dg.x,-Dg.y,-Dg.z),mL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mL)}}class QI extends jf{constructor(e,n,r=0,i=1){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new xce}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class _ce extends GI{constructor(){super(new eu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class HI extends jf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.target=new hn,this.shadow=new _ce}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class DV extends jf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class LV extends jf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class kV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class I8 extends jf{constructor(e=new kV,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class T8 extends Di{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new oi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=T8.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ue().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ue().setHex(o.value);break;case"v2":i.uniforms[s].value=new Se().fromArray(o.value);break;case"v3":i.uniforms[s].value=new K().fromArray(o.value);break;case"v4":i.uniforms[s].value=new sn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new fs().fromArray(o.value);break;case"m4":i.uniforms[s].value=new dt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Se().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Se().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:CV,SpriteMaterial:_I,RawShaderMaterial:L3,ShaderMaterial:fn,PointsMaterial:E8,MeshPhysicalMaterial:Va,MeshStandardMaterial:Pd,MeshPhongMaterial:RI,MeshToonMaterial:PI,MeshNormalMaterial:J2,MeshLambertMaterial:DI,MeshDepthMaterial:v8,MeshDistanceMaterial:yI,MeshBasicMaterial:vi,MeshMatcapMaterial:SV,LineDashedMaterial:wV,LineBasicMaterial:qi,Material:Ur};return new n[e]}}class Ml{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class FV extends Ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class OV extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new oi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(d,m){if(n[m]!==void 0)return n[m];const v=d.interleavedBuffers[m],y=s(d,v.buffer),_=n0(v.type,y),x=new F2(_,v.stride);return x.uuid=v.uuid,n[m]=x,x}function s(d,m){if(r[m]!==void 0)return r[m];const v=d.arrayBuffers[m],y=new Uint32Array(v).buffer;return r[m]=y,y}const o=e.isInstancedBufferGeometry?new FV:new Ht,a=e.data.index;if(a!==void 0){const d=n0(a.type,a.array);o.setIndex(new xn(d,1))}const l=e.data.attributes;for(const d in l){const m=l[d];let A;if(m.isInterleavedBufferAttribute){const v=i(e.data,m.data);A=new bf(v,m.itemSize,m.offset,m.normalized)}else{const v=n0(m.type,m.array),y=m.isInstancedBufferAttribute?Y0:xn;A=new y(v,m.itemSize,m.normalized)}m.name!==void 0&&(A.name=m.name),m.usage!==void 0&&A.setUsage(m.usage),m.updateRange!==void 0&&(A.updateRange.offset=m.updateRange.offset,A.updateRange.count=m.updateRange.count),o.setAttribute(d,A)}const c=e.data.morphAttributes;if(c)for(const d in c){const m=c[d],A=[];for(let v=0,y=m.length;v<y;v++){const _=m[v];let x;if(_.isInterleavedBufferAttribute){const E=i(e.data,_.data);x=new bf(E,_.itemSize,_.offset,_.normalized)}else{const E=n0(_.type,_.array);x=new xn(E,_.itemSize,_.normalized)}_.name!==void 0&&(x.name=_.name),A.push(x)}o.morphAttributes[d]=A}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,m=f.length;d!==m;++d){const A=f[d];o.addGroup(A.start,A.count,A.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new K;h.center!==void 0&&d.fromArray(h.center),o.boundingSphere=new Wf(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Ece extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Ml.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new oi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Ml.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new oi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new nd().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new O2().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new OV;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in hL?a=hL[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new T8;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Z0.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:n0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new NI(n);s=new H1(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const d=[];for(let m=0,A=h.length;m<A;m++){const v=h[m],y=a(v);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Il(y.data,y.width,y.height)))}i[f.uuid]=new Qh(d)}else{const d=a(f.url);i[f.uuid]=new Qh(d)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:n0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new H1(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f],m=await s(d);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new Il(m.data,m.width,m.height)))}r[l.uuid]=new Qh(u)}else{const u=await s(l.url);r[l.uuid]=new Qh(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new k2,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Il:u=new qn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Cce)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],gL),u.wrapT=r(a.wrap[1],gL)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,AL)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,AL)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let m=0,A=h.length;m<A;m++){const v=h[m];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),d.push(r[v])}return d}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let u,f;switch(e.type){case"Scene":o=new N1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ue(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new x8(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new y8(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new rr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new eu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new DV(e.color,e.intensity);break;case"DirectionalLight":o=new HI(e.color,e.intensity);break;case"PointLight":o=new QI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new LV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new zI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new PV(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new I8().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new EI(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new bn(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,m=e.instanceColor;o=new CI(u,f,h),o.instanceMatrix=new Y0(new Float32Array(d.array),16),m!==void 0&&(o.instanceColor=new Y0(new Float32Array(m.array),m.itemSize));break;case"LOD":o=new hV;break;case"Line":o=new zc(a(e.geometry),l(e.material));break;case"LineLoop":o=new SI(a(e.geometry),l(e.material));break;case"LineSegments":o=new Qa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new C8(a(e.geometry),l(e.material));break;case"Sprite":o=new fV(l(e.material));break;case"Group":o=new Sc;break;case"Bone":o=new _8;break;default:o=new hn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const m=h[d];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const m=h[d],A=o.getObjectByProperty("uuid",m.object);A!==void 0&&o.addLevel(A,m.distance)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Cce={UVMapping:u8,CubeReflectionMapping:Gc,CubeRefractionMapping:Cf,EquirectangularReflectionMapping:W0,EquirectangularRefractionMapping:w1,CubeUVReflectionMapping:bm},gL={RepeatWrapping:na,ClampToEdgeWrapping:hr,MirroredRepeatWrapping:j0},AL={NearestFilter:Qt,NearestMipmapNearestFilter:b1,NearestMipmapLinearFilter:I1,LinearFilter:Cn,LinearMipmapNearestFilter:f8,LinearMipmapLinearFilter:za};class NV extends Di{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){vd.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let by;class VI{static getContext(){return by===void 0&&(by=new(window.AudioContext||window.webkitAudioContext)),by}static setContext(e){by=e}}class Sce extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new oi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);VI.getContext().decodeAudioData(l,function(u){n(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class wce extends I8{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ue().set(e),s=new Ue().set(n),o=new K(i.r,i.g,i.b),a=new K(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class bce extends I8{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Ue().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const vL=new dt,yL=new dt,ph=new dt;class Ice{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,ph.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Zh*n.fov*.5)/n.zoom;let a,l;yL.elements[12]=-i,vL.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,ph.elements[0]=2*n.near/(l-a),ph.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ph),a=-o*n.aspect-s,l=o*n.aspect-s,ph.elements[0]=2*n.near/(l-a),ph.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ph)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vL)}}class M8{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=xL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=xL();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function xL(){return(typeof performance>"u"?Date:performance).now()}const mh=new K,_L=new Ri,Tce=new K,gh=new K;class Mce extends hn{constructor(){super(),this.type="AudioListener",this.context=VI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new M8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mh,_L,Tce),gh.set(0,0,-1).applyQuaternion(_L),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(mh.x,i),n.positionY.linearRampToValueAtTime(mh.y,i),n.positionZ.linearRampToValueAtTime(mh.z,i),n.forwardX.linearRampToValueAtTime(gh.x,i),n.forwardY.linearRampToValueAtTime(gh.y,i),n.forwardZ.linearRampToValueAtTime(gh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(mh.x,mh.y,mh.z),n.setOrientation(gh.x,gh.y,gh.z,r.x,r.y,r.z)}}class UV extends hn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ah=new K,EL=new Ri,Bce=new K,vh=new K;class Rce extends UV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ah,EL,Bce),vh.set(0,0,1).applyQuaternion(EL);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ah.x,r),n.positionY.linearRampToValueAtTime(Ah.y,r),n.positionZ.linearRampToValueAtTime(Ah.z,r),n.orientationX.linearRampToValueAtTime(vh.x,r),n.orientationY.linearRampToValueAtTime(vh.y,r),n.orientationZ.linearRampToValueAtTime(vh.z,r)}else n.setPosition(Ah.x,Ah.y,Ah.z),n.setOrientation(vh.x,vh.y,vh.z)}}class Pce{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class GV{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Ri.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Ri.multiplyQuaternionsFlat(e,o,e,n,e,r),Ri.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const $I="\\[\\]\\.:\\/",Dce=new RegExp("["+$I+"]","g"),WI="[^"+$I+"]",Lce="[^"+$I.replace("\\.","")+"]",kce=/((?:WC+[\/:])*)/.source.replace("WC",WI),Fce=/(WCOD+)?/.source.replace("WCOD",Lce),Oce=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WI),Nce=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WI),Uce=new RegExp("^"+kce+Fce+Oce+Nce+"$"),Gce=["material","materials","bones","map"];class zce{constructor(e,n,r){const i=r||un.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class un{constructor(e,n,r){this.path=n,this.parsedPath=r||un.parseTrackName(n),this.node=un.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new un.Composite(e,n,r):new un(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Dce,"")}static parseTrackName(e){const n=Uce.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Gce.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=un.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}un.Composite=zce;un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};un.prototype.GetterByBindingType=[un.prototype._getValue_direct,un.prototype._getValue_array,un.prototype._getValue_arrayElement,un.prototype._getValue_toArray];un.prototype.SetterByBindingTypeAndVersioning=[[un.prototype._setValue_direct,un.prototype._setValue_direct_setNeedsUpdate,un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[un.prototype._setValue_array,un.prototype._setValue_array_setNeedsUpdate,un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[un.prototype._setValue_arrayElement,un.prototype._setValue_arrayElement_setNeedsUpdate,un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[un.prototype._setValue_fromArray,un.prototype._setValue_fromArray_setNeedsUpdate,un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Qce{constructor(){this.isAnimationObjectGroup=!0,this.uuid=io(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const h=arguments[u],d=h.uuid;let m=n[d];if(m===void 0){m=l++,n[d]=m,e.push(h);for(let A=0,v=o;A!==v;++A)s[A].push(new un(h,r[A],i[A]))}else if(m<c){a=e[m];const A=--c,v=e[A];n[v.uuid]=m,e[m]=v,n[d]=A,e[A]=h;for(let y=0,_=o;y!==_;++y){const x=s[y],E=x[A];let b=x[m];x[m]=E,b===void 0&&(b=new un(h,r[y],i[y])),x[A]=b}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const f=s++,h=e[f];n[h.uuid]=u,e[u]=h,n[c]=f,e[f]=l;for(let d=0,m=i;d!==m;++d){const A=r[d],v=A[f],y=A[u];A[u]=v,A[f]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<s){const h=--s,d=e[h],m=--o,A=e[m];n[d.uuid]=f,e[f]=d,n[A.uuid]=h,e[h]=A,e.pop();for(let v=0,y=i;v!==y;++v){const _=r[v],x=_[h],E=_[m];_[f]=x,_[h]=E,_.pop()}}else{const h=--o,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let m=0,A=i;m!==A;++m){const v=r[m];v[f]=v[h],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let h=u,d=l.length;h!==d;++h){const m=l[h];f[h]=new un(m,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Hce{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Gh,endingEnd:Gh};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=WH,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case fI:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case d8:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===jH;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===$H){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=zh,i.endingEnd=zh):(e?i.endingStart=this.zeroSlopeAtStart?zh:Gh:i.endingStart=L1,n?i.endingEnd=this.zeroSlopeAtEnd?zh:Gh:i.endingEnd=L1)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Vce=new Float32Array(1);class $ce extends qc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const h=i[f],d=h.name;let m=u[d];if(m!==void 0)++m.referenceCount,o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,d));continue}const A=n&&n._propertyBindings[f].binding.parsedPath;m=new GV(un.create(r,d,A),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,d),o[f]=m}a[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new FI(new Float32Array(2),new Float32Array(2),1,Vce),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Z0.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=d8),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Hce(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Z0.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class jI{constructor(e){this.value=e}clone(){return new jI(this.value.clone===void 0?this.value:this.value.clone())}}let Wce=0;class jce extends qc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Wce++}),this.name="",this.usage=k1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Kce extends F2{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Jce{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class KI{constructor(e,n,r=0,i=1/0){this.ray=new D2(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new td,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return lS(e,this,r,n),r.sort(CL),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)lS(e[i],this,r,n);return r.sort(CL),r}}function CL(t,e){return t.distance-e.distance}function lS(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)lS(i[s],e,n,!0)}}class Yce{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Nr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Xce{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const SL=new Se;class zV{constructor(e=new Se(1/0,1/0),n=new Se(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=SL.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return SL.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const wL=new K,Iy=new K;class qce{constructor(e=new K,n=new K){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){wL.subVectors(e,this.start),Iy.subVectors(this.end,this.start);const r=Iy.dot(Iy);let s=Iy.dot(wL)/r;return n&&(s=Nr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const bL=new K;class Zce extends hn{constructor(e,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new Ht,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new At(i,3));const s=new qi({fog:!1,toneMapped:!1});this.cone=new Qa(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),bL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wu=new K,Ty=new dt,t7=new dt;class eue extends Qa{constructor(e){const n=QV(e),r=new Ht,i=[],s=[],o=new Ue(0,0,1),a=new Ue(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new At(i,3)),r.setAttribute("color",new At(s,3));const l=new qi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");t7.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Ty.multiplyMatrices(t7,a.matrixWorld),wu.setFromMatrixPosition(Ty),i.setXYZ(o,wu.x,wu.y,wu.z),Ty.multiplyMatrices(t7,a.parent.matrixWorld),wu.setFromMatrixPosition(Ty),i.setXYZ(o+1,wu.x,wu.y,wu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function QV(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,QV(t.children[n]));return e}class tue extends bn{constructor(e,n,r){const i=new Lm(n,4,2),s=new vi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nue=new K,IL=new Ue,TL=new Ue;class rue extends hn{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Dm(n);i.rotateY(Math.PI*.5),this.material=new vi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new xn(o,3)),this.add(new bn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");IL.copy(this.light.color),TL.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?IL:TL;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}e.lookAt(nue.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iue extends Qa{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ue(r),i=new Ue(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let h=0,d=0,m=-a;h<=n;h++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const A=h===s?r:i;A.toArray(c,d),d+=3,A.toArray(c,d),d+=3,A.toArray(c,d),d+=3,A.toArray(c,d),d+=3}const u=new Ht;u.setAttribute("position",new At(l,3)),u.setAttribute("color",new At(c,3));const f=new qi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sue extends Qa{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Ue(s),o=new Ue(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,m=Math.cos(h)*e;a.push(0,0,0),a.push(d,0,m);const A=f&1?s:o;l.push(A.r,A.g,A.b),l.push(A.r,A.g,A.b)}for(let f=0;f<r;f++){const h=f&1?s:o,d=e-e/r*f;for(let m=0;m<i;m++){let A=m/i*(Math.PI*2),v=Math.sin(A)*d,y=Math.cos(A)*d;a.push(v,0,y),l.push(h.r,h.g,h.b),A=(m+1)/i*(Math.PI*2),v=Math.sin(A)*d,y=Math.cos(A)*d,a.push(v,0,y),l.push(h.r,h.g,h.b)}}const c=new Ht;c.setAttribute("position",new At(a,3)),c.setAttribute("color",new At(l,3));const u=new qi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ML=new K,My=new K,BL=new K;class oue extends hn{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,n===void 0&&(n=1);let i=new Ht;i.setAttribute("position",new At([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new qi({fog:!1,toneMapped:!1});this.lightPlane=new zc(i,s),this.add(this.lightPlane),i=new Ht,i.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new zc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ML.setFromMatrixPosition(this.light.matrixWorld),My.setFromMatrixPosition(this.light.target.matrixWorld),BL.subVectors(My,ML),this.lightPlane.lookAt(My),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(My),this.targetLine.scale.z=BL.length()}}const By=new K,Cr=new L2;class aue extends Qa{constructor(e){const n=new Ht,r=new qi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(m,A){l(m),l(A)}function l(m){i.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(i.length/3-1)}n.setAttribute("position",new At(i,3)),n.setAttribute("color",new At(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ue(16755200),u=new Ue(16711680),f=new Ue(43775),h=new Ue(16777215),d=new Ue(3355443);this.setColors(c,u,f,h,d)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kr("c",n,e,Cr,0,0,-1),kr("t",n,e,Cr,0,0,1),kr("n1",n,e,Cr,-r,-i,-1),kr("n2",n,e,Cr,r,-i,-1),kr("n3",n,e,Cr,-r,i,-1),kr("n4",n,e,Cr,r,i,-1),kr("f1",n,e,Cr,-r,-i,1),kr("f2",n,e,Cr,r,-i,1),kr("f3",n,e,Cr,-r,i,1),kr("f4",n,e,Cr,r,i,1),kr("u1",n,e,Cr,r*.7,i*1.1,-1),kr("u2",n,e,Cr,-r*.7,i*1.1,-1),kr("u3",n,e,Cr,0,i*2,-1),kr("cf1",n,e,Cr,-r,0,1),kr("cf2",n,e,Cr,r,0,1),kr("cf3",n,e,Cr,0,-i,1),kr("cf4",n,e,Cr,0,i,1),kr("cn1",n,e,Cr,-r,0,-1),kr("cn2",n,e,Cr,r,0,-1),kr("cn3",n,e,Cr,0,-i,-1),kr("cn4",n,e,Cr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kr(t,e,n,r,i,s,o){By.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],By.x,By.y,By.z)}}const Ry=new $f;class lue extends Qa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ht;s.setIndex(new xn(r,1)),s.setAttribute("position",new xn(i,3)),super(s,new qi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ry.setFromObject(this.object),Ry.isEmpty())return;const n=Ry.min,r=Ry.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cue extends Qa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ht;s.setIndex(new xn(r,1)),s.setAttribute("position",new At(i,3)),super(s,new qi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class uue extends zc{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ht;o.setAttribute("position",new At(s,3)),o.computeBoundingSphere(),super(o,new qi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ht;l.setAttribute("position",new At(a,3)),l.computeBoundingSphere(),this.add(new bn(l,new vi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const RL=new K;let Py,n7;class fue extends hn{constructor(e=new K(0,0,1),n=new K(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Py===void 0&&(Py=new Ht,Py.setAttribute("position",new At([0,0,0,0,1,0],3)),n7=new Rd(0,.5,1,5,1),n7.translate(0,-.5,0)),this.position.copy(n),this.line=new zc(Py,new qi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new bn(n7,new vi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{RL.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(RL,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hue extends Qa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ht;i.setAttribute("position",new At(n,3)),i.setAttribute("color",new At(r,3));const s=new qi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Ue,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class HV{constructor(){this.type="ShapePath",this.color=new Ue,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new U1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const _=[];for(let x=0,E=y.length;x<E;x++){const b=y[x],w=new nd;w.curves=b.curves,_.push(w)}return _}function r(y,_){const x=_.length;let E=!1;for(let b=x-1,w=0;w<x;b=w++){let T=_[b],C=_[w],I=C.x-T.x,B=C.y-T.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(T=_[w],I=-I,C=_[b],B=-B),y.y<T.y||y.y>C.y)continue;if(y.y===T.y){if(y.x===T.x)return!0}else{const R=B*(y.x-T.x)-I*(y.y-T.y);if(R===0)return!0;if(R<0)continue;E=!E}}else{if(y.y!==T.y)continue;if(C.x<=y.x&&y.x<=T.x||T.x<=y.x&&y.x<=C.x)return!0}}return E}const i=Tl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new nd,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],h=[];let d=[],m=0,A;h[m]=void 0,d[m]=[];for(let y=0,_=s.length;y<_;y++)a=s[y],A=a.getPoints(),o=i(A),o=e?!o:o,o?(!u&&h[m]&&m++,h[m]={s:new nd,p:A},h[m].s.curves=a.curves,u&&m++,d[m]=[]):d[m].push({h:a,p:A[0]});if(!h[0])return n(s);if(h.length>1){let y=!1,_=0;for(let x=0,E=h.length;x<E;x++)f[x]=[];for(let x=0,E=h.length;x<E;x++){const b=d[x];for(let w=0;w<b.length;w++){const T=b[w];let C=!0;for(let I=0;I<h.length;I++)r(T.p,h[I].p)&&(x!==I&&_++,C?(C=!1,f[I].push(T)):y=!0);C&&f[x].push(T)}}_>0&&y===!1&&(d=f)}let v;for(let y=0,_=h.length;y<_;y++){l=h[y].s,c.push(l),v=d[y];for(let x=0,E=v.length;x<E;x++)l.holes.push(v[x].h)}return c}}const yc=due();function due(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function pue(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Nr(t,-65504,65504),yc.floatView[0]=t;const e=yc.uint32View[0],n=e>>23&511;return yc.baseTable[n]+((e&8388607)>>yc.shiftTable[n])}function mue(t){const e=t>>10;return yc.uint32View[0]=yc.mantissaTable[yc.offsetTable[e]+(t&1023)]+yc.exponentTable[e],yc.floatView[0]}var Vh=Object.freeze({__proto__:null,toHalfFloat:pue,fromHalfFloat:mue});function gue(){console.error("THREE.ImmediateRenderObject has been removed.")}class Aue extends Dn{constructor(e,n,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,n,r),this.samples=4}}class vue extends P2{constructor(e,n,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,n,r,i)}}class yue extends p8{constructor(e,n,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,n,r,i)}}class xue extends Zc{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class _ue extends N2{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class Eue extends U2{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class Cue extends G2{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class Sue extends Rd{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class wue extends z2{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class bue extends Q2{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class Iue extends Pm{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class Tue extends Rm{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class Mue extends Dm{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class Bue extends Bd{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class Rue extends tu{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class Pue extends H2{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class Due extends V2{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class Lue extends Lm{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class kue extends $2{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class Fue extends W2{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class Oue extends j2{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class Nue extends K2{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ql}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ql);const Uue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cI,AddEquation:Xs,AddOperation:MH,AdditiveAnimationBlendMode:fI,AdditiveBlending:_1,AlphaFormat:UH,AlwaysDepth:EH,AlwaysStencilFunc:XH,AmbientLight:DV,AmbientLightProbe:bce,AnimationClip:Z0,AnimationLoader:Ace,AnimationMixer:$ce,AnimationObjectGroup:Qce,AnimationUtils:dce,ArcCurve:dV,ArrayCamera:lV,ArrowHelper:fue,Audio:UV,AudioAnalyser:Pce,AudioContext:VI,AudioListener:Mce,AudioLoader:Sce,AxesHelper:hue,BackSide:Ps,BasicDepthPacking:JH,BasicShadowMap:hH,Bone:_8,BooleanKeyframeTrack:Dd,Box2:zV,Box3:$f,Box3Helper:cue,BoxBufferGeometry:xue,BoxGeometry:Zc,BoxHelper:lue,BufferAttribute:xn,BufferGeometry:Ht,BufferGeometryLoader:OV,ByteType:LH,Cache:vd,Camera:L2,CameraHelper:aue,CanvasTexture:Ole,CapsuleBufferGeometry:_ue,CapsuleGeometry:N2,CatmullRomCurve3:pV,CineonToneMapping:PH,CircleBufferGeometry:Eue,CircleGeometry:U2,ClampToEdgeWrapping:hr,Clock:M8,Color:Ue,ColorKeyframeTrack:OI,ColorManagement:Ro,CompressedArrayTexture:Fle,CompressedTexture:gd,CompressedTextureLoader:vce,ConeBufferGeometry:Cue,ConeGeometry:G2,CubeCamera:tV,CubeReflectionMapping:Gc,CubeRefractionMapping:Cf,CubeTexture:k2,CubeTextureLoader:BV,CubeUVReflectionMapping:bm,CubicBezierCurve:bI,CubicBezierCurve3:mV,CubicInterpolant:IV,CullFaceBack:LC,CullFaceFront:fH,CullFaceFrontBack:Vne,CullFaceNone:uH,Curve:Ha,CurvePath:AV,CustomBlending:E1,CustomToneMapping:DH,CylinderBufferGeometry:Sue,CylinderGeometry:Rd,Cylindrical:Xce,Data3DTexture:p8,DataArrayTexture:P2,DataTexture:Il,DataTexture2DArray:vue,DataTexture3D:yue,DataTextureLoader:UI,DataUtils:Vh,DecrementStencilOp:Zne,DecrementWrapStencilOp:tre,DefaultLoadingManager:s0,DepthFormat:df,DepthStencilFormat:Sf,DepthTexture:Bm,DirectionalLight:HI,DirectionalLightHelper:oue,DiscreteInterpolant:TV,DodecahedronBufferGeometry:wue,DodecahedronGeometry:z2,DoubleSide:$o,DstAlphaFactor:l8,DstColorFactor:c8,DynamicCopyUsage:mre,DynamicDrawUsage:L5,DynamicReadUsage:hre,EdgesGeometry:vV,EllipseCurve:S8,EqualDepth:SH,EqualStencilFunc:sre,EquirectangularReflectionMapping:W0,EquirectangularRefractionMapping:w1,Euler:Tm,EventDispatcher:qc,ExtrudeBufferGeometry:bue,ExtrudeGeometry:Q2,FileLoader:oi,Float16BufferAttribute:Jre,Float32BufferAttribute:At,Float64BufferAttribute:Yre,FloatType:Yr,Fog:x8,FogExp2:y8,FramebufferTexture:kle,FrontSide:Ef,Frustum:g8,GLBufferAttribute:Jce,GLSL1:Are,GLSL3:eS,GreaterDepth:bH,GreaterEqualDepth:wH,GreaterEqualStencilFunc:cre,GreaterStencilFunc:are,GridHelper:iue,Group:Sc,HalfFloatType:wn,HemisphereLight:PV,HemisphereLightHelper:rue,HemisphereLightProbe:wce,IcosahedronBufferGeometry:Iue,IcosahedronGeometry:Pm,ImageBitmapLoader:NV,ImageLoader:H1,ImageUtils:mI,ImmediateRenderObject:gue,IncrementStencilOp:qne,IncrementWrapStencilOp:ere,InstancedBufferAttribute:Y0,InstancedBufferGeometry:FV,InstancedInterleavedBuffer:Kce,InstancedMesh:CI,Int16BufferAttribute:jre,Int32BufferAttribute:Kre,Int8BufferAttribute:Vre,IntType:FH,InterleavedBuffer:F2,InterleavedBufferAttribute:bf,Interpolant:km,InterpolateDiscrete:K0,InterpolateLinear:md,InterpolateSmooth:P5,InvertStencilOp:nre,KeepStencilOp:D5,KeyframeTrack:$a,LOD:hV,LatheBufferGeometry:Tue,LatheGeometry:Rm,Layers:td,LessDepth:CH,LessEqualDepth:R6,LessEqualStencilFunc:ore,LessStencilFunc:ire,Light:jf,LightProbe:I8,Line:zc,Line3:qce,LineBasicMaterial:qi,LineCurve:w8,LineCurve3:gV,LineDashedMaterial:wV,LineLoop:SI,LineSegments:Qa,LinearEncoding:wf,LinearFilter:Cn,LinearInterpolant:FI,LinearMipMapLinearFilter:Kne,LinearMipMapNearestFilter:jne,LinearMipmapLinearFilter:za,LinearMipmapNearestFilter:f8,LinearSRGBColorSpace:ju,LinearToneMapping:BH,Loader:Di,LoaderUtils:Ml,LoadingManager:NI,LoopOnce:$H,LoopPingPong:jH,LoopRepeat:WH,LuminanceAlphaFormat:zH,LuminanceFormat:uI,MOUSE:Qne,Material:Ur,MaterialLoader:T8,MathUtils:Mc,Matrix3:fs,Matrix4:dt,MaxEquation:NC,Mesh:bn,MeshBasicMaterial:vi,MeshDepthMaterial:v8,MeshDistanceMaterial:yI,MeshLambertMaterial:DI,MeshMatcapMaterial:SV,MeshNormalMaterial:J2,MeshPhongMaterial:RI,MeshPhysicalMaterial:Va,MeshStandardMaterial:Pd,MeshToonMaterial:PI,MinEquation:OC,MirroredRepeatWrapping:j0,MixOperation:TH,MultiplyBlending:FC,MultiplyOperation:R2,NearestFilter:Qt,NearestMipMapLinearFilter:Wne,NearestMipMapNearestFilter:$ne,NearestMipmapLinearFilter:I1,NearestMipmapNearestFilter:b1,NeverDepth:_H,NeverStencilFunc:rre,NoBlending:rn,NoColorSpace:Jne,NoToneMapping:ro,NormalAnimationBlendMode:d8,NormalBlending:bl,NotEqualDepth:IH,NotEqualStencilFunc:lre,NumberKeyframeTrack:X0,Object3D:hn,ObjectLoader:Ece,ObjectSpaceNormalMap:YH,OctahedronBufferGeometry:Mue,OctahedronGeometry:Dm,OneFactor:mH,OneMinusDstAlphaFactor:vH,OneMinusDstColorFactor:yH,OneMinusSrcAlphaFactor:S1,OneMinusSrcColorFactor:AH,OrthographicCamera:eu,PCFShadowMap:a8,PCFSoftShadowMap:B3,PMREMGenerator:nS,Path:U1,PerspectiveCamera:rr,Plane:Uo,PlaneBufferGeometry:Bue,PlaneGeometry:Bd,PlaneHelper:uue,PointLight:QI,PointLightHelper:tue,Points:C8,PointsMaterial:E8,PolarGridHelper:sue,PolyhedronBufferGeometry:Rue,PolyhedronGeometry:tu,PositionalAudio:Rce,PropertyBinding:un,PropertyMixer:GV,QuadraticBezierCurve:II,QuadraticBezierCurve3:TI,Quaternion:Ri,QuaternionKeyframeTrack:If,QuaternionLinearInterpolant:MV,REVISION:Ql,RGBADepthPacking:dI,RGBAFormat:dr,RGBAIntegerFormat:VH,RGBA_ASTC_10x10_Format:XC,RGBA_ASTC_10x5_Format:KC,RGBA_ASTC_10x6_Format:JC,RGBA_ASTC_10x8_Format:YC,RGBA_ASTC_12x10_Format:qC,RGBA_ASTC_12x12_Format:ZC,RGBA_ASTC_4x4_Format:P1,RGBA_ASTC_5x4_Format:zC,RGBA_ASTC_5x5_Format:QC,RGBA_ASTC_6x5_Format:HC,RGBA_ASTC_6x6_Format:VC,RGBA_ASTC_8x5_Format:$C,RGBA_ASTC_8x6_Format:WC,RGBA_ASTC_8x8_Format:jC,RGBA_BPTC_Format:D1,RGBA_ETC2_EAC_Format:R1,RGBA_PVRTC_2BPPV1_Format:GC,RGBA_PVRTC_4BPPV1_Format:M1,RGBA_S3TC_DXT1_Format:B5,RGBA_S3TC_DXT3_Format:R5,RGBA_S3TC_DXT5_Format:_0,RGBFormat:GH,RGB_ETC1_Format:h8,RGB_ETC2_Format:B1,RGB_PVRTC_2BPPV1_Format:UC,RGB_PVRTC_4BPPV1_Format:T1,RGB_S3TC_DXT1_Format:x0,RGFormat:t0,RGIntegerFormat:HH,RawShaderMaterial:L3,Ray:D2,Raycaster:KI,RectAreaLight:LV,RedFormat:Wu,RedIntegerFormat:QH,ReinhardToneMapping:RH,RepeatWrapping:na,ReplaceStencilOp:Xne,ReverseSubtractEquation:pH,RingBufferGeometry:Pue,RingGeometry:H2,SRGBColorSpace:hl,Scene:N1,ShaderChunk:Zt,ShaderLib:Sa,ShaderMaterial:fn,ShadowMaterial:CV,Shape:nd,ShapeBufferGeometry:Due,ShapeGeometry:V2,ShapePath:HV,ShapeUtils:Tl,ShortType:kH,Skeleton:O2,SkeletonHelper:eue,SkinnedMesh:EI,Source:Qh,Sphere:Wf,SphereBufferGeometry:Lue,SphereGeometry:Lm,Spherical:Yce,SphericalHarmonics3:kV,SplineCurve:MI,SpotLight:zI,SpotLightHelper:Zce,Sprite:fV,SpriteMaterial:_I,SrcAlphaFactor:C1,SrcAlphaSaturateFactor:xH,SrcColorFactor:gH,StaticCopyUsage:pre,StaticDrawUsage:k1,StaticReadUsage:fre,StereoCamera:Ice,StreamCopyUsage:gre,StreamDrawUsage:ure,StreamReadUsage:dre,StringKeyframeTrack:Ld,SubtractEquation:dH,SubtractiveBlending:kC,TOUCH:Hne,TangentSpaceNormalMap:Vf,TetrahedronBufferGeometry:kue,TetrahedronGeometry:$2,Texture:qn,TextureLoader:RV,TorusBufferGeometry:Fue,TorusGeometry:W2,TorusKnotBufferGeometry:Oue,TorusKnotGeometry:j2,Triangle:zo,TriangleFanDrawMode:P6,TriangleStripDrawMode:hI,TrianglesDrawMode:KH,TubeBufferGeometry:Nue,TubeGeometry:K2,UVMapping:u8,Uint16BufferAttribute:gI,Uint32BufferAttribute:m8,Uint8BufferAttribute:$re,Uint8ClampedBufferAttribute:Wre,Uniform:jI,UniformsGroup:jce,UniformsLib:qe,UniformsUtils:pr,UnsignedByteType:Ai,UnsignedInt248Type:hf,UnsignedIntType:$u,UnsignedShort4444Type:OH,UnsignedShort5551Type:NH,UnsignedShortType:Im,VSMShadowMap:Uh,Vector2:Se,Vector3:K,Vector4:sn,VectorKeyframeTrack:q0,VideoTexture:Lle,WebGL1Renderer:cV,WebGL3DRenderTarget:Lre,WebGLArrayRenderTarget:Dre,WebGLCubeRenderTarget:AI,WebGLMultipleRenderTargets:kre,WebGLMultisampleRenderTarget:Aue,WebGLRenderTarget:Dn,WebGLRenderer:xI,WebGLUtils:aV,WireframeGeometry:EV,WrapAroundEnding:L1,ZeroCurvatureEnding:Gh,ZeroFactor:$0,ZeroSlopeEnding:zh,ZeroStencilOp:Yne,_SRGBAFormat:D6,sRGBEncoding:ar},Symbol.toStringTag,{value:"Module"}));var VV={exports:{}},kd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */kd.ConcurrentRoot=1;kd.ContinuousEventPriority=4;kd.DefaultEventPriority=16;kd.DiscreteEventPriority=1;kd.IdleEventPriority=536870912;kd.LegacyRoot=0;VV.exports=kd;var o0=VV.exports;function Gue(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const h=e;e=u?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function d(){const m=u(e);if(!f(h,m)){const A=h;c(h=m,A)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const zue=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),PL=zue?D.useEffect:D.useLayoutEffect;function B8(t){const e=typeof t=="function"?Gue(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=D.useReducer(v=>v+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(r),c=D.useRef(i),u=D.useRef(!1),f=D.useRef();f.current===void 0&&(f.current=r(o));let h,d=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(h=r(o),d=!i(f.current,h)),PL(()=>{d&&(f.current=h),a.current=o,l.current=r,c.current=i,u.current=!1});const m=D.useRef(o);PL(()=>{const v=()=>{try{const _=e.getState(),x=l.current(_);c.current(f.current,x)||(a.current=_,f.current=x,s())}catch{u.current=!0,s()}},y=e.subscribe(v);return e.getState()!==m.current&&v(),y},[]);const A=d?h:f.current;return D.useDebugValue(A),A};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var $V={exports:{}},WV={exports:{}},jV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,V){var Q=N.length;N.push(V);e:for(;0<Q;){var Z=Q-1>>>1,re=N[Z];if(0<i(re,V))N[Z]=V,N[Q]=re,Q=Z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var V=N[0],Q=N.pop();if(Q!==V){N[0]=Q;e:for(var Z=0,re=N.length,ge=re>>>1;Z<ge;){var Ee=2*(Z+1)-1,be=N[Ee],oe=Ee+1,Fe=N[oe];if(0>i(be,Q))oe<re&&0>i(Fe,be)?(N[Z]=Fe,N[oe]=Q,Z=oe):(N[Z]=be,N[Ee]=Q,Z=Ee);else if(oe<re&&0>i(Fe,Q))N[Z]=Fe,N[oe]=Q,Z=oe;else break e}}return V}function i(N,V){var Q=N.sortIndex-V.sortIndex;return Q!==0?Q:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,d=!1,m=!1,A=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=N)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function E(N){if(A=!1,x(N),!m)if(n(l)!==null)m=!0,j(b);else{var V=n(c);V!==null&&J(E,V.startTime-N)}}function b(N,V){m=!1,A&&(A=!1,y(C),C=-1),d=!0;var Q=h;try{for(x(V),f=n(l);f!==null&&(!(f.expirationTime>V)||N&&!R());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var re=Z(f.expirationTime<=V);V=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),x(V)}else r(l);f=n(l)}if(f!==null)var ge=!0;else{var Ee=n(c);Ee!==null&&J(E,Ee.startTime-V),ge=!1}return ge}finally{f=null,h=Q,d=!1}}var w=!1,T=null,C=-1,I=5,B=-1;function R(){return!(t.unstable_now()-B<I)}function L(){if(T!==null){var N=t.unstable_now();B=N;var V=!0;try{V=T(!0,N)}finally{V?z():(w=!1,T=null)}}else w=!1}var z;if(typeof _=="function")z=function(){_(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=L,z=function(){G.postMessage(null)}}else z=function(){v(L,0)};function j(N){T=N,w||(w=!0,z())}function J(N,V){C=v(function(){N(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,j(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var Q=h;h=V;try{return N()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Q=h;h=N;try{return V()}finally{h=Q}},t.unstable_scheduleCallback=function(N,V,Q){var Z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,N={id:u++,callback:V,priorityLevel:N,startTime:Q,expirationTime:re,sortIndex:-1},Q>Z?(N.sortIndex=Q,e(c,N),n(l)===null&&N===n(c)&&(A?(y(C),C=-1):A=!0,J(E,Q-Z))):(N.sortIndex=re,e(l,N),m||d||(m=!0,j(b))),N},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(N){var V=h;return function(){var Q=h;h=V;try{return N.apply(this,arguments)}finally{h=Q}}}})(jV);WV.exports=jV;var cS=WV.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Que=function(e){var n={},r=D,i=cS,s=Object.assign;function o(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),b=Symbol.iterator;function w(p){return p===null||typeof p!="object"?null:(p=b&&p[b]||p["@@iterator"],typeof p=="function"?p:null)}function T(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case m:return(p.displayName||"Context")+".Consumer";case d:return(p._context.displayName||"Context")+".Provider";case A:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return g=p.displayName||null,g!==null?g:T(p.type)||"Memo";case x:g=p._payload,p=p._init;try{return T(p(g))}catch{}}return null}function C(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(g);case 8:return g===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function I(p){var g=p,S=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,g.flags&4098&&(S=g.return),p=g.return;while(p)}return g.tag===3?S:null}function B(p){if(I(p)!==p)throw Error(o(188))}function R(p){var g=p.alternate;if(!g){if(g=I(p),g===null)throw Error(o(188));return g!==p?null:p}for(var S=p,M=g;;){var P=S.return;if(P===null)break;var k=P.alternate;if(k===null){if(M=P.return,M!==null){S=M;continue}break}if(P.child===k.child){for(k=P.child;k;){if(k===S)return B(P),p;if(k===M)return B(P),g;k=k.sibling}throw Error(o(188))}if(S.return!==M.return)S=P,M=k;else{for(var ee=!1,fe=P.child;fe;){if(fe===S){ee=!0,S=P,M=k;break}if(fe===M){ee=!0,M=P,S=k;break}fe=fe.sibling}if(!ee){for(fe=k.child;fe;){if(fe===S){ee=!0,S=k,M=P;break}if(fe===M){ee=!0,M=k,S=P;break}fe=fe.sibling}if(!ee)throw Error(o(189))}}if(S.alternate!==M)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?p:g}function L(p){return p=R(p),p!==null?z(p):null}function z(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=z(p);if(g!==null)return g;p=p.sibling}return null}function O(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var g=O(p);if(g!==null)return g}p=p.sibling}return null}var G=Array.isArray,j=e.getPublicInstance,J=e.getRootHostContext,N=e.getChildHostContext,V=e.prepareForCommit,Q=e.resetAfterCommit,Z=e.createInstance,re=e.appendInitialChild,ge=e.finalizeInitialChildren,Ee=e.prepareUpdate,be=e.shouldSetTextContent,oe=e.createTextInstance,Fe=e.scheduleTimeout,he=e.cancelTimeout,U=e.noTimeout,W=e.isPrimaryRenderer,Y=e.supportsMutation,ie=e.supportsPersistence,te=e.supportsHydration,de=e.getInstanceFromNode,Pe=e.preparePortalMount,ke=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,nt=e.supportsMicrotasks,Je=e.scheduleMicrotask,pt=e.supportsTestSelectors,Ct=e.findFiberRoot,X=e.getBoundingRect,H=e.getTextContent,ce=e.isHiddenSubtree,De=e.matchAccessibilityRole,Oe=e.setFocusIfFocusable,Ge=e.setupIntersectionObserver,_t=e.appendChild,$e=e.appendChildToContainer,Te=e.commitTextUpdate,lt=e.commitMount,vt=e.commitUpdate,it=e.insertBefore,st=e.insertInContainerBefore,mt=e.removeChild,Nt=e.removeChildFromContainer,Gt=e.resetTextContent,zt=e.hideInstance,le=e.hideTextInstance,ae=e.unhideInstance,Ne=e.unhideTextInstance,et=e.clearContainer,St=e.cloneInstance,an=e.createContainerChildSet,sr=e.appendChildToContainerChildSet,Gr=e.finalizeContainerChildren,xo=e.replaceContainerChildren,Tn=e.cloneHiddenInstance,vs=e.cloneHiddenTextInstance,Li=e.canHydrateInstance,jd=e.canHydrateTextInstance,Xm=e.canHydrateSuspenseInstance,Yl=e.isSuspenseInstancePending,th=e.isSuspenseInstanceFallback,q=e.registerSuspenseInstanceRetry,ye=e.getNextHydratableSibling,xe=e.getFirstHydratableChild,ve=e.getFirstHydratableChildWithinContainer,Le=e.getFirstHydratableChildWithinSuspenseInstance,F=e.hydrateInstance,$=e.hydrateTextInstance,ne=e.hydrateSuspenseInstance,ue=e.getNextHydratableInstanceAfterSuspenseInstance,Ae=e.commitHydratedContainer,me=e.commitHydratedSuspenseInstance,Be=e.clearSuspenseBoundary,Re=e.clearSuspenseBoundaryFromContainer,He=e.shouldDeleteUnhydratedTailInstances,Ve=e.didNotMatchHydratedContainerTextInstance,We=e.didNotMatchHydratedTextInstance,ze;function Et(p){if(ze===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);ze=g&&g[1]||""}return`
`+ze+p}var at=!1;function Ze(p,g){if(!p||at)return"";at=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(je){var M=je}Reflect.construct(p,[],g)}else{try{g.call()}catch(je){M=je}p.call(g.prototype)}else{try{throw Error()}catch(je){M=je}p()}}catch(je){if(je&&M&&typeof je.stack=="string"){for(var P=je.stack.split(`
`),k=M.stack.split(`
`),ee=P.length-1,fe=k.length-1;1<=ee&&0<=fe&&P[ee]!==k[fe];)fe--;for(;1<=ee&&0<=fe;ee--,fe--)if(P[ee]!==k[fe]){if(ee!==1||fe!==1)do if(ee--,fe--,0>fe||P[ee]!==k[fe]){var Ie=`
`+P[ee].replace(" at new "," at ");return p.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",p.displayName)),Ie}while(1<=ee&&0<=fe);break}}}finally{at=!1,Error.prepareStackTrace=S}return(p=p?p.displayName||p.name:"")?Et(p):""}var bt=Object.prototype.hasOwnProperty,Rt=[],Xt=-1;function en(p){return{current:p}}function yt(p){0>Xt||(p.current=Rt[Xt],Rt[Xt]=null,Xt--)}function Lt(p,g){Xt++,Rt[Xt]=p.current,p.current=g}var tn={},Jt=en(tn),Vt=en(!1),Rn=tn;function Xr(p,g){var S=p.type.contextTypes;if(!S)return tn;var M=p.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===g)return M.__reactInternalMemoizedMaskedChildContext;var P={},k;for(k in S)P[k]=g[k];return M&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=P),P}function zr(p){return p=p.childContextTypes,p!=null}function Ci(){yt(Vt),yt(Jt)}function Sn(p,g,S){if(Jt.current!==tn)throw Error(o(168));Lt(Jt,g),Lt(Vt,S)}function qr(p,g,S){var M=p.stateNode;if(g=g.childContextTypes,typeof M.getChildContext!="function")return S;M=M.getChildContext();for(var P in M)if(!(P in g))throw Error(o(108,C(p)||"Unknown",P));return s({},S,M)}function Mn(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||tn,Rn=Jt.current,Lt(Jt,p),Lt(Vt,Vt.current),!0}function gn(p,g,S){var M=p.stateNode;if(!M)throw Error(o(169));S?(p=qr(p,g,Rn),M.__reactInternalMemoizedMergedChildContext=p,yt(Vt),yt(Jt),Lt(Jt,p)):yt(Vt),Lt(Vt,S)}var Zn=Math.clz32?Math.clz32:Za,Xl=Math.log,es=Math.LN2;function Za(p){return p>>>=0,p===0?32:31-(Xl(p)/es|0)|0}var NA=64,UA=4194304;function qm(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function GA(p,g){var S=p.pendingLanes;if(S===0)return 0;var M=0,P=p.suspendedLanes,k=p.pingedLanes,ee=S&268435455;if(ee!==0){var fe=ee&~P;fe!==0?M=qm(fe):(k&=ee,k!==0&&(M=qm(k)))}else ee=S&~P,ee!==0?M=qm(ee):k!==0&&(M=qm(k));if(M===0)return 0;if(g!==0&&g!==M&&!(g&P)&&(P=M&-M,k=g&-g,P>=k||P===16&&(k&4194240)!==0))return g;if(M&4&&(M|=S&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=M;0<g;)S=31-Zn(g),P=1<<S,M|=p[S],g&=~P;return M}function wZ(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bZ(p,g){for(var S=p.suspendedLanes,M=p.pingedLanes,P=p.expirationTimes,k=p.pendingLanes;0<k;){var ee=31-Zn(k),fe=1<<ee,Ie=P[ee];Ie===-1?(!(fe&S)||fe&M)&&(P[ee]=wZ(fe,g)):Ie<=g&&(p.expiredLanes|=fe),k&=~fe}}function Wx(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function jx(p){for(var g=[],S=0;31>S;S++)g.push(p);return g}function Zm(p,g,S){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-Zn(g),p[g]=S}function IZ(p,g){var S=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var M=p.eventTimes;for(p=p.expirationTimes;0<S;){var P=31-Zn(S),k=1<<P;g[P]=0,M[P]=-1,p[P]=-1,S&=~k}}function Kx(p,g){var S=p.entangledLanes|=g;for(p=p.entanglements;S;){var M=31-Zn(S),P=1<<M;P&g|p[M]&g&&(p[M]|=g),S&=~P}}var An=0;function bB(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var Jx=i.unstable_scheduleCallback,IB=i.unstable_cancelCallback,TZ=i.unstable_shouldYield,MZ=i.unstable_requestPaint,ui=i.unstable_now,Yx=i.unstable_ImmediatePriority,BZ=i.unstable_UserBlockingPriority,Xx=i.unstable_NormalPriority,RZ=i.unstable_IdlePriority,zA=null,el=null;function PZ(p){if(el&&typeof el.onCommitFiberRoot=="function")try{el.onCommitFiberRoot(zA,p,void 0,(p.current.flags&128)===128)}catch{}}function DZ(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var tl=typeof Object.is=="function"?Object.is:DZ,ql=null,QA=!1,qx=!1;function TB(p){ql===null?ql=[p]:ql.push(p)}function LZ(p){QA=!0,TB(p)}function nl(){if(!qx&&ql!==null){qx=!0;var p=0,g=An;try{var S=ql;for(An=1;p<S.length;p++){var M=S[p];do M=M(!0);while(M!==null)}ql=null,QA=!1}catch(P){throw ql!==null&&(ql=ql.slice(p+1)),Jx(Yx,nl),P}finally{An=g,qx=!1}}return null}var kZ=a.ReactCurrentBatchConfig;function HA(p,g){if(tl(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var S=Object.keys(p),M=Object.keys(g);if(S.length!==M.length)return!1;for(M=0;M<S.length;M++){var P=S[M];if(!bt.call(g,P)||!tl(p[P],g[P]))return!1}return!0}function FZ(p){switch(p.tag){case 5:return Et(p.type);case 16:return Et("Lazy");case 13:return Et("Suspense");case 19:return Et("SuspenseList");case 0:case 2:case 15:return p=Ze(p.type,!1),p;case 11:return p=Ze(p.type.render,!1),p;case 1:return p=Ze(p.type,!0),p;default:return""}}function da(p,g){if(p&&p.defaultProps){g=s({},g),p=p.defaultProps;for(var S in p)g[S]===void 0&&(g[S]=p[S]);return g}return g}var VA=en(null),$A=null,Kd=null,Zx=null;function e_(){Zx=Kd=$A=null}function MB(p,g,S){W?(Lt(VA,g._currentValue),g._currentValue=S):(Lt(VA,g._currentValue2),g._currentValue2=S)}function t_(p){var g=VA.current;yt(VA),W?p._currentValue=g:p._currentValue2=g}function n_(p,g,S){for(;p!==null;){var M=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,M!==null&&(M.childLanes|=g)):M!==null&&(M.childLanes&g)!==g&&(M.childLanes|=g),p===S)break;p=p.return}}function Jd(p,g){$A=p,Zx=Kd=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&g&&(Vs=!0),p.firstContext=null)}function _o(p){var g=W?p._currentValue:p._currentValue2;if(Zx!==p)if(p={context:p,memoizedValue:g,next:null},Kd===null){if($A===null)throw Error(o(308));Kd=p,$A.dependencies={lanes:0,firstContext:p}}else Kd=Kd.next=p;return g}var rl=null,cu=!1;function r_(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BB(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Zl(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function uu(p,g){var S=p.updateQueue;S!==null&&(S=S.shared,Qr!==null&&p.mode&1&&!(nn&2)?(p=S.interleaved,p===null?(g.next=g,rl===null?rl=[S]:rl.push(S)):(g.next=p.next,p.next=g),S.interleaved=g):(p=S.pending,p===null?g.next=g:(g.next=p.next,p.next=g),S.pending=g))}function WA(p,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var M=g.lanes;M&=p.pendingLanes,S|=M,g.lanes=S,Kx(p,S)}}function RB(p,g){var S=p.updateQueue,M=p.alternate;if(M!==null&&(M=M.updateQueue,S===M)){var P=null,k=null;if(S=S.firstBaseUpdate,S!==null){do{var ee={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};k===null?P=k=ee:k=k.next=ee,S=S.next}while(S!==null);k===null?P=k=g:k=k.next=g}else P=k=g;S={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:k,shared:M.shared,effects:M.effects},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=g:p.next=g,S.lastBaseUpdate=g}function jA(p,g,S,M){var P=p.updateQueue;cu=!1;var k=P.firstBaseUpdate,ee=P.lastBaseUpdate,fe=P.shared.pending;if(fe!==null){P.shared.pending=null;var Ie=fe,je=Ie.next;Ie.next=null,ee===null?k=je:ee.next=je,ee=Ie;var ut=p.alternate;ut!==null&&(ut=ut.updateQueue,fe=ut.lastBaseUpdate,fe!==ee&&(fe===null?ut.firstBaseUpdate=je:fe.next=je,ut.lastBaseUpdate=Ie))}if(k!==null){var Wt=P.baseState;ee=0,ut=je=Ie=null,fe=k;do{var Mt=fe.lane,Fn=fe.eventTime;if((M&Mt)===Mt){ut!==null&&(ut=ut.next={eventTime:Fn,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var It=p,Ni=fe;switch(Mt=g,Fn=S,Ni.tag){case 1:if(It=Ni.payload,typeof It=="function"){Wt=It.call(Fn,Wt,Mt);break e}Wt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ni.payload,Mt=typeof It=="function"?It.call(Fn,Wt,Mt):It,Mt==null)break e;Wt=s({},Wt,Mt);break e;case 2:cu=!0}}fe.callback!==null&&fe.lane!==0&&(p.flags|=64,Mt=P.effects,Mt===null?P.effects=[fe]:Mt.push(fe))}else Fn={eventTime:Fn,lane:Mt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ut===null?(je=ut=Fn,Ie=Wt):ut=ut.next=Fn,ee|=Mt;if(fe=fe.next,fe===null){if(fe=P.shared.pending,fe===null)break;Mt=fe,fe=Mt.next,Mt.next=null,P.lastBaseUpdate=Mt,P.shared.pending=null}}while(1);if(ut===null&&(Ie=Wt),P.baseState=Ie,P.firstBaseUpdate=je,P.lastBaseUpdate=ut,g=P.shared.interleaved,g!==null){P=g;do ee|=P.lane,P=P.next;while(P!==g)}else k===null&&(P.shared.lanes=0);ip|=ee,p.lanes=ee,p.memoizedState=Wt}}function PB(p,g,S){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var M=p[g],P=M.callback;if(P!==null){if(M.callback=null,M=S,typeof P!="function")throw Error(o(191,P));P.call(M)}}}var DB=new r.Component().refs;function i_(p,g,S,M){g=p.memoizedState,S=S(M,g),S=S==null?g:s({},g,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var KA={isMounted:function(p){return(p=p._reactInternals)?I(p)===p:!1},enqueueSetState:function(p,g,S){p=p._reactInternals;var M=ns(),P=du(p),k=Zl(M,P);k.payload=g,S!=null&&(k.callback=S),uu(p,k),g=bo(p,P,M),g!==null&&WA(g,p,P)},enqueueReplaceState:function(p,g,S){p=p._reactInternals;var M=ns(),P=du(p),k=Zl(M,P);k.tag=1,k.payload=g,S!=null&&(k.callback=S),uu(p,k),g=bo(p,P,M),g!==null&&WA(g,p,P)},enqueueForceUpdate:function(p,g){p=p._reactInternals;var S=ns(),M=du(p),P=Zl(S,M);P.tag=2,g!=null&&(P.callback=g),uu(p,P),g=bo(p,M,S),g!==null&&WA(g,p,M)}};function LB(p,g,S,M,P,k,ee){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(M,k,ee):g.prototype&&g.prototype.isPureReactComponent?!HA(S,M)||!HA(P,k):!0}function kB(p,g,S){var M=!1,P=tn,k=g.contextType;return typeof k=="object"&&k!==null?k=_o(k):(P=zr(g)?Rn:Jt.current,M=g.contextTypes,k=(M=M!=null)?Xr(p,P):tn),g=new g(S,k),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=KA,p.stateNode=g,g._reactInternals=p,M&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=P,p.__reactInternalMemoizedMaskedChildContext=k),g}function FB(p,g,S,M){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,M),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,M),g.state!==p&&KA.enqueueReplaceState(g,g.state,null)}function s_(p,g,S,M){var P=p.stateNode;P.props=S,P.state=p.memoizedState,P.refs=DB,r_(p);var k=g.contextType;typeof k=="object"&&k!==null?P.context=_o(k):(k=zr(g)?Rn:Jt.current,P.context=Xr(p,k)),P.state=p.memoizedState,k=g.getDerivedStateFromProps,typeof k=="function"&&(i_(p,g,k,S),P.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(g=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),g!==P.state&&KA.enqueueReplaceState(P,P.state,null),jA(p,S,P,M),P.state=p.memoizedState),typeof P.componentDidMount=="function"&&(p.flags|=4194308)}var Yd=[],Xd=0,JA=null,YA=0,Eo=[],Co=0,nh=null,ec=1,tc="";function rh(p,g){Yd[Xd++]=YA,Yd[Xd++]=JA,JA=p,YA=g}function OB(p,g,S){Eo[Co++]=ec,Eo[Co++]=tc,Eo[Co++]=nh,nh=p;var M=ec;p=tc;var P=32-Zn(M)-1;M&=~(1<<P),S+=1;var k=32-Zn(g)+P;if(30<k){var ee=P-P%5;k=(M&(1<<ee)-1).toString(32),M>>=ee,P-=ee,ec=1<<32-Zn(g)+P|S<<P|M,tc=k+p}else ec=1<<k|S<<P|M,tc=p}function o_(p){p.return!==null&&(rh(p,1),OB(p,1,0))}function a_(p){for(;p===JA;)JA=Yd[--Xd],Yd[Xd]=null,YA=Yd[--Xd],Yd[Xd]=null;for(;p===nh;)nh=Eo[--Co],Eo[Co]=null,tc=Eo[--Co],Eo[Co]=null,ec=Eo[--Co],Eo[Co]=null}var Qs=null,Hs=null,er=!1,eg=!1,pa=null;function NB(p,g){var S=Io(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=p,g=p.deletions,g===null?(p.deletions=[S],p.flags|=16):g.push(S)}function UB(p,g){switch(p.tag){case 5:return g=Li(g,p.type,p.pendingProps),g!==null?(p.stateNode=g,Qs=p,Hs=xe(g),!0):!1;case 6:return g=jd(g,p.pendingProps),g!==null?(p.stateNode=g,Qs=p,Hs=null,!0):!1;case 13:if(g=Xm(g),g!==null){var S=nh!==null?{id:ec,overflow:tc}:null;return p.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=Io(18,null,null,0),S.stateNode=g,S.return=p,p.child=S,Qs=p,Hs=null,!0}return!1;default:return!1}}function l_(p){return(p.mode&1)!==0&&(p.flags&128)===0}function c_(p){if(er){var g=Hs;if(g){var S=g;if(!UB(p,g)){if(l_(p))throw Error(o(418));g=ye(S);var M=Qs;g&&UB(p,g)?NB(M,S):(p.flags=p.flags&-4097|2,er=!1,Qs=p)}}else{if(l_(p))throw Error(o(418));p.flags=p.flags&-4097|2,er=!1,Qs=p}}}function GB(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Qs=p}function tg(p){if(!te||p!==Qs)return!1;if(!er)return GB(p),er=!0,!1;if(p.tag!==3&&(p.tag!==5||He(p.type)&&!be(p.type,p.memoizedProps))){var g=Hs;if(g){if(l_(p)){for(p=Hs;p;)p=ye(p);throw Error(o(418))}for(;g;)NB(p,g),g=ye(g)}}if(GB(p),p.tag===13){if(!te)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Hs=ue(p)}else Hs=Qs?ye(p.stateNode):null;return!0}function qd(){te&&(Hs=Qs=null,eg=er=!1)}function u_(p){pa===null?pa=[p]:pa.push(p)}function ng(p,g,S){if(p=S.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var M=S.stateNode}if(!M)throw Error(o(147,p));var P=M,k=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===k?g.ref:(g=function(ee){var fe=P.refs;fe===DB&&(fe=P.refs={}),ee===null?delete fe[k]:fe[k]=ee},g._stringRef=k,g)}if(typeof p!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,p))}return p}function XA(p,g){throw p=Object.prototype.toString.call(g),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function zB(p){var g=p._init;return g(p._payload)}function QB(p){function g(_e,pe){if(p){var Ce=_e.deletions;Ce===null?(_e.deletions=[pe],_e.flags|=16):Ce.push(pe)}}function S(_e,pe){if(!p)return null;for(;pe!==null;)g(_e,pe),pe=pe.sibling;return null}function M(_e,pe){for(_e=new Map;pe!==null;)pe.key!==null?_e.set(pe.key,pe):_e.set(pe.index,pe),pe=pe.sibling;return _e}function P(_e,pe){return _e=mu(_e,pe),_e.index=0,_e.sibling=null,_e}function k(_e,pe,Ce){return _e.index=Ce,p?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<pe?(_e.flags|=2,pe):Ce):(_e.flags|=2,pe)):(_e.flags|=1048576,pe)}function ee(_e){return p&&_e.alternate===null&&(_e.flags|=2),_e}function fe(_e,pe,Ce,ot){return pe===null||pe.tag!==6?(pe=j_(Ce,_e.mode,ot),pe.return=_e,pe):(pe=P(pe,Ce),pe.return=_e,pe)}function Ie(_e,pe,Ce,ot){var wt=Ce.type;return wt===u?ut(_e,pe,Ce.props.children,ot,Ce.key):pe!==null&&(pe.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===x&&zB(wt)===pe.type)?(ot=P(pe,Ce.props),ot.ref=ng(_e,pe,Ce),ot.return=_e,ot):(ot=Tv(Ce.type,Ce.key,Ce.props,null,_e.mode,ot),ot.ref=ng(_e,pe,Ce),ot.return=_e,ot)}function je(_e,pe,Ce,ot){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ce.containerInfo||pe.stateNode.implementation!==Ce.implementation?(pe=K_(Ce,_e.mode,ot),pe.return=_e,pe):(pe=P(pe,Ce.children||[]),pe.return=_e,pe)}function ut(_e,pe,Ce,ot,wt){return pe===null||pe.tag!==7?(pe=uh(Ce,_e.mode,ot,wt),pe.return=_e,pe):(pe=P(pe,Ce),pe.return=_e,pe)}function Wt(_e,pe,Ce){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=j_(""+pe,_e.mode,Ce),pe.return=_e,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return Ce=Tv(pe.type,pe.key,pe.props,null,_e.mode,Ce),Ce.ref=ng(_e,null,pe),Ce.return=_e,Ce;case c:return pe=K_(pe,_e.mode,Ce),pe.return=_e,pe;case x:var ot=pe._init;return Wt(_e,ot(pe._payload),Ce)}if(G(pe)||w(pe))return pe=uh(pe,_e.mode,Ce,null),pe.return=_e,pe;XA(_e,pe)}return null}function Mt(_e,pe,Ce,ot){var wt=pe!==null?pe.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return wt!==null?null:fe(_e,pe,""+Ce,ot);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return Ce.key===wt?Ie(_e,pe,Ce,ot):null;case c:return Ce.key===wt?je(_e,pe,Ce,ot):null;case x:return wt=Ce._init,Mt(_e,pe,wt(Ce._payload),ot)}if(G(Ce)||w(Ce))return wt!==null?null:ut(_e,pe,Ce,ot,null);XA(_e,Ce)}return null}function Fn(_e,pe,Ce,ot,wt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return _e=_e.get(Ce)||null,fe(pe,_e,""+ot,wt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return _e=_e.get(ot.key===null?Ce:ot.key)||null,Ie(pe,_e,ot,wt);case c:return _e=_e.get(ot.key===null?Ce:ot.key)||null,je(pe,_e,ot,wt);case x:var qt=ot._init;return Fn(_e,pe,Ce,qt(ot._payload),wt)}if(G(ot)||w(ot))return _e=_e.get(Ce)||null,ut(pe,_e,ot,wt,null);XA(pe,ot)}return null}function It(_e,pe,Ce,ot){for(var wt=null,qt=null,jt=pe,vn=pe=0,hi=null;jt!==null&&vn<Ce.length;vn++){jt.index>vn?(hi=jt,jt=null):hi=jt.sibling;var yn=Mt(_e,jt,Ce[vn],ot);if(yn===null){jt===null&&(jt=hi);break}p&&jt&&yn.alternate===null&&g(_e,jt),pe=k(yn,pe,vn),qt===null?wt=yn:qt.sibling=yn,qt=yn,jt=hi}if(vn===Ce.length)return S(_e,jt),er&&rh(_e,vn),wt;if(jt===null){for(;vn<Ce.length;vn++)jt=Wt(_e,Ce[vn],ot),jt!==null&&(pe=k(jt,pe,vn),qt===null?wt=jt:qt.sibling=jt,qt=jt);return er&&rh(_e,vn),wt}for(jt=M(_e,jt);vn<Ce.length;vn++)hi=Fn(jt,_e,vn,Ce[vn],ot),hi!==null&&(p&&hi.alternate!==null&&jt.delete(hi.key===null?vn:hi.key),pe=k(hi,pe,vn),qt===null?wt=hi:qt.sibling=hi,qt=hi);return p&&jt.forEach(function(gu){return g(_e,gu)}),er&&rh(_e,vn),wt}function Ni(_e,pe,Ce,ot){var wt=w(Ce);if(typeof wt!="function")throw Error(o(150));if(Ce=wt.call(Ce),Ce==null)throw Error(o(151));for(var qt=wt=null,jt=pe,vn=pe=0,hi=null,yn=Ce.next();jt!==null&&!yn.done;vn++,yn=Ce.next()){jt.index>vn?(hi=jt,jt=null):hi=jt.sibling;var gu=Mt(_e,jt,yn.value,ot);if(gu===null){jt===null&&(jt=hi);break}p&&jt&&gu.alternate===null&&g(_e,jt),pe=k(gu,pe,vn),qt===null?wt=gu:qt.sibling=gu,qt=gu,jt=hi}if(yn.done)return S(_e,jt),er&&rh(_e,vn),wt;if(jt===null){for(;!yn.done;vn++,yn=Ce.next())yn=Wt(_e,yn.value,ot),yn!==null&&(pe=k(yn,pe,vn),qt===null?wt=yn:qt.sibling=yn,qt=yn);return er&&rh(_e,vn),wt}for(jt=M(_e,jt);!yn.done;vn++,yn=Ce.next())yn=Fn(jt,_e,vn,yn.value,ot),yn!==null&&(p&&yn.alternate!==null&&jt.delete(yn.key===null?vn:yn.key),pe=k(yn,pe,vn),qt===null?wt=yn:qt.sibling=yn,qt=yn);return p&&jt.forEach(function(hee){return g(_e,hee)}),er&&rh(_e,vn),wt}function To(_e,pe,Ce,ot){if(typeof Ce=="object"&&Ce!==null&&Ce.type===u&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:e:{for(var wt=Ce.key,qt=pe;qt!==null;){if(qt.key===wt){if(wt=Ce.type,wt===u){if(qt.tag===7){S(_e,qt.sibling),pe=P(qt,Ce.props.children),pe.return=_e,_e=pe;break e}}else if(qt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===x&&zB(wt)===qt.type){S(_e,qt.sibling),pe=P(qt,Ce.props),pe.ref=ng(_e,qt,Ce),pe.return=_e,_e=pe;break e}S(_e,qt);break}else g(_e,qt);qt=qt.sibling}Ce.type===u?(pe=uh(Ce.props.children,_e.mode,ot,Ce.key),pe.return=_e,_e=pe):(ot=Tv(Ce.type,Ce.key,Ce.props,null,_e.mode,ot),ot.ref=ng(_e,pe,Ce),ot.return=_e,_e=ot)}return ee(_e);case c:e:{for(qt=Ce.key;pe!==null;){if(pe.key===qt)if(pe.tag===4&&pe.stateNode.containerInfo===Ce.containerInfo&&pe.stateNode.implementation===Ce.implementation){S(_e,pe.sibling),pe=P(pe,Ce.children||[]),pe.return=_e,_e=pe;break e}else{S(_e,pe);break}else g(_e,pe);pe=pe.sibling}pe=K_(Ce,_e.mode,ot),pe.return=_e,_e=pe}return ee(_e);case x:return qt=Ce._init,To(_e,pe,qt(Ce._payload),ot)}if(G(Ce))return It(_e,pe,Ce,ot);if(w(Ce))return Ni(_e,pe,Ce,ot);XA(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,pe!==null&&pe.tag===6?(S(_e,pe.sibling),pe=P(pe,Ce),pe.return=_e,_e=pe):(S(_e,pe),pe=j_(Ce,_e.mode,ot),pe.return=_e,_e=pe),ee(_e)):S(_e,pe)}return To}var Zd=QB(!0),HB=QB(!1),rg={},So=en(rg),ig=en(rg),ep=en(rg);function il(p){if(p===rg)throw Error(o(174));return p}function f_(p,g){Lt(ep,g),Lt(ig,p),Lt(So,rg),p=J(g),yt(So),Lt(So,p)}function tp(){yt(So),yt(ig),yt(ep)}function VB(p){var g=il(ep.current),S=il(So.current);g=N(S,p.type,g),S!==g&&(Lt(ig,p),Lt(So,g))}function h_(p){ig.current===p&&(yt(So),yt(ig))}var or=en(0);function qA(p){for(var g=p;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Yl(S)||th(S)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var d_=[];function p_(){for(var p=0;p<d_.length;p++){var g=d_[p];W?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}d_.length=0}var ZA=a.ReactCurrentDispatcher,wo=a.ReactCurrentBatchConfig,np=0,Er=null,ki=null,fi=null,ev=!1,sg=!1,og=0,OZ=0;function Fi(){throw Error(o(321))}function m_(p,g){if(g===null)return!1;for(var S=0;S<g.length&&S<p.length;S++)if(!tl(p[S],g[S]))return!1;return!0}function g_(p,g,S,M,P,k){if(np=k,Er=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ZA.current=p===null||p.memoizedState===null?zZ:QZ,p=S(M,P),sg){k=0;do{if(sg=!1,og=0,25<=k)throw Error(o(301));k+=1,fi=ki=null,g.updateQueue=null,ZA.current=HZ,p=S(M,P)}while(sg)}if(ZA.current=sv,g=ki!==null&&ki.next!==null,np=0,fi=ki=Er=null,ev=!1,g)throw Error(o(300));return p}function A_(){var p=og!==0;return og=0,p}function nc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?Er.memoizedState=fi=p:fi=fi.next=p,fi}function sl(){if(ki===null){var p=Er.alternate;p=p!==null?p.memoizedState:null}else p=ki.next;var g=fi===null?Er.memoizedState:fi.next;if(g!==null)fi=g,ki=p;else{if(p===null)throw Error(o(310));ki=p,p={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},fi===null?Er.memoizedState=fi=p:fi=fi.next=p}return fi}function ih(p,g){return typeof g=="function"?g(p):g}function tv(p){var g=sl(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var M=ki,P=M.baseQueue,k=S.pending;if(k!==null){if(P!==null){var ee=P.next;P.next=k.next,k.next=ee}M.baseQueue=P=k,S.pending=null}if(P!==null){k=P.next,M=M.baseState;var fe=ee=null,Ie=null,je=k;do{var ut=je.lane;if((np&ut)===ut)Ie!==null&&(Ie=Ie.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),M=je.hasEagerState?je.eagerState:p(M,je.action);else{var Wt={lane:ut,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};Ie===null?(fe=Ie=Wt,ee=M):Ie=Ie.next=Wt,Er.lanes|=ut,ip|=ut}je=je.next}while(je!==null&&je!==k);Ie===null?ee=M:Ie.next=fe,tl(M,g.memoizedState)||(Vs=!0),g.memoizedState=M,g.baseState=ee,g.baseQueue=Ie,S.lastRenderedState=M}if(p=S.interleaved,p!==null){P=p;do k=P.lane,Er.lanes|=k,ip|=k,P=P.next;while(P!==p)}else P===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function nv(p){var g=sl(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var M=S.dispatch,P=S.pending,k=g.memoizedState;if(P!==null){S.pending=null;var ee=P=P.next;do k=p(k,ee.action),ee=ee.next;while(ee!==P);tl(k,g.memoizedState)||(Vs=!0),g.memoizedState=k,g.baseQueue===null&&(g.baseState=k),S.lastRenderedState=k}return[k,M]}function $B(){}function WB(p,g){var S=Er,M=sl(),P=g(),k=!tl(M.memoizedState,P);if(k&&(M.memoizedState=P,Vs=!0),M=M.queue,lg(JB.bind(null,S,M,p),[p]),M.getSnapshot!==g||k||fi!==null&&fi.memoizedState.tag&1){if(S.flags|=2048,ag(9,KB.bind(null,S,M,P,g),void 0,null),Qr===null)throw Error(o(349));np&30||jB(S,g,P)}return P}function jB(p,g,S){p.flags|=16384,p={getSnapshot:g,value:S},g=Er.updateQueue,g===null?(g={lastEffect:null,stores:null},Er.updateQueue=g,g.stores=[p]):(S=g.stores,S===null?g.stores=[p]:S.push(p))}function KB(p,g,S,M){g.value=S,g.getSnapshot=M,YB(g)&&bo(p,1,-1)}function JB(p,g,S){return S(function(){YB(g)&&bo(p,1,-1)})}function YB(p){var g=p.getSnapshot;p=p.value;try{var S=g();return!tl(p,S)}catch{return!0}}function v_(p){var g=nc();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:p},g.queue=p,p=p.dispatch=GZ.bind(null,Er,p),[g.memoizedState,p]}function ag(p,g,S,M){return p={tag:p,create:g,destroy:S,deps:M,next:null},g=Er.updateQueue,g===null?(g={lastEffect:null,stores:null},Er.updateQueue=g,g.lastEffect=p.next=p):(S=g.lastEffect,S===null?g.lastEffect=p.next=p:(M=S.next,S.next=p,p.next=M,g.lastEffect=p)),p}function XB(){return sl().memoizedState}function rv(p,g,S,M){var P=nc();Er.flags|=p,P.memoizedState=ag(1|g,S,void 0,M===void 0?null:M)}function iv(p,g,S,M){var P=sl();M=M===void 0?null:M;var k=void 0;if(ki!==null){var ee=ki.memoizedState;if(k=ee.destroy,M!==null&&m_(M,ee.deps)){P.memoizedState=ag(g,S,k,M);return}}Er.flags|=p,P.memoizedState=ag(1|g,S,k,M)}function y_(p,g){return rv(8390656,8,p,g)}function lg(p,g){return iv(2048,8,p,g)}function qB(p,g){return iv(4,2,p,g)}function ZB(p,g){return iv(4,4,p,g)}function eR(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function tR(p,g,S){return S=S!=null?S.concat([p]):null,iv(4,4,eR.bind(null,g,p),S)}function x_(){}function nR(p,g){var S=sl();g=g===void 0?null:g;var M=S.memoizedState;return M!==null&&g!==null&&m_(g,M[1])?M[0]:(S.memoizedState=[p,g],p)}function rR(p,g){var S=sl();g=g===void 0?null:g;var M=S.memoizedState;return M!==null&&g!==null&&m_(g,M[1])?M[0]:(p=p(),S.memoizedState=[p,g],p)}function NZ(p,g){var S=An;An=S!==0&&4>S?S:4,p(!0);var M=wo.transition;wo.transition={};try{p(!1),g()}finally{An=S,wo.transition=M}}function iR(){return sl().memoizedState}function UZ(p,g,S){var M=du(p);S={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null},sR(p)?oR(g,S):(aR(p,g,S),S=ns(),p=bo(p,M,S),p!==null&&lR(p,g,M))}function GZ(p,g,S){var M=du(p),P={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null};if(sR(p))oR(g,P);else{aR(p,g,P);var k=p.alternate;if(p.lanes===0&&(k===null||k.lanes===0)&&(k=g.lastRenderedReducer,k!==null))try{var ee=g.lastRenderedState,fe=k(ee,S);if(P.hasEagerState=!0,P.eagerState=fe,tl(fe,ee))return}catch{}finally{}S=ns(),p=bo(p,M,S),p!==null&&lR(p,g,M)}}function sR(p){var g=p.alternate;return p===Er||g!==null&&g===Er}function oR(p,g){sg=ev=!0;var S=p.pending;S===null?g.next=g:(g.next=S.next,S.next=g),p.pending=g}function aR(p,g,S){Qr!==null&&p.mode&1&&!(nn&2)?(p=g.interleaved,p===null?(S.next=S,rl===null?rl=[g]:rl.push(g)):(S.next=p.next,p.next=S),g.interleaved=S):(p=g.pending,p===null?S.next=S:(S.next=p.next,p.next=S),g.pending=S)}function lR(p,g,S){if(S&4194240){var M=g.lanes;M&=p.pendingLanes,S|=M,g.lanes=S,Kx(p,S)}}var sv={readContext:_o,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},zZ={readContext:_o,useCallback:function(p,g){return nc().memoizedState=[p,g===void 0?null:g],p},useContext:_o,useEffect:y_,useImperativeHandle:function(p,g,S){return S=S!=null?S.concat([p]):null,rv(4194308,4,eR.bind(null,g,p),S)},useLayoutEffect:function(p,g){return rv(4194308,4,p,g)},useInsertionEffect:function(p,g){return rv(4,2,p,g)},useMemo:function(p,g){var S=nc();return g=g===void 0?null:g,p=p(),S.memoizedState=[p,g],p},useReducer:function(p,g,S){var M=nc();return g=S!==void 0?S(g):g,M.memoizedState=M.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},M.queue=p,p=p.dispatch=UZ.bind(null,Er,p),[M.memoizedState,p]},useRef:function(p){var g=nc();return p={current:p},g.memoizedState=p},useState:v_,useDebugValue:x_,useDeferredValue:function(p){var g=v_(p),S=g[0],M=g[1];return y_(function(){var P=wo.transition;wo.transition={};try{M(p)}finally{wo.transition=P}},[p]),S},useTransition:function(){var p=v_(!1),g=p[0];return p=NZ.bind(null,p[1]),nc().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,S){var M=Er,P=nc();if(er){if(S===void 0)throw Error(o(407));S=S()}else{if(S=g(),Qr===null)throw Error(o(349));np&30||jB(M,g,S)}P.memoizedState=S;var k={value:S,getSnapshot:g};return P.queue=k,y_(JB.bind(null,M,k,p),[p]),M.flags|=2048,ag(9,KB.bind(null,M,k,S,g),void 0,null),S},useId:function(){var p=nc(),g=Qr.identifierPrefix;if(er){var S=tc,M=ec;S=(M&~(1<<32-Zn(M)-1)).toString(32)+S,g=":"+g+"R"+S,S=og++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=OZ++,g=":"+g+"r"+S.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},QZ={readContext:_o,useCallback:nR,useContext:_o,useEffect:lg,useImperativeHandle:tR,useInsertionEffect:qB,useLayoutEffect:ZB,useMemo:rR,useReducer:tv,useRef:XB,useState:function(){return tv(ih)},useDebugValue:x_,useDeferredValue:function(p){var g=tv(ih),S=g[0],M=g[1];return lg(function(){var P=wo.transition;wo.transition={};try{M(p)}finally{wo.transition=P}},[p]),S},useTransition:function(){var p=tv(ih)[0],g=sl().memoizedState;return[p,g]},useMutableSource:$B,useSyncExternalStore:WB,useId:iR,unstable_isNewReconciler:!1},HZ={readContext:_o,useCallback:nR,useContext:_o,useEffect:lg,useImperativeHandle:tR,useInsertionEffect:qB,useLayoutEffect:ZB,useMemo:rR,useReducer:nv,useRef:XB,useState:function(){return nv(ih)},useDebugValue:x_,useDeferredValue:function(p){var g=nv(ih),S=g[0],M=g[1];return lg(function(){var P=wo.transition;wo.transition={};try{M(p)}finally{wo.transition=P}},[p]),S},useTransition:function(){var p=nv(ih)[0],g=sl().memoizedState;return[p,g]},useMutableSource:$B,useSyncExternalStore:WB,useId:iR,unstable_isNewReconciler:!1};function __(p,g){try{var S="",M=g;do S+=FZ(M),M=M.return;while(M);var P=S}catch(k){P=`
Error generating stack: `+k.message+`
`+k.stack}return{value:p,source:g,stack:P}}function E_(p,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var VZ=typeof WeakMap=="function"?WeakMap:Map;function cR(p,g,S){S=Zl(-1,S),S.tag=3,S.payload={element:null};var M=g.value;return S.callback=function(){_v||(_v=!0,G_=M),E_(p,g)},S}function uR(p,g,S){S=Zl(-1,S),S.tag=3;var M=p.type.getDerivedStateFromError;if(typeof M=="function"){var P=g.value;S.payload=function(){return M(P)},S.callback=function(){E_(p,g)}}var k=p.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(S.callback=function(){E_(p,g),typeof M!="function"&&(fu===null?fu=new Set([this]):fu.add(this));var ee=g.stack;this.componentDidCatch(g.value,{componentStack:ee!==null?ee:""})}),S}function fR(p,g,S){var M=p.pingCache;if(M===null){M=p.pingCache=new VZ;var P=new Set;M.set(g,P)}else P=M.get(g),P===void 0&&(P=new Set,M.set(g,P));P.has(S)||(P.add(S),p=iee.bind(null,p,g,S),g.then(p,p))}function hR(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function dR(p,g,S,M,P){return p.mode&1?(p.flags|=65536,p.lanes=P,p):(p===g?p.flags|=65536:(p.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Zl(-1,1),g.tag=2,uu(S,g))),S.lanes|=1),p)}function ol(p){p.flags|=4}function pR(p,g){if(p!==null&&p.child===g.child)return!0;if(g.flags&16)return!1;for(p=g.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var cg,ug,ov,av;if(Y)cg=function(p,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)re(p,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},ug=function(){},ov=function(p,g,S,M,P){if(p=p.memoizedProps,p!==M){var k=g.stateNode,ee=il(So.current);S=Ee(k,S,p,M,P,ee),(g.updateQueue=S)&&ol(g)}},av=function(p,g,S,M){S!==M&&ol(g)};else if(ie){cg=function(p,g,S,M){for(var P=g.child;P!==null;){if(P.tag===5){var k=P.stateNode;S&&M&&(k=Tn(k,P.type,P.memoizedProps,P)),re(p,k)}else if(P.tag===6)k=P.stateNode,S&&M&&(k=vs(k,P.memoizedProps,P)),re(p,k);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)k=P.child,k!==null&&(k.return=P),cg(p,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===g)break;for(;P.sibling===null;){if(P.return===null||P.return===g)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var mR=function(p,g,S,M){for(var P=g.child;P!==null;){if(P.tag===5){var k=P.stateNode;S&&M&&(k=Tn(k,P.type,P.memoizedProps,P)),sr(p,k)}else if(P.tag===6)k=P.stateNode,S&&M&&(k=vs(k,P.memoizedProps,P)),sr(p,k);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)k=P.child,k!==null&&(k.return=P),mR(p,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===g)break;for(;P.sibling===null;){if(P.return===null||P.return===g)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};ug=function(p,g){var S=g.stateNode;if(!pR(p,g)){p=S.containerInfo;var M=an(p);mR(M,g,!1,!1),S.pendingChildren=M,ol(g),Gr(p,M)}},ov=function(p,g,S,M,P){var k=p.stateNode,ee=p.memoizedProps;if((p=pR(p,g))&&ee===M)g.stateNode=k;else{var fe=g.stateNode,Ie=il(So.current),je=null;ee!==M&&(je=Ee(fe,S,ee,M,P,Ie)),p&&je===null?g.stateNode=k:(k=St(k,je,S,ee,M,g,p,fe),ge(k,S,M,P,Ie)&&ol(g),g.stateNode=k,p?ol(g):cg(k,g,!1,!1))}},av=function(p,g,S,M){S!==M?(p=il(ep.current),S=il(So.current),g.stateNode=oe(M,p,S,g),ol(g)):g.stateNode=p.stateNode}}else ug=function(){},ov=function(){},av=function(){};function fg(p,g){if(!er)switch(p.tailMode){case"hidden":g=p.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var M=null;S!==null;)S.alternate!==null&&(M=S),S=S.sibling;M===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:M.sibling=null}}function Oi(p){var g=p.alternate!==null&&p.alternate.child===p.child,S=0,M=0;if(g)for(var P=p.child;P!==null;)S|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=p,P=P.sibling;else for(P=p.child;P!==null;)S|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=p,P=P.sibling;return p.subtreeFlags|=M,p.childLanes=S,g}function $Z(p,g,S){var M=g.pendingProps;switch(a_(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(g),null;case 1:return zr(g.type)&&Ci(),Oi(g),null;case 3:return M=g.stateNode,tp(),yt(Vt),yt(Jt),p_(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(p===null||p.child===null)&&(tg(g)?ol(g):p===null||p.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,pa!==null&&(H_(pa),pa=null))),ug(p,g),Oi(g),null;case 5:h_(g),S=il(ep.current);var P=g.type;if(p!==null&&g.stateNode!=null)ov(p,g,P,M,S),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!M){if(g.stateNode===null)throw Error(o(166));return Oi(g),null}if(p=il(So.current),tg(g)){if(!te)throw Error(o(175));p=F(g.stateNode,g.type,g.memoizedProps,S,p,g,!eg),g.updateQueue=p,p!==null&&ol(g)}else{var k=Z(P,M,S,p,g);cg(k,g,!1,!1),g.stateNode=k,ge(k,P,M,S,p)&&ol(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Oi(g),null;case 6:if(p&&g.stateNode!=null)av(p,g,p.memoizedProps,M);else{if(typeof M!="string"&&g.stateNode===null)throw Error(o(166));if(p=il(ep.current),S=il(So.current),tg(g)){if(!te)throw Error(o(176));if(p=g.stateNode,M=g.memoizedProps,(S=$(p,M,g,!eg))&&(P=Qs,P!==null))switch(k=(P.mode&1)!==0,P.tag){case 3:Ve(P.stateNode.containerInfo,p,M,k);break;case 5:We(P.type,P.memoizedProps,P.stateNode,p,M,k)}S&&ol(g)}else g.stateNode=oe(M,p,S,g)}return Oi(g),null;case 13:if(yt(or),M=g.memoizedState,er&&Hs!==null&&g.mode&1&&!(g.flags&128)){for(p=Hs;p;)p=ye(p);return qd(),g.flags|=98560,g}if(M!==null&&M.dehydrated!==null){if(M=tg(g),p===null){if(!M)throw Error(o(318));if(!te)throw Error(o(344));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));ne(p,g)}else qd(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Oi(g),null}return pa!==null&&(H_(pa),pa=null),g.flags&128?(g.lanes=S,g):(M=M!==null,S=!1,p===null?tg(g):S=p.memoizedState!==null,M&&!S&&(g.child.flags|=8192,g.mode&1&&(p===null||or.current&1?Zr===0&&(Zr=3):$_())),g.updateQueue!==null&&(g.flags|=4),Oi(g),null);case 4:return tp(),ug(p,g),p===null&&Pe(g.stateNode.containerInfo),Oi(g),null;case 10:return t_(g.type._context),Oi(g),null;case 17:return zr(g.type)&&Ci(),Oi(g),null;case 19:if(yt(or),P=g.memoizedState,P===null)return Oi(g),null;if(M=(g.flags&128)!==0,k=P.rendering,k===null)if(M)fg(P,!1);else{if(Zr!==0||p!==null&&p.flags&128)for(p=g.child;p!==null;){if(k=qA(p),k!==null){for(g.flags|=128,fg(P,!1),p=k.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),g.subtreeFlags=0,p=S,M=g.child;M!==null;)S=M,P=p,S.flags&=14680066,k=S.alternate,k===null?(S.childLanes=0,S.lanes=P,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=k.childLanes,S.lanes=k.lanes,S.child=k.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=k.memoizedProps,S.memoizedState=k.memoizedState,S.updateQueue=k.updateQueue,S.type=k.type,P=k.dependencies,S.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),M=M.sibling;return Lt(or,or.current&1|2),g.child}p=p.sibling}P.tail!==null&&ui()>U_&&(g.flags|=128,M=!0,fg(P,!1),g.lanes=4194304)}else{if(!M)if(p=qA(k),p!==null){if(g.flags|=128,M=!0,p=p.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),fg(P,!0),P.tail===null&&P.tailMode==="hidden"&&!k.alternate&&!er)return Oi(g),null}else 2*ui()-P.renderingStartTime>U_&&S!==1073741824&&(g.flags|=128,M=!0,fg(P,!1),g.lanes=4194304);P.isBackwards?(k.sibling=g.child,g.child=k):(p=P.last,p!==null?p.sibling=k:g.child=k,P.last=k)}return P.tail!==null?(g=P.tail,P.rendering=g,P.tail=g.sibling,P.renderingStartTime=ui(),g.sibling=null,p=or.current,Lt(or,M?p&1|2:p&1),g):(Oi(g),null);case 22:case 23:return V_(),M=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==M&&(g.flags|=8192),M&&g.mode&1?$s&1073741824&&(Oi(g),Y&&g.subtreeFlags&6&&(g.flags|=8192)):Oi(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var WZ=a.ReactCurrentOwner,Vs=!1;function ts(p,g,S,M){g.child=p===null?HB(g,null,S,M):Zd(g,p.child,S,M)}function gR(p,g,S,M,P){S=S.render;var k=g.ref;return Jd(g,P),M=g_(p,g,S,M,k,P),S=A_(),p!==null&&!Vs?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~P,rc(p,g,P)):(er&&S&&o_(g),g.flags|=1,ts(p,g,M,P),g.child)}function AR(p,g,S,M,P){if(p===null){var k=S.type;return typeof k=="function"&&!W_(k)&&k.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=k,vR(p,g,k,M,P)):(p=Tv(S.type,null,M,g,g.mode,P),p.ref=g.ref,p.return=g,g.child=p)}if(k=p.child,!(p.lanes&P)){var ee=k.memoizedProps;if(S=S.compare,S=S!==null?S:HA,S(ee,M)&&p.ref===g.ref)return rc(p,g,P)}return g.flags|=1,p=mu(k,M),p.ref=g.ref,p.return=g,g.child=p}function vR(p,g,S,M,P){if(p!==null&&HA(p.memoizedProps,M)&&p.ref===g.ref)if(Vs=!1,(p.lanes&P)!==0)p.flags&131072&&(Vs=!0);else return g.lanes=p.lanes,rc(p,g,P);return C_(p,g,S,M,P)}function yR(p,g,S){var M=g.pendingProps,P=M.children,k=p!==null?p.memoizedState:null;if(M.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Lt(rp,$s),$s|=S;else if(S&1073741824)g.memoizedState={baseLanes:0,cachePool:null},M=k!==null?k.baseLanes:S,Lt(rp,$s),$s|=M;else return p=k!==null?k.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null},g.updateQueue=null,Lt(rp,$s),$s|=p,null;else k!==null?(M=k.baseLanes|S,g.memoizedState=null):M=S,Lt(rp,$s),$s|=M;return ts(p,g,P,S),g.child}function xR(p,g){var S=g.ref;(p===null&&S!==null||p!==null&&p.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function C_(p,g,S,M,P){var k=zr(S)?Rn:Jt.current;return k=Xr(g,k),Jd(g,P),S=g_(p,g,S,M,k,P),M=A_(),p!==null&&!Vs?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~P,rc(p,g,P)):(er&&M&&o_(g),g.flags|=1,ts(p,g,S,P),g.child)}function _R(p,g,S,M,P){if(zr(S)){var k=!0;Mn(g)}else k=!1;if(Jd(g,P),g.stateNode===null)p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),kB(g,S,M),s_(g,S,M,P),M=!0;else if(p===null){var ee=g.stateNode,fe=g.memoizedProps;ee.props=fe;var Ie=ee.context,je=S.contextType;typeof je=="object"&&je!==null?je=_o(je):(je=zr(S)?Rn:Jt.current,je=Xr(g,je));var ut=S.getDerivedStateFromProps,Wt=typeof ut=="function"||typeof ee.getSnapshotBeforeUpdate=="function";Wt||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==M||Ie!==je)&&FB(g,ee,M,je),cu=!1;var Mt=g.memoizedState;ee.state=Mt,jA(g,M,ee,P),Ie=g.memoizedState,fe!==M||Mt!==Ie||Vt.current||cu?(typeof ut=="function"&&(i_(g,S,ut,M),Ie=g.memoizedState),(fe=cu||LB(g,S,fe,M,Mt,Ie,je))?(Wt||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=M,g.memoizedState=Ie),ee.props=M,ee.state=Ie,ee.context=je,M=fe):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),M=!1)}else{ee=g.stateNode,BB(p,g),fe=g.memoizedProps,je=g.type===g.elementType?fe:da(g.type,fe),ee.props=je,Wt=g.pendingProps,Mt=ee.context,Ie=S.contextType,typeof Ie=="object"&&Ie!==null?Ie=_o(Ie):(Ie=zr(S)?Rn:Jt.current,Ie=Xr(g,Ie));var Fn=S.getDerivedStateFromProps;(ut=typeof Fn=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==Wt||Mt!==Ie)&&FB(g,ee,M,Ie),cu=!1,Mt=g.memoizedState,ee.state=Mt,jA(g,M,ee,P);var It=g.memoizedState;fe!==Wt||Mt!==It||Vt.current||cu?(typeof Fn=="function"&&(i_(g,S,Fn,M),It=g.memoizedState),(je=cu||LB(g,S,je,M,Mt,It,Ie)||!1)?(ut||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(M,It,Ie),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(M,It,Ie)),typeof ee.componentDidUpdate=="function"&&(g.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ee.componentDidUpdate!="function"||fe===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=1024),g.memoizedProps=M,g.memoizedState=It),ee.props=M,ee.state=It,ee.context=Ie,M=je):(typeof ee.componentDidUpdate!="function"||fe===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=1024),M=!1)}return S_(p,g,S,M,k,P)}function S_(p,g,S,M,P,k){xR(p,g);var ee=(g.flags&128)!==0;if(!M&&!ee)return P&&gn(g,S,!1),rc(p,g,k);M=g.stateNode,WZ.current=g;var fe=ee&&typeof S.getDerivedStateFromError!="function"?null:M.render();return g.flags|=1,p!==null&&ee?(g.child=Zd(g,p.child,null,k),g.child=Zd(g,null,fe,k)):ts(p,g,fe,k),g.memoizedState=M.state,P&&gn(g,S,!0),g.child}function ER(p){var g=p.stateNode;g.pendingContext?Sn(p,g.pendingContext,g.pendingContext!==g.context):g.context&&Sn(p,g.context,!1),f_(p,g.containerInfo)}function CR(p,g,S,M,P){return qd(),u_(P),g.flags|=256,ts(p,g,S,M),g.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function cv(p){return{baseLanes:p,cachePool:null}}function SR(p,g,S){var M=g.pendingProps,P=or.current,k=!1,ee=(g.flags&128)!==0,fe;if((fe=ee)||(fe=p!==null&&p.memoizedState===null?!1:(P&2)!==0),fe?(k=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(P|=1),Lt(or,P&1),p===null)return c_(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(g.mode&1?th(p)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(P=M.children,p=M.fallback,k?(M=g.mode,k=g.child,P={mode:"hidden",children:P},!(M&1)&&k!==null?(k.childLanes=0,k.pendingProps=P):k=Mv(P,M,0,null),p=uh(p,M,S,null),k.return=g,p.return=g,k.sibling=p,g.child=k,g.child.memoizedState=cv(S),g.memoizedState=lv,p):w_(g,P));if(P=p.memoizedState,P!==null){if(fe=P.dehydrated,fe!==null){if(ee)return g.flags&256?(g.flags&=-257,uv(p,g,S,Error(o(422)))):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(k=M.fallback,P=g.mode,M=Mv({mode:"visible",children:M.children},P,0,null),k=uh(k,P,S,null),k.flags|=2,M.return=g,k.return=g,M.sibling=k,g.child=M,g.mode&1&&Zd(g,p.child,null,S),g.child.memoizedState=cv(S),g.memoizedState=lv,k);if(!(g.mode&1))g=uv(p,g,S,null);else if(th(fe))g=uv(p,g,S,Error(o(419)));else if(M=(S&p.childLanes)!==0,Vs||M){if(M=Qr,M!==null){switch(S&-S){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}M=k&(M.suspendedLanes|S)?0:k,M!==0&&M!==P.retryLane&&(P.retryLane=M,bo(p,M,-1))}$_(),g=uv(p,g,S,Error(o(421)))}else Yl(fe)?(g.flags|=128,g.child=p.child,g=see.bind(null,p),q(fe,g),g=null):(S=P.treeContext,te&&(Hs=Le(fe),Qs=g,er=!0,pa=null,eg=!1,S!==null&&(Eo[Co++]=ec,Eo[Co++]=tc,Eo[Co++]=nh,ec=S.id,tc=S.overflow,nh=g)),g=w_(g,g.pendingProps.children),g.flags|=4096);return g}return k?(M=bR(p,g,M.children,M.fallback,S),k=g.child,P=p.child.memoizedState,k.memoizedState=P===null?cv(S):{baseLanes:P.baseLanes|S,cachePool:null},k.childLanes=p.childLanes&~S,g.memoizedState=lv,M):(S=wR(p,g,M.children,S),g.memoizedState=null,S)}return k?(M=bR(p,g,M.children,M.fallback,S),k=g.child,P=p.child.memoizedState,k.memoizedState=P===null?cv(S):{baseLanes:P.baseLanes|S,cachePool:null},k.childLanes=p.childLanes&~S,g.memoizedState=lv,M):(S=wR(p,g,M.children,S),g.memoizedState=null,S)}function w_(p,g){return g=Mv({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function wR(p,g,S,M){var P=p.child;return p=P.sibling,S=mu(P,{mode:"visible",children:S}),!(g.mode&1)&&(S.lanes=M),S.return=g,S.sibling=null,p!==null&&(M=g.deletions,M===null?(g.deletions=[p],g.flags|=16):M.push(p)),g.child=S}function bR(p,g,S,M,P){var k=g.mode;p=p.child;var ee=p.sibling,fe={mode:"hidden",children:S};return!(k&1)&&g.child!==p?(S=g.child,S.childLanes=0,S.pendingProps=fe,g.deletions=null):(S=mu(p,fe),S.subtreeFlags=p.subtreeFlags&14680064),ee!==null?M=mu(ee,M):(M=uh(M,k,P,null),M.flags|=2),M.return=g,S.return=g,S.sibling=M,g.child=S,M}function uv(p,g,S,M){return M!==null&&u_(M),Zd(g,p.child,null,S),p=w_(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function IR(p,g,S){p.lanes|=g;var M=p.alternate;M!==null&&(M.lanes|=g),n_(p.return,g,S)}function b_(p,g,S,M,P){var k=p.memoizedState;k===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:M,tail:S,tailMode:P}:(k.isBackwards=g,k.rendering=null,k.renderingStartTime=0,k.last=M,k.tail=S,k.tailMode=P)}function TR(p,g,S){var M=g.pendingProps,P=M.revealOrder,k=M.tail;if(ts(p,g,M.children,S),M=or.current,M&2)M=M&1|2,g.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&IR(p,S,g);else if(p.tag===19)IR(p,S,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}M&=1}if(Lt(or,M),!(g.mode&1))g.memoizedState=null;else switch(P){case"forwards":for(S=g.child,P=null;S!==null;)p=S.alternate,p!==null&&qA(p)===null&&(P=S),S=S.sibling;S=P,S===null?(P=g.child,g.child=null):(P=S.sibling,S.sibling=null),b_(g,!1,P,S,k);break;case"backwards":for(S=null,P=g.child,g.child=null;P!==null;){if(p=P.alternate,p!==null&&qA(p)===null){g.child=P;break}p=P.sibling,P.sibling=S,S=P,P=p}b_(g,!0,S,null,k);break;case"together":b_(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function rc(p,g,S){if(p!==null&&(g.dependencies=p.dependencies),ip|=g.lanes,!(S&g.childLanes))return null;if(p!==null&&g.child!==p.child)throw Error(o(153));if(g.child!==null){for(p=g.child,S=mu(p,p.pendingProps),g.child=S,S.return=g;p.sibling!==null;)p=p.sibling,S=S.sibling=mu(p,p.pendingProps),S.return=g;S.sibling=null}return g.child}function jZ(p,g,S){switch(g.tag){case 3:ER(g),qd();break;case 5:VB(g);break;case 1:zr(g.type)&&Mn(g);break;case 4:f_(g,g.stateNode.containerInfo);break;case 10:MB(g,g.type._context,g.memoizedProps.value);break;case 13:var M=g.memoizedState;if(M!==null)return M.dehydrated!==null?(Lt(or,or.current&1),g.flags|=128,null):S&g.child.childLanes?SR(p,g,S):(Lt(or,or.current&1),p=rc(p,g,S),p!==null?p.sibling:null);Lt(or,or.current&1);break;case 19:if(M=(S&g.childLanes)!==0,p.flags&128){if(M)return TR(p,g,S);g.flags|=128}var P=g.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Lt(or,or.current),M)break;return null;case 22:case 23:return g.lanes=0,yR(p,g,S)}return rc(p,g,S)}function KZ(p,g){switch(a_(g),g.tag){case 1:return zr(g.type)&&Ci(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return tp(),yt(Vt),yt(Jt),p_(),p=g.flags,p&65536&&!(p&128)?(g.flags=p&-65537|128,g):null;case 5:return h_(g),null;case 13:if(yt(or),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(o(340));qd()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return yt(or),null;case 4:return tp(),null;case 10:return t_(g.type._context),null;case 22:case 23:return V_(),null;case 24:return null;default:return null}}var fv=!1,sh=!1,JZ=typeof WeakSet=="function"?WeakSet:Set,rt=null;function hv(p,g){var S=p.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(M){_s(p,g,M)}else S.current=null}function I_(p,g,S){try{S()}catch(M){_s(p,g,M)}}var MR=!1;function YZ(p,g){for(V(p.containerInfo),rt=g;rt!==null;)if(p=rt,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,rt=g;else for(;rt!==null;){p=rt;try{var S=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var M=S.memoizedProps,P=S.memoizedState,k=p.stateNode,ee=k.getSnapshotBeforeUpdate(p.elementType===p.type?M:da(p.type,M),P);k.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:Y&&et(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(fe){_s(p,p.return,fe)}if(g=p.sibling,g!==null){g.return=p.return,rt=g;break}rt=p.return}return S=MR,MR=!1,S}function oh(p,g,S){var M=g.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&p)===p){var k=P.destroy;P.destroy=void 0,k!==void 0&&I_(g,S,k)}P=P.next}while(P!==M)}}function hg(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&p)===p){var M=S.create;S.destroy=M()}S=S.next}while(S!==g)}}function T_(p){var g=p.ref;if(g!==null){var S=p.stateNode;switch(p.tag){case 5:p=j(S);break;default:p=S}typeof g=="function"?g(p):g.current=p}}function BR(p,g,S){if(el&&typeof el.onCommitFiberUnmount=="function")try{el.onCommitFiberUnmount(zA,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(p=g.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var M=p=p.next;do{var P=M,k=P.destroy;P=P.tag,k!==void 0&&(P&2||P&4)&&I_(g,S,k),M=M.next}while(M!==p)}break;case 1:if(hv(g,S),p=g.stateNode,typeof p.componentWillUnmount=="function")try{p.props=g.memoizedProps,p.state=g.memoizedState,p.componentWillUnmount()}catch(ee){_s(g,S,ee)}break;case 5:hv(g,S);break;case 4:Y?FR(p,g,S):ie&&ie&&(g=g.stateNode.containerInfo,S=an(g),xo(g,S))}}function RR(p,g,S){for(var M=g;;)if(BR(p,M,S),M.child===null||Y&&M.tag===4){if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function PR(p){var g=p.alternate;g!==null&&(p.alternate=null,PR(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&Ye(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function DR(p){return p.tag===5||p.tag===3||p.tag===4}function LR(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||DR(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function kR(p){if(Y){e:{for(var g=p.return;g!==null;){if(DR(g))break e;g=g.return}throw Error(o(160))}var S=g;switch(S.tag){case 5:g=S.stateNode,S.flags&32&&(Gt(g),S.flags&=-33),S=LR(p),B_(p,S,g);break;case 3:case 4:g=S.stateNode.containerInfo,S=LR(p),M_(p,S,g);break;default:throw Error(o(161))}}}function M_(p,g,S){var M=p.tag;if(M===5||M===6)p=p.stateNode,g?st(S,p,g):$e(S,p);else if(M!==4&&(p=p.child,p!==null))for(M_(p,g,S),p=p.sibling;p!==null;)M_(p,g,S),p=p.sibling}function B_(p,g,S){var M=p.tag;if(M===5||M===6)p=p.stateNode,g?it(S,p,g):_t(S,p);else if(M!==4&&(p=p.child,p!==null))for(B_(p,g,S),p=p.sibling;p!==null;)B_(p,g,S),p=p.sibling}function FR(p,g,S){for(var M=g,P=!1,k,ee;;){if(!P){P=M.return;e:for(;;){if(P===null)throw Error(o(160));switch(k=P.stateNode,P.tag){case 5:ee=!1;break e;case 3:k=k.containerInfo,ee=!0;break e;case 4:k=k.containerInfo,ee=!0;break e}P=P.return}P=!0}if(M.tag===5||M.tag===6)RR(p,M,S),ee?Nt(k,M.stateNode):mt(k,M.stateNode);else if(M.tag===18)ee?Re(k,M.stateNode):Be(k,M.stateNode);else if(M.tag===4){if(M.child!==null){k=M.stateNode.containerInfo,ee=!0,M.child.return=M,M=M.child;continue}}else if(BR(p,M,S),M.child!==null){M.child.return=M,M=M.child;continue}if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return,M.tag===4&&(P=!1)}M.sibling.return=M.return,M=M.sibling}}function R_(p,g){if(Y){switch(g.tag){case 0:case 11:case 14:case 15:oh(3,g,g.return),hg(3,g),oh(5,g,g.return);return;case 1:return;case 5:var S=g.stateNode;if(S!=null){var M=g.memoizedProps;p=p!==null?p.memoizedProps:M;var P=g.type,k=g.updateQueue;g.updateQueue=null,k!==null&&vt(S,k,P,p,M,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));S=g.memoizedProps,Te(g.stateNode,p!==null?p.memoizedProps:S,S);return;case 3:te&&p!==null&&p.memoizedState.isDehydrated&&Ae(g.stateNode.containerInfo);return;case 12:return;case 13:dv(g);return;case 19:dv(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:oh(3,g,g.return),hg(3,g),oh(5,g,g.return);return;case 12:return;case 13:dv(g);return;case 19:dv(g);return;case 3:te&&p!==null&&p.memoizedState.isDehydrated&&Ae(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(ie){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,xo(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function dv(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var S=p.stateNode;S===null&&(S=p.stateNode=new JZ),g.forEach(function(M){var P=oee.bind(null,p,M);S.has(M)||(S.add(M),M.then(P,P))})}}function XZ(p,g){for(rt=g;rt!==null;){g=rt;var S=g.deletions;if(S!==null)for(var M=0;M<S.length;M++){var P=S[M];try{var k=p;Y?FR(k,P,g):RR(k,P,g);var ee=P.alternate;ee!==null&&(ee.return=null),P.return=null}catch(wt){_s(P,g,wt)}}if(S=g.child,g.subtreeFlags&12854&&S!==null)S.return=g,rt=S;else for(;rt!==null;){g=rt;try{var fe=g.flags;if(fe&32&&Y&&Gt(g.stateNode),fe&512){var Ie=g.alternate;if(Ie!==null){var je=Ie.ref;je!==null&&(typeof je=="function"?je(null):je.current=null)}}if(fe&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var ut=g.alternate;(ut===null||ut.memoizedState===null)&&(N_=ui())}break;case 22:var Wt=g.memoizedState!==null,Mt=g.alternate,Fn=Mt!==null&&Mt.memoizedState!==null;if(S=g,Y){e:if(M=S,P=Wt,k=null,Y)for(var It=M;;){if(It.tag===5){if(k===null){k=It;var Ni=It.stateNode;P?zt(Ni):ae(It.stateNode,It.memoizedProps)}}else if(It.tag===6){if(k===null){var To=It.stateNode;P?le(To):Ne(To,It.memoizedProps)}}else if((It.tag!==22&&It.tag!==23||It.memoizedState===null||It===M)&&It.child!==null){It.child.return=It,It=It.child;continue}if(It===M)break;for(;It.sibling===null;){if(It.return===null||It.return===M)break e;k===It&&(k=null),It=It.return}k===It&&(k=null),It.sibling.return=It.return,It=It.sibling}}if(Wt&&!Fn&&S.mode&1){rt=S;for(var _e=S.child;_e!==null;){for(S=rt=_e;rt!==null;){M=rt;var pe=M.child;switch(M.tag){case 0:case 11:case 14:case 15:oh(4,M,M.return);break;case 1:hv(M,M.return);var Ce=M.stateNode;if(typeof Ce.componentWillUnmount=="function"){var ot=M.return;try{Ce.props=M.memoizedProps,Ce.state=M.memoizedState,Ce.componentWillUnmount()}catch(wt){_s(M,ot,wt)}}break;case 5:hv(M,M.return);break;case 22:if(M.memoizedState!==null){UR(S);continue}}pe!==null?(pe.return=M,rt=pe):UR(S)}_e=_e.sibling}}}switch(fe&4102){case 2:kR(g),g.flags&=-3;break;case 6:kR(g),g.flags&=-3,R_(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,R_(g.alternate,g);break;case 4:R_(g.alternate,g)}}catch(wt){_s(g,g.return,wt)}if(S=g.sibling,S!==null){S.return=g.return,rt=S;break}rt=g.return}}}function qZ(p,g,S){rt=p,OR(p)}function OR(p,g,S){for(var M=(p.mode&1)!==0;rt!==null;){var P=rt,k=P.child;if(P.tag===22&&M){var ee=P.memoizedState!==null||fv;if(!ee){var fe=P.alternate,Ie=fe!==null&&fe.memoizedState!==null||sh;fe=fv;var je=sh;if(fv=ee,(sh=Ie)&&!je)for(rt=P;rt!==null;)ee=rt,Ie=ee.child,ee.tag===22&&ee.memoizedState!==null?GR(P):Ie!==null?(Ie.return=ee,rt=Ie):GR(P);for(;k!==null;)rt=k,OR(k),k=k.sibling;rt=P,fv=fe,sh=je}NR(p)}else P.subtreeFlags&8772&&k!==null?(k.return=P,rt=k):NR(p)}}function NR(p){for(;rt!==null;){var g=rt;if(g.flags&8772){var S=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:sh||hg(5,g);break;case 1:var M=g.stateNode;if(g.flags&4&&!sh)if(S===null)M.componentDidMount();else{var P=g.elementType===g.type?S.memoizedProps:da(g.type,S.memoizedProps);M.componentDidUpdate(P,S.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var k=g.updateQueue;k!==null&&PB(g,k,M);break;case 3:var ee=g.updateQueue;if(ee!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=j(g.child.stateNode);break;case 1:S=g.child.stateNode}PB(g,ee,S)}break;case 5:var fe=g.stateNode;S===null&&g.flags&4&&lt(fe,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(te&&g.memoizedState===null){var Ie=g.alternate;if(Ie!==null){var je=Ie.memoizedState;if(je!==null){var ut=je.dehydrated;ut!==null&&me(ut)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}sh||g.flags&512&&T_(g)}catch(Wt){_s(g,g.return,Wt)}}if(g===p){rt=null;break}if(S=g.sibling,S!==null){S.return=g.return,rt=S;break}rt=g.return}}function UR(p){for(;rt!==null;){var g=rt;if(g===p){rt=null;break}var S=g.sibling;if(S!==null){S.return=g.return,rt=S;break}rt=g.return}}function GR(p){for(;rt!==null;){var g=rt;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{hg(4,g)}catch(Ie){_s(g,S,Ie)}break;case 1:var M=g.stateNode;if(typeof M.componentDidMount=="function"){var P=g.return;try{M.componentDidMount()}catch(Ie){_s(g,P,Ie)}}var k=g.return;try{T_(g)}catch(Ie){_s(g,k,Ie)}break;case 5:var ee=g.return;try{T_(g)}catch(Ie){_s(g,ee,Ie)}}}catch(Ie){_s(g,g.return,Ie)}if(g===p){rt=null;break}var fe=g.sibling;if(fe!==null){fe.return=g.return,rt=fe;break}rt=g.return}}var pv=0,mv=1,gv=2,Av=3,vv=4;if(typeof Symbol=="function"&&Symbol.for){var dg=Symbol.for;pv=dg("selector.component"),mv=dg("selector.has_pseudo_class"),gv=dg("selector.role"),Av=dg("selector.test_id"),vv=dg("selector.text")}function P_(p){var g=de(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(p=Ct(p),p===null)throw Error(o(362));return p.stateNode.current}function D_(p,g){switch(g.$$typeof){case pv:if(p.type===g.value)return!0;break;case mv:e:{g=g.value,p=[p,0];for(var S=0;S<p.length;){var M=p[S++],P=p[S++],k=g[P];if(M.tag!==5||!ce(M)){for(;k!=null&&D_(M,k);)P++,k=g[P];if(P===g.length){g=!0;break e}else for(M=M.child;M!==null;)p.push(M,P),M=M.sibling}}g=!1}return g;case gv:if(p.tag===5&&De(p.stateNode,g.value))return!0;break;case vv:if((p.tag===5||p.tag===6)&&(p=H(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case Av:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function L_(p){switch(p.$$typeof){case pv:return"<"+(T(p.value)||"Unknown")+">";case mv:return":has("+(L_(p)||"")+")";case gv:return'[role="'+p.value+'"]';case vv:return'"'+p.value+'"';case Av:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function zR(p,g){var S=[];p=[p,0];for(var M=0;M<p.length;){var P=p[M++],k=p[M++],ee=g[k];if(P.tag!==5||!ce(P)){for(;ee!=null&&D_(P,ee);)k++,ee=g[k];if(k===g.length)S.push(P);else for(P=P.child;P!==null;)p.push(P,k),P=P.sibling}}return S}function k_(p,g){if(!pt)throw Error(o(363));p=P_(p),p=zR(p,g),g=[],p=Array.from(p);for(var S=0;S<p.length;){var M=p[S++];if(M.tag===5)ce(M)||g.push(M.stateNode);else for(M=M.child;M!==null;)p.push(M),M=M.sibling}return g}var ZZ=Math.ceil,yv=a.ReactCurrentDispatcher,F_=a.ReactCurrentOwner,Lr=a.ReactCurrentBatchConfig,nn=0,Qr=null,Hr=null,Si=0,$s=0,rp=en(0),Zr=0,pg=null,ip=0,xv=0,O_=0,mg=null,ys=null,N_=0,U_=1/0;function sp(){U_=ui()+500}var _v=!1,G_=null,fu=null,Ev=!1,hu=null,Cv=0,gg=0,z_=null,Sv=-1,wv=0;function ns(){return nn&6?ui():Sv!==-1?Sv:Sv=ui()}function du(p){return p.mode&1?nn&2&&Si!==0?Si&-Si:kZ.transition!==null?(wv===0&&(p=NA,NA<<=1,!(NA&4194240)&&(NA=64),wv=p),wv):(p=An,p!==0?p:ke()):1}function bo(p,g,S){if(50<gg)throw gg=0,z_=null,Error(o(185));var M=bv(p,g);return M===null?null:(Zm(M,g,S),(!(nn&2)||M!==Qr)&&(M===Qr&&(!(nn&2)&&(xv|=g),Zr===4&&pu(M,Si)),xs(M,S),g===1&&nn===0&&!(p.mode&1)&&(sp(),QA&&nl())),M)}function bv(p,g){p.lanes|=g;var S=p.alternate;for(S!==null&&(S.lanes|=g),S=p,p=p.return;p!==null;)p.childLanes|=g,S=p.alternate,S!==null&&(S.childLanes|=g),S=p,p=p.return;return S.tag===3?S.stateNode:null}function xs(p,g){var S=p.callbackNode;bZ(p,g);var M=GA(p,p===Qr?Si:0);if(M===0)S!==null&&IB(S),p.callbackNode=null,p.callbackPriority=0;else if(g=M&-M,p.callbackPriority!==g){if(S!=null&&IB(S),g===1)p.tag===0?LZ(HR.bind(null,p)):TB(HR.bind(null,p)),nt?Je(function(){nn===0&&nl()}):Jx(Yx,nl),S=null;else{switch(bB(M)){case 1:S=Yx;break;case 4:S=BZ;break;case 16:S=Xx;break;case 536870912:S=RZ;break;default:S=Xx}S=qR(S,QR.bind(null,p))}p.callbackPriority=g,p.callbackNode=S}}function QR(p,g){if(Sv=-1,wv=0,nn&6)throw Error(o(327));var S=p.callbackNode;if(ch()&&p.callbackNode!==S)return null;var M=GA(p,p===Qr?Si:0);if(M===0)return null;if(M&30||M&p.expiredLanes||g)g=Iv(p,M);else{g=M;var P=nn;nn|=2;var k=WR();(Qr!==p||Si!==g)&&(sp(),ah(p,g));do try{nee();break}catch(fe){$R(p,fe)}while(1);e_(),yv.current=k,nn=P,Hr!==null?g=0:(Qr=null,Si=0,g=Zr)}if(g!==0){if(g===2&&(P=Wx(p),P!==0&&(M=P,g=Q_(p,P))),g===1)throw S=pg,ah(p,0),pu(p,M),xs(p,ui()),S;if(g===6)pu(p,M);else{if(P=p.current.alternate,!(M&30)&&!eee(P)&&(g=Iv(p,M),g===2&&(k=Wx(p),k!==0&&(M=k,g=Q_(p,k))),g===1))throw S=pg,ah(p,0),pu(p,M),xs(p,ui()),S;switch(p.finishedWork=P,p.finishedLanes=M,g){case 0:case 1:throw Error(o(345));case 2:lh(p,ys);break;case 3:if(pu(p,M),(M&130023424)===M&&(g=N_+500-ui(),10<g)){if(GA(p,0)!==0)break;if(P=p.suspendedLanes,(P&M)!==M){ns(),p.pingedLanes|=p.suspendedLanes&P;break}p.timeoutHandle=Fe(lh.bind(null,p,ys),g);break}lh(p,ys);break;case 4:if(pu(p,M),(M&4194240)===M)break;for(g=p.eventTimes,P=-1;0<M;){var ee=31-Zn(M);k=1<<ee,ee=g[ee],ee>P&&(P=ee),M&=~k}if(M=P,M=ui()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*ZZ(M/1960))-M,10<M){p.timeoutHandle=Fe(lh.bind(null,p,ys),M);break}lh(p,ys);break;case 5:lh(p,ys);break;default:throw Error(o(329))}}}return xs(p,ui()),p.callbackNode===S?QR.bind(null,p):null}function Q_(p,g){var S=mg;return p.current.memoizedState.isDehydrated&&(ah(p,g).flags|=256),p=Iv(p,g),p!==2&&(g=ys,ys=S,g!==null&&H_(g)),p}function H_(p){ys===null?ys=p:ys.push.apply(ys,p)}function eee(p){for(var g=p;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var M=0;M<S.length;M++){var P=S[M],k=P.getSnapshot;P=P.value;try{if(!tl(k(),P))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function pu(p,g){for(g&=~O_,g&=~xv,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var S=31-Zn(g),M=1<<S;p[S]=-1,g&=~M}}function HR(p){if(nn&6)throw Error(o(327));ch();var g=GA(p,0);if(!(g&1))return xs(p,ui()),null;var S=Iv(p,g);if(p.tag!==0&&S===2){var M=Wx(p);M!==0&&(g=M,S=Q_(p,M))}if(S===1)throw S=pg,ah(p,0),pu(p,g),xs(p,ui()),S;if(S===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,lh(p,ys),xs(p,ui()),null}function VR(p){hu!==null&&hu.tag===0&&!(nn&6)&&ch();var g=nn;nn|=1;var S=Lr.transition,M=An;try{if(Lr.transition=null,An=1,p)return p()}finally{An=M,Lr.transition=S,nn=g,!(nn&6)&&nl()}}function V_(){$s=rp.current,yt(rp)}function ah(p,g){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;if(S!==U&&(p.timeoutHandle=U,he(S)),Hr!==null)for(S=Hr.return;S!==null;){var M=S;switch(a_(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Ci();break;case 3:tp(),yt(Vt),yt(Jt),p_();break;case 5:h_(M);break;case 4:tp();break;case 13:yt(or);break;case 19:yt(or);break;case 10:t_(M.type._context);break;case 22:case 23:V_()}S=S.return}if(Qr=p,Hr=p=mu(p.current,null),Si=$s=g,Zr=0,pg=null,O_=xv=ip=0,ys=mg=null,rl!==null){for(g=0;g<rl.length;g++)if(S=rl[g],M=S.interleaved,M!==null){S.interleaved=null;var P=M.next,k=S.pending;if(k!==null){var ee=k.next;k.next=P,M.next=ee}S.pending=M}rl=null}return p}function $R(p,g){do{var S=Hr;try{if(e_(),ZA.current=sv,ev){for(var M=Er.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}ev=!1}if(np=0,fi=ki=Er=null,sg=!1,og=0,F_.current=null,S===null||S.return===null){Zr=1,pg=g,Hr=null;break}e:{var k=p,ee=S.return,fe=S,Ie=g;if(g=Si,fe.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var je=Ie,ut=fe,Wt=ut.tag;if(!(ut.mode&1)&&(Wt===0||Wt===11||Wt===15)){var Mt=ut.alternate;Mt?(ut.updateQueue=Mt.updateQueue,ut.memoizedState=Mt.memoizedState,ut.lanes=Mt.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var Fn=hR(ee);if(Fn!==null){Fn.flags&=-257,dR(Fn,ee,fe,k,g),Fn.mode&1&&fR(k,je,g),g=Fn,Ie=je;var It=g.updateQueue;if(It===null){var Ni=new Set;Ni.add(Ie),g.updateQueue=Ni}else It.add(Ie);break e}else{if(!(g&1)){fR(k,je,g),$_();break e}Ie=Error(o(426))}}else if(er&&fe.mode&1){var To=hR(ee);if(To!==null){!(To.flags&65536)&&(To.flags|=256),dR(To,ee,fe,k,g),u_(Ie);break e}}k=Ie,Zr!==4&&(Zr=2),mg===null?mg=[k]:mg.push(k),Ie=__(Ie,fe),fe=ee;do{switch(fe.tag){case 3:fe.flags|=65536,g&=-g,fe.lanes|=g;var _e=cR(fe,Ie,g);RB(fe,_e);break e;case 1:k=Ie;var pe=fe.type,Ce=fe.stateNode;if(!(fe.flags&128)&&(typeof pe.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(fu===null||!fu.has(Ce)))){fe.flags|=65536,g&=-g,fe.lanes|=g;var ot=uR(fe,k,g);RB(fe,ot);break e}}fe=fe.return}while(fe!==null)}KR(S)}catch(wt){g=wt,Hr===S&&S!==null&&(Hr=S=S.return);continue}break}while(1)}function WR(){var p=yv.current;return yv.current=sv,p===null?sv:p}function $_(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),Qr===null||!(ip&268435455)&&!(xv&268435455)||pu(Qr,Si)}function Iv(p,g){var S=nn;nn|=2;var M=WR();Qr===p&&Si===g||ah(p,g);do try{tee();break}catch(P){$R(p,P)}while(1);if(e_(),nn=S,yv.current=M,Hr!==null)throw Error(o(261));return Qr=null,Si=0,Zr}function tee(){for(;Hr!==null;)jR(Hr)}function nee(){for(;Hr!==null&&!TZ();)jR(Hr)}function jR(p){var g=XR(p.alternate,p,$s);p.memoizedProps=p.pendingProps,g===null?KR(p):Hr=g,F_.current=null}function KR(p){var g=p;do{var S=g.alternate;if(p=g.return,g.flags&32768){if(S=KZ(S,g),S!==null){S.flags&=32767,Hr=S;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Zr=6,Hr=null;return}}else if(S=$Z(S,g,$s),S!==null){Hr=S;return}if(g=g.sibling,g!==null){Hr=g;return}Hr=g=p}while(g!==null);Zr===0&&(Zr=5)}function lh(p,g){var S=An,M=Lr.transition;try{Lr.transition=null,An=1,ree(p,g,S)}finally{Lr.transition=M,An=S}return null}function ree(p,g,S){do ch();while(hu!==null);if(nn&6)throw Error(o(327));var M=p.finishedWork,P=p.finishedLanes;if(M===null)return null;if(p.finishedWork=null,p.finishedLanes=0,M===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var k=M.lanes|M.childLanes;if(IZ(p,k),p===Qr&&(Hr=Qr=null,Si=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Ev||(Ev=!0,qR(Xx,function(){return ch(),null})),k=(M.flags&15990)!==0,M.subtreeFlags&15990||k){k=Lr.transition,Lr.transition=null;var ee=An;An=1;var fe=nn;nn|=4,F_.current=null,YZ(p,M),XZ(p,M),Q(p.containerInfo),p.current=M,qZ(M),MZ(),nn=fe,An=ee,Lr.transition=k}else p.current=M;if(Ev&&(Ev=!1,hu=p,Cv=P),k=p.pendingLanes,k===0&&(fu=null),PZ(M.stateNode),xs(p,ui()),g!==null)for(S=p.onRecoverableError,M=0;M<g.length;M++)S(g[M]);if(_v)throw _v=!1,p=G_,G_=null,p;return Cv&1&&p.tag!==0&&ch(),k=p.pendingLanes,k&1?p===z_?gg++:(gg=0,z_=p):gg=0,nl(),null}function ch(){if(hu!==null){var p=bB(Cv),g=Lr.transition,S=An;try{if(Lr.transition=null,An=16>p?16:p,hu===null)var M=!1;else{if(p=hu,hu=null,Cv=0,nn&6)throw Error(o(331));var P=nn;for(nn|=4,rt=p.current;rt!==null;){var k=rt,ee=k.child;if(rt.flags&16){var fe=k.deletions;if(fe!==null){for(var Ie=0;Ie<fe.length;Ie++){var je=fe[Ie];for(rt=je;rt!==null;){var ut=rt;switch(ut.tag){case 0:case 11:case 15:oh(8,ut,k)}var Wt=ut.child;if(Wt!==null)Wt.return=ut,rt=Wt;else for(;rt!==null;){ut=rt;var Mt=ut.sibling,Fn=ut.return;if(PR(ut),ut===je){rt=null;break}if(Mt!==null){Mt.return=Fn,rt=Mt;break}rt=Fn}}}var It=k.alternate;if(It!==null){var Ni=It.child;if(Ni!==null){It.child=null;do{var To=Ni.sibling;Ni.sibling=null,Ni=To}while(Ni!==null)}}rt=k}}if(k.subtreeFlags&2064&&ee!==null)ee.return=k,rt=ee;else e:for(;rt!==null;){if(k=rt,k.flags&2048)switch(k.tag){case 0:case 11:case 15:oh(9,k,k.return)}var _e=k.sibling;if(_e!==null){_e.return=k.return,rt=_e;break e}rt=k.return}}var pe=p.current;for(rt=pe;rt!==null;){ee=rt;var Ce=ee.child;if(ee.subtreeFlags&2064&&Ce!==null)Ce.return=ee,rt=Ce;else e:for(ee=pe;rt!==null;){if(fe=rt,fe.flags&2048)try{switch(fe.tag){case 0:case 11:case 15:hg(9,fe)}}catch(wt){_s(fe,fe.return,wt)}if(fe===ee){rt=null;break e}var ot=fe.sibling;if(ot!==null){ot.return=fe.return,rt=ot;break e}rt=fe.return}}if(nn=P,nl(),el&&typeof el.onPostCommitFiberRoot=="function")try{el.onPostCommitFiberRoot(zA,p)}catch{}M=!0}return M}finally{An=S,Lr.transition=g}}return!1}function JR(p,g,S){g=__(S,g),g=cR(p,g,1),uu(p,g),g=ns(),p=bv(p,1),p!==null&&(Zm(p,1,g),xs(p,g))}function _s(p,g,S){if(p.tag===3)JR(p,p,S);else for(;g!==null;){if(g.tag===3){JR(g,p,S);break}else if(g.tag===1){var M=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(fu===null||!fu.has(M))){p=__(S,p),p=uR(g,p,1),uu(g,p),p=ns(),g=bv(g,1),g!==null&&(Zm(g,1,p),xs(g,p));break}}g=g.return}}function iee(p,g,S){var M=p.pingCache;M!==null&&M.delete(g),g=ns(),p.pingedLanes|=p.suspendedLanes&S,Qr===p&&(Si&S)===S&&(Zr===4||Zr===3&&(Si&130023424)===Si&&500>ui()-N_?ah(p,0):O_|=S),xs(p,g)}function YR(p,g){g===0&&(p.mode&1?(g=UA,UA<<=1,!(UA&130023424)&&(UA=4194304)):g=1);var S=ns();p=bv(p,g),p!==null&&(Zm(p,g,S),xs(p,S))}function see(p){var g=p.memoizedState,S=0;g!==null&&(S=g.retryLane),YR(p,S)}function oee(p,g){var S=0;switch(p.tag){case 13:var M=p.stateNode,P=p.memoizedState;P!==null&&(S=P.retryLane);break;case 19:M=p.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(g),YR(p,S)}var XR;XR=function(p,g,S){if(p!==null)if(p.memoizedProps!==g.pendingProps||Vt.current)Vs=!0;else{if(!(p.lanes&S)&&!(g.flags&128))return Vs=!1,jZ(p,g,S);Vs=!!(p.flags&131072)}else Vs=!1,er&&g.flags&1048576&&OB(g,YA,g.index);switch(g.lanes=0,g.tag){case 2:var M=g.type;p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps;var P=Xr(g,Jt.current);Jd(g,S),P=g_(null,g,M,p,P,S);var k=A_();return g.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,zr(M)?(k=!0,Mn(g)):k=!1,g.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,r_(g),P.updater=KA,g.stateNode=P,P._reactInternals=g,s_(g,M,p,S),g=S_(null,g,M,!0,k,S)):(g.tag=0,er&&k&&o_(g),ts(null,g,P,S),g=g.child),g;case 16:M=g.elementType;e:{switch(p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps,P=M._init,M=P(M._payload),g.type=M,P=g.tag=lee(M),p=da(M,p),P){case 0:g=C_(null,g,M,p,S);break e;case 1:g=_R(null,g,M,p,S);break e;case 11:g=gR(null,g,M,p,S);break e;case 14:g=AR(null,g,M,da(M.type,p),S);break e}throw Error(o(306,M,""))}return g;case 0:return M=g.type,P=g.pendingProps,P=g.elementType===M?P:da(M,P),C_(p,g,M,P,S);case 1:return M=g.type,P=g.pendingProps,P=g.elementType===M?P:da(M,P),_R(p,g,M,P,S);case 3:e:{if(ER(g),p===null)throw Error(o(387));M=g.pendingProps,k=g.memoizedState,P=k.element,BB(p,g),jA(g,M,null,S);var ee=g.memoizedState;if(M=ee.element,te&&k.isDehydrated)if(k={element:M,isDehydrated:!1,cache:ee.cache,transitions:ee.transitions},g.updateQueue.baseState=k,g.memoizedState=k,g.flags&256){P=Error(o(423)),g=CR(p,g,M,S,P);break e}else if(M!==P){P=Error(o(424)),g=CR(p,g,M,S,P);break e}else for(te&&(Hs=ve(g.stateNode.containerInfo),Qs=g,er=!0,pa=null,eg=!1),S=HB(g,null,M,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(qd(),M===P){g=rc(p,g,S);break e}ts(p,g,M,S)}g=g.child}return g;case 5:return VB(g),p===null&&c_(g),M=g.type,P=g.pendingProps,k=p!==null?p.memoizedProps:null,ee=P.children,be(M,P)?ee=null:k!==null&&be(M,k)&&(g.flags|=32),xR(p,g),ts(p,g,ee,S),g.child;case 6:return p===null&&c_(g),null;case 13:return SR(p,g,S);case 4:return f_(g,g.stateNode.containerInfo),M=g.pendingProps,p===null?g.child=Zd(g,null,M,S):ts(p,g,M,S),g.child;case 11:return M=g.type,P=g.pendingProps,P=g.elementType===M?P:da(M,P),gR(p,g,M,P,S);case 7:return ts(p,g,g.pendingProps,S),g.child;case 8:return ts(p,g,g.pendingProps.children,S),g.child;case 12:return ts(p,g,g.pendingProps.children,S),g.child;case 10:e:{if(M=g.type._context,P=g.pendingProps,k=g.memoizedProps,ee=P.value,MB(g,M,ee),k!==null)if(tl(k.value,ee)){if(k.children===P.children&&!Vt.current){g=rc(p,g,S);break e}}else for(k=g.child,k!==null&&(k.return=g);k!==null;){var fe=k.dependencies;if(fe!==null){ee=k.child;for(var Ie=fe.firstContext;Ie!==null;){if(Ie.context===M){if(k.tag===1){Ie=Zl(-1,S&-S),Ie.tag=2;var je=k.updateQueue;if(je!==null){je=je.shared;var ut=je.pending;ut===null?Ie.next=Ie:(Ie.next=ut.next,ut.next=Ie),je.pending=Ie}}k.lanes|=S,Ie=k.alternate,Ie!==null&&(Ie.lanes|=S),n_(k.return,S,g),fe.lanes|=S;break}Ie=Ie.next}}else if(k.tag===10)ee=k.type===g.type?null:k.child;else if(k.tag===18){if(ee=k.return,ee===null)throw Error(o(341));ee.lanes|=S,fe=ee.alternate,fe!==null&&(fe.lanes|=S),n_(ee,S,g),ee=k.sibling}else ee=k.child;if(ee!==null)ee.return=k;else for(ee=k;ee!==null;){if(ee===g){ee=null;break}if(k=ee.sibling,k!==null){k.return=ee.return,ee=k;break}ee=ee.return}k=ee}ts(p,g,P.children,S),g=g.child}return g;case 9:return P=g.type,M=g.pendingProps.children,Jd(g,S),P=_o(P),M=M(P),g.flags|=1,ts(p,g,M,S),g.child;case 14:return M=g.type,P=da(M,g.pendingProps),P=da(M.type,P),AR(p,g,M,P,S);case 15:return vR(p,g,g.type,g.pendingProps,S);case 17:return M=g.type,P=g.pendingProps,P=g.elementType===M?P:da(M,P),p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,zr(M)?(p=!0,Mn(g)):p=!1,Jd(g,S),kB(g,M,P),s_(g,M,P,S),S_(null,g,M,!0,p,S);case 19:return TR(p,g,S);case 22:return yR(p,g,S)}throw Error(o(156,g.tag))};function qR(p,g){return Jx(p,g)}function aee(p,g,S,M){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(p,g,S,M){return new aee(p,g,S,M)}function W_(p){return p=p.prototype,!(!p||!p.isReactComponent)}function lee(p){if(typeof p=="function")return W_(p)?1:0;if(p!=null){if(p=p.$$typeof,p===A)return 11;if(p===_)return 14}return 2}function mu(p,g){var S=p.alternate;return S===null?(S=Io(p.tag,g,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=g,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&14680064,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,g=p.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S}function Tv(p,g,S,M,P,k){var ee=2;if(M=p,typeof p=="function")W_(p)&&(ee=1);else if(typeof p=="string")ee=5;else e:switch(p){case u:return uh(S.children,P,k,g);case f:ee=8,P|=8;break;case h:return p=Io(12,S,g,P|2),p.elementType=h,p.lanes=k,p;case v:return p=Io(13,S,g,P),p.elementType=v,p.lanes=k,p;case y:return p=Io(19,S,g,P),p.elementType=y,p.lanes=k,p;case E:return Mv(S,P,k,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case d:ee=10;break e;case m:ee=9;break e;case A:ee=11;break e;case _:ee=14;break e;case x:ee=16,M=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return g=Io(ee,S,g,P),g.elementType=p,g.type=M,g.lanes=k,g}function uh(p,g,S,M){return p=Io(7,p,M,g),p.lanes=S,p}function Mv(p,g,S,M){return p=Io(22,p,M,g),p.elementType=E,p.lanes=S,p.stateNode={},p}function j_(p,g,S){return p=Io(6,p,null,g),p.lanes=S,p}function K_(p,g,S){return g=Io(4,p.children!==null?p.children:[],p.key,g),g.lanes=S,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function cee(p,g,S,M,P){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=U,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jx(0),this.expirationTimes=jx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jx(0),this.identifierPrefix=M,this.onRecoverableError=P,te&&(this.mutableSourceEagerHydrationData=null)}function ZR(p,g,S,M,P,k,ee,fe,Ie){return p=new cee(p,g,S,fe,Ie),g===1?(g=1,k===!0&&(g|=8)):g=0,k=Io(3,null,null,g),p.current=k,k.stateNode=p,k.memoizedState={element:M,isDehydrated:S,cache:null,transitions:null},r_(k),p}function eP(p){if(!p)return tn;p=p._reactInternals;e:{if(I(p)!==p||p.tag!==1)throw Error(o(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(zr(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(p.tag===1){var S=p.type;if(zr(S))return qr(p,S,g)}return g}function tP(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=L(g),p===null?null:p.stateNode}function nP(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<g?S:g}}function J_(p,g){nP(p,g),(p=p.alternate)&&nP(p,g)}function uee(p){return p=L(p),p===null?null:p.stateNode}function fee(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var g=ns();bo(p,134217728,g),J_(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=ns(),S=du(p);bo(p,S,g),J_(p,S)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var S=qm(g.pendingLanes);S!==0&&(Kx(g,S|1),xs(g,ui()),!(nn&6)&&(sp(),nl()))}break;case 13:var M=ns();VR(function(){return bo(p,1,M)}),J_(p,1)}},n.batchedUpdates=function(p,g){var S=nn;nn|=1;try{return p(g)}finally{nn=S,nn===0&&(sp(),QA&&nl())}},n.createComponentSelector=function(p){return{$$typeof:pv,value:p}},n.createContainer=function(p,g,S,M,P,k,ee){return ZR(p,g,!1,null,S,M,P,k,ee)},n.createHasPseudoClassSelector=function(p){return{$$typeof:mv,value:p}},n.createHydrationContainer=function(p,g,S,M,P,k,ee,fe,Ie){return p=ZR(S,M,!0,p,P,k,ee,fe,Ie),p.context=eP(null),S=p.current,M=ns(),P=du(S),k=Zl(M,P),k.callback=g??null,uu(S,k),p.current.lanes=P,Zm(p,P,M),xs(p,M),p},n.createPortal=function(p,g,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:p,containerInfo:g,implementation:S}},n.createRoleSelector=function(p){return{$$typeof:gv,value:p}},n.createTestNameSelector=function(p){return{$$typeof:Av,value:p}},n.createTextSelector=function(p){return{$$typeof:vv,value:p}},n.deferredUpdates=function(p){var g=An,S=Lr.transition;try{return Lr.transition=null,An=16,p()}finally{An=g,Lr.transition=S}},n.discreteUpdates=function(p,g,S,M,P){var k=An,ee=Lr.transition;try{return Lr.transition=null,An=1,p(g,S,M,P)}finally{An=k,Lr.transition=ee,nn===0&&sp()}},n.findAllNodes=k_,n.findBoundingRects=function(p,g){if(!pt)throw Error(o(363));g=k_(p,g),p=[];for(var S=0;S<g.length;S++)p.push(X(g[S]));for(g=p.length-1;0<g;g--){S=p[g];for(var M=S.x,P=M+S.width,k=S.y,ee=k+S.height,fe=g-1;0<=fe;fe--)if(g!==fe){var Ie=p[fe],je=Ie.x,ut=je+Ie.width,Wt=Ie.y,Mt=Wt+Ie.height;if(M>=je&&k>=Wt&&P<=ut&&ee<=Mt){p.splice(g,1);break}else if(M!==je||S.width!==Ie.width||Mt<k||Wt>ee){if(!(k!==Wt||S.height!==Ie.height||ut<M||je>P)){je>M&&(Ie.width+=je-M,Ie.x=M),ut<P&&(Ie.width=P-je),p.splice(g,1);break}}else{Wt>k&&(Ie.height+=Wt-k,Ie.y=k),Mt<ee&&(Ie.height=ee-Wt),p.splice(g,1);break}}}return p},n.findHostInstance=tP,n.findHostInstanceWithNoPortals=function(p){return p=R(p),p=p!==null?O(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return tP(p)},n.flushControlled=function(p){var g=nn;nn|=1;var S=Lr.transition,M=An;try{Lr.transition=null,An=1,p()}finally{An=M,Lr.transition=S,nn=g,nn===0&&(sp(),nl())}},n.flushPassiveEffects=ch,n.flushSync=VR,n.focusWithin=function(p,g){if(!pt)throw Error(o(363));for(p=P_(p),g=zR(p,g),g=Array.from(g),p=0;p<g.length;){var S=g[p++];if(!ce(S)){if(S.tag===5&&Oe(S.stateNode))return!0;for(S=S.child;S!==null;)g.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return An},n.getFindAllNodesFailureDescription=function(p,g){if(!pt)throw Error(o(363));var S=0,M=[];p=[P_(p),0];for(var P=0;P<p.length;){var k=p[P++],ee=p[P++],fe=g[ee];if((k.tag!==5||!ce(k))&&(D_(k,fe)&&(M.push(L_(fe)),ee++,ee>S&&(S=ee)),ee<g.length))for(k=k.child;k!==null;)p.push(k,ee),k=k.sibling}if(S<g.length){for(p=[];S<g.length;S++)p.push(L_(g[S]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return j(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:uee,findFiberByHostInstance:p.findFiberByHostInstance||fee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{zA=g.inject(p),el=g}catch{}p=!!g.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,g,S,M){if(!pt)throw Error(o(363));p=k_(p,g);var P=Ge(p,S,M).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(p,g){var S=g._getVersion;S=S(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,S]:p.mutableSourceEagerHydrationData.push(g,S)},n.runWithPriority=function(p,g){var S=An;try{return An=p,g()}finally{An=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,g,S,M){var P=g.current,k=ns(),ee=du(P);return S=eP(S),g.context===null?g.context=S:g.pendingContext=S,g=Zl(k,ee),g.payload={element:p},M=M===void 0?null:M,M!==null&&(g.callback=M),uu(P,g),p=bo(P,ee,k),p!==null&&WA(p,P,ee),ee},n};$V.exports=Que;var Hue=$V.exports;const Vue=ca(Hue),$ue=t=>typeof t=="object"&&typeof t.then=="function",$h=[];function KV(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function JV(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of $h)if(KV(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=$h.indexOf(i);s!==-1&&$h.splice(s,1)},promise:($ue(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if($h.push(i),!n)throw i.promise}const Wue=(t,e,n)=>JV(t,e,!1,n),jue=(t,e,n)=>void JV(t,e,!0,n),Kue=t=>{if(t===void 0||t.length===0)$h.splice(0,$h.length);else{const e=$h.find(n=>KV(t,n.keys,n.equal));e&&e.remove()}},JI={},R8=t=>void Object.assign(JI,t);function Jue(t,e){function n(u,{args:f=[],attach:h,...d},m){let A=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=d.object;v=Gp(y,{type:u,root:m,attach:h,primitive:!0})}else{const y=JI[A];if(!y)throw new Error(`R3F: ${A} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=Gp(new y(...f),{type:u,root:m,attach:h,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v instanceof Ht?v.__r3f.attach="geometry":v instanceof Ur&&(v.__r3f.attach="material")),A!=="inject"&&s7(v,d),v}function r(u,f){let h=!1;if(f){var d,m;(d=f.__r3f)!=null&&d.attach?i7(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),h=!0),h||(m=u.__r3f)==null||m.objects.push(f),f.__r3f||Gp(f,{}),f.__r3f.parent=u,fS(f),zp(f)}}function i(u,f,h){let d=!1;if(f){var m,A;if((m=f.__r3f)!=null&&m.attach)i7(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const v=u.children.filter(_=>_!==f),y=v.indexOf(h);u.children=[...v.slice(0,y),f,...v.slice(y)],d=!0}d||(A=u.__r3f)==null||A.objects.push(f),f.__r3f||Gp(f,{}),f.__r3f.parent=u,fS(f),zp(f)}}function s(u,f,h=!1){u&&[...u].forEach(d=>o(f,d,h))}function o(u,f,h){if(f){var d,m,A;if(f.__r3f&&(f.__r3f.parent=null),(d=u.__r3f)!=null&&d.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==f)),(m=f.__r3f)!=null&&m.attach)OL(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var v;u.remove(f),(v=f.__r3f)!=null&&v.root&&nfe(f.__r3f.root,f)}const _=(A=f.__r3f)==null?void 0:A.primitive,x=h===void 0?f.dispose!==null&&!_:h;if(!_){var y;s((y=f.__r3f)==null?void 0:y.objects,f,x),s(f.children,f,x)}delete f.__r3f,x&&f.dispose&&f.type!=="Scene"&&cS.unstable_scheduleCallback(cS.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),zp(u)}}function a(u,f,h,d){var m;const A=(m=u.__r3f)==null?void 0:m.parent;if(!A)return;const v=n(f,h,u.__r3f.root);if(u.children){for(const y of u.children)y.__r3f&&r(v,y);u.children=u.children.filter(y=>!y.__r3f)}u.__r3f.objects.forEach(y=>r(v,y)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(A,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(A,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[d,d.alternate].forEach(y=>{y!==null&&(y.stateNode=v,y.ref&&(typeof y.ref=="function"?y.ref(v):y.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Vue({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const h=u.getState().scene;h.__r3f&&(h.__r3f.root=u,r(h,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,h)=>{if(!f||!h)return;const d=u.getState().scene;d.__r3f&&i(d,f,h)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,h,d){var m;if(((m=u==null?void 0:u.__r3f)!=null?m:{}).primitive&&d.object&&d.object!==u)return[!0];{const{args:v=[],children:y,..._}=d,{args:x=[],children:E,...b}=h;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((T,C)=>T!==x[C]))return[!0];const w=n$(u,_,b,!0);return w.changes.length?[!1,w]:null}},commitUpdate(u,[f,h],d,m,A,v){f?a(u,d,A,v):s7(u,h)},commitMount(u,f,h,d){var m;const A=(m=u.__r3f)!=null?m:{};u.raycast&&A.handlers&&A.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Gp(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:h,parent:d}=(f=u.__r3f)!=null?f:{};h&&d&&OL(d,u,h),u.isObject3D&&(u.visible=!1),zp(u)},unhideInstance(u,f){var h;const{attach:d,parent:m}=(h=u.__r3f)!=null?h:{};d&&m&&i7(m,u,d),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),zp(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():o0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Jn.fun(performance.now)?performance.now:Jn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Jn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Jn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:s7}}var DL,LL;const r7=t=>"colorSpace"in t||"outputColorSpace"in t,YV=()=>{var t;return(t=JI.ColorManagement)!=null?t:null},XV=t=>t&&t.isOrthographicCamera,Yue=t=>t&&t.hasOwnProperty("current"),Y2=typeof window<"u"&&((DL=window.document)!=null&&DL.createElement||((LL=window.navigator)==null?void 0:LL.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function qV(t){const e=D.useRef(t);return Y2(()=>void(e.current=t),[t]),e}function Xue({set:t}){return Y2(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class ZV extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ZV.getDerivedStateFromError=()=>({error:!0});const e$="__default",kL=new Map,que=t=>t&&!!t.memoized&&!!t.changes;function t$(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Lg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Jn={obj:t=>t===Object(t)&&!Jn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Jn.str(t)||Jn.num(t))return t===e;const s=Jn.obj(t);if(s&&r==="reference")return t===e;const o=Jn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Jn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Jn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Zue(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function efe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Gp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function uS(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const FL=/-\d+$/;function i7(t,e,n){if(Jn.str(n)){if(FL.test(n)){const s=n.replace(FL,""),{target:o,key:a}=uS(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=uS(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function OL(t,e,n){var r,i;if(Jn.str(n)){const{target:s,key:o}=uS(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function n$(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=t==null?void 0:t.__r3f)!=null?u:{},h=Object.entries(i),d=[];if(c){const A=Object.keys(l);for(let v=0;v<A.length;v++)i.hasOwnProperty(A[v])||h.unshift([A[v],e$+"remove"])}h.forEach(([A,v])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&A==="object"||Jn.equ(v,l[A]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(A))return d.push([A,v,!0,[]]);let _=[];A.includes("-")&&(_=A.split("-")),d.push([A,v,!1,_]);for(const x in i){const E=i[x];x.startsWith(`${A}-`)&&d.push([x,E,!1,x.split("-")])}});const m={...i};return f.memoizedProps&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:d}}function s7(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=que(e)?e:n$(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let h=0;h<c.length;h++){let[d,m,A,v]=c[h];if(r7(t)){const E="srgb",b="srgb-linear";d==="encoding"?(d="colorSpace",m=m===3001?E:b):d==="outputEncoding"&&(d="outputColorSpace",m=m===3001?E:b)}let y=t,_=y[d];if(v.length&&(_=v.reduce((x,E)=>x[E],t),!(_&&_.set))){const[x,...E]=v.reverse();y=E.reverse().reduce((b,w)=>b[w],t),d=x}if(m===e$+"remove")if(y.constructor){let x=kL.get(y.constructor);x||(x=new y.constructor,kL.set(y.constructor,x)),m=x[d]}else m=0;if(A)m?s.handlers[d]=m:delete s.handlers[d],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof td)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&_.constructor===m.constructor)_.copy(m);else if(m!==void 0){const x=_ instanceof Ue;!x&&_.setScalar?_.setScalar(m):_ instanceof td&&m instanceof td?_.mask=m.mask:_.set(m),!YV()&&!a.linear&&x&&_.convertSRGBToLinear()}}else if(y[d]=m,y[d]instanceof qn&&y[d].format===dr&&y[d].type===Ai){const x=y[d];r7(x)&&r7(a.gl)?x.colorSpace=a.gl.outputColorSpace:x.encoding=a.gl.outputEncoding}zp(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const h=a.internal.interaction.indexOf(t);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&fS(t),t}function zp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function fS(t){t.onUpdate==null||t.onUpdate(t)}function r$(t,e){t.manual||(XV(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Dy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function tfe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return o0.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return o0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return o0.ContinuousEventPriority;default:return o0.DefaultEventPriority}}function i$(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function nfe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{i$(n.capturedMap,e,r,i)})}function rfe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,h=[],d=c?c(u.internal.interaction):u.internal.interaction;for(let y=0;y<d.length;y++){const _=Lg(d[y]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(y){const _=Lg(y);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var x;_.events.compute==null||_.events.compute(l,_,(x=_.previousRoot)==null?void 0:x.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(y,!0):[]}let A=d.flatMap(m).sort((y,_)=>{const x=Lg(y.object),E=Lg(_.object);return!x||!E?y.distance-_.distance:E.events.priority-x.events.priority||y.distance-_.distance}).filter(y=>{const _=Dy(y);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(A=u.events.filter(A,u));for(const y of A){let _=y.object;for(;_;){var v;(v=_.__r3f)!=null&&v.eventCount&&h.push({...y,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let y of u.internal.capturedMap.get(l.pointerId).values())f.has(Dy(y.intersection))||h.push(y.intersection);return h}function i(l,c,u,f){const h=t.getState();if(l.length){const d={stopped:!1};for(const m of l){const A=Lg(m.object)||h,{raycaster:v,pointer:y,camera:_,internal:x}=A,E=new K(y.x,y.y,0).unproject(_),b=B=>{var R,L;return(R=(L=x.capturedMap.get(B))==null?void 0:L.has(m.eventObject))!=null?R:!1},w=B=>{const R={intersection:m,target:c.target};x.capturedMap.has(B)?x.capturedMap.get(B).set(m.eventObject,R):x.capturedMap.set(B,new Map([[m.eventObject,R]])),c.target.setPointerCapture(B)},T=B=>{const R=x.capturedMap.get(B);R&&i$(x.capturedMap,m.eventObject,R,B)};let C={};for(let B in c){let R=c[B];typeof R!="function"&&(C[B]=R)}let I={...m,...C,pointer:y,intersections:l,stopped:d.stopped,delta:u,unprojectedPoint:E,ray:v.ray,camera:_,stopPropagation(){const B="pointerId"in c&&x.capturedMap.get(c.pointerId);if((!B||B.has(m.eventObject))&&(I.stopped=d.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(R=>R.eventObject===m.eventObject))){const R=l.slice(0,l.indexOf(m));s([...R,m])}},target:{hasPointerCapture:b,setPointerCapture:w,releasePointerCapture:T},currentTarget:{hasPointerCapture:b,setPointerCapture:w,releasePointerCapture:T},nativeEvent:c};if(f(I),d.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const h=u.eventObject.__r3f,d=h==null?void 0:h.handlers;if(c.hovered.delete(Dy(u)),h!=null&&h.eventCount){const m={...u,intersections:l};d.onPointerOut==null||d.onPointerOut(m),d.onPointerLeave==null||d.onPointerLeave(m)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=u;const d=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,d?n:void 0),y=m?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=v.map(x=>x.eventObject)),m&&!v.length&&y<=2&&(o(u,h.interaction),f&&f(u)),d&&s(v);function _(x){const E=x.eventObject,b=E.__r3f,w=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(d){if(w.onPointerOver||w.onPointerEnter||w.onPointerOut||w.onPointerLeave){const T=Dy(x),C=h.hovered.get(T);C?C.stopped&&x.stopPropagation():(h.hovered.set(T,x),w.onPointerOver==null||w.onPointerOver(x),w.onPointerEnter==null||w.onPointerEnter(x))}w.onPointerMove==null||w.onPointerMove(x)}else{const T=w[l];T?(!m||h.initialHits.includes(E))&&(o(u,h.interaction.filter(C=>!h.initialHits.includes(C))),T(x)):m&&h.initialHits.includes(E)&&o(u,h.interaction.filter(C=>!h.initialHits.includes(C)))}}i(v,u,y,_)}}return{handlePointer:a}}const ife=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],s$=t=>!!(t!=null&&t.render),YI=D.createContext(null),sfe=(t,e)=>{const n=B8((a,l)=>{const c=new K,u=new K,f=new K;function h(y=l().camera,_=u,x=l().size){const{width:E,height:b,top:w,left:T}=x,C=E/b;_ instanceof K?f.copy(_):f.set(..._);const I=y.getWorldPosition(c).distanceTo(f);if(XV(y))return{width:E/y.zoom,height:b/y.zoom,top:w,left:T,factor:1,distance:I,aspect:C};{const B=y.fov*Math.PI/180,R=2*Math.tan(B/2)*I,L=R*(E/b);return{width:L,height:R,top:w,left:T,factor:E/L,distance:I,aspect:C}}}let d;const m=y=>a(_=>({performance:{..._.performance,current:y}})),A=new Se;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,_)=>e(y,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new M8,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();d&&clearTimeout(d),y.performance.current!==y.performance.min&&m(y.performance.min),d=setTimeout(()=>m(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:y=>a(_=>({..._,events:{..._.events,...y}})),setSize:(y,_,x,E,b)=>{const w=l().camera,T={width:y,height:_,top:E||0,left:b||0,updateStyle:x};a(C=>({size:T,viewport:{...C.viewport,...h(w,u,T)}}))},setDpr:y=>a(_=>{const x=t$(y);return{viewport:{..._.viewport,dpr:x,initialDpr:_.viewport.initialDpr||x}}}),setFrameloop:(y="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,y!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,_,x)=>{const E=l().internal;return E.priority=E.priority+(_>0?1:0),E.subscribers.push({ref:y,priority:_,store:x}),E.subscribers=E.subscribers.sort((b,w)=>b.priority-w.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(_>0?1:0),b.subscribers=b.subscribers.filter(w=>w.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=n.getState();if(l!==i||c.dpr!==s){var h;i=l,s=c.dpr,r$(a,l),u.setPixelRatio(c.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,d)}a!==o&&(o=a,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Ly,ofe=new Set,afe=new Set,lfe=new Set;function o7(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function kg(t,e){switch(t){case"before":return o7(ofe,e);case"after":return o7(afe,e);case"tail":return o7(lfe,e)}}let a7,l7;function c7(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),a7=e.internal.subscribers,Ly=0;Ly<a7.length;Ly++)l7=a7[Ly],l7.ref.current(l7.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function cfe(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,kg("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=c7(l,i))}if(kg("after",l),n===0)return kg("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return t.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&kg("before",l),u)c7(l,u,f);else for(const h of t.values())c7(l,h.store.getState());c&&kg("after",l)}return{loop:s,invalidate:o,advance:a}}function XI(){const t=D.useContext(YI);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function La(t=n=>n,e){return XI()(t,e)}function Fd(t,e=0){const n=XI(),r=n.getState().internal.subscribe,i=qV(t);return Y2(()=>r(i,e,n),[e,r,n]),null}const NL=new WeakMap;function o$(t,e){return function(n,...r){let i=NL.get(n);return i||(i=new n,NL.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Zue(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Fm(t,e,n,r){const i=Array.isArray(e)?e:[e],s=Wue(o$(n,r),[t,...i],{equal:Jn.equ});return Array.isArray(e)?s:s[0]}Fm.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return jue(o$(n),[t,...r])};Fm.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Kue([t,...n])};const em=new Map,{invalidate:UL,advance:GL}=cfe(em),{reconciler:V1,applyProps:wp}=Jue(em,tfe),bp={objects:"shallow",strict:!1},ufe=(t,e)=>{const n=typeof t=="function"?t(e):t;return s$(n)?n:new xI({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function ffe(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function hfe(t){const e=em.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||sfe(UL,GL),o=n||V1.createContainer(s,o0.ConcurrentRoot,null,!1,null,"",i,null);e||em.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:h,scene:d,events:m,onCreated:A,shadows:v=!1,linear:y=!1,flat:_=!1,legacy:x=!1,orthographic:E=!1,frameloop:b="always",dpr:w=[1,2],performance:T,raycaster:C,camera:I,onPointerMissed:B}=u,R=s.getState(),L=R.gl;R.gl||R.set({gl:L=ufe(f,t)});let z=R.raycaster;z||R.set({raycaster:z=new KI});const{params:O,...G}=C||{};if(Jn.equ(G,z,bp)||wp(z,{...G}),Jn.equ(O,z.params,bp)||wp(z,{params:{...z.params,...O}}),!R.camera||R.camera===c&&!Jn.equ(c,I,bp)){c=I;const re=I instanceof L2,ge=re?I:E?new eu(0,0,0,0,.1,1e3):new rr(75,0,.1,1e3);re||(ge.position.z=5,I&&wp(ge,I),!R.camera&&!(I!=null&&I.rotation)&&ge.lookAt(0,0,0)),R.set({camera:ge})}if(!R.scene){let re;d instanceof N1?re=d:(re=new N1,d&&wp(re,d)),R.set({scene:Gp(re)})}if(!R.xr){var j;const re=(be,oe)=>{const Fe=s.getState();Fe.frameloop!=="never"&&GL(be,!0,Fe,oe)},ge=()=>{const be=s.getState();be.gl.xr.enabled=be.gl.xr.isPresenting,be.gl.xr.setAnimationLoop(be.gl.xr.isPresenting?re:null),be.gl.xr.isPresenting||UL(be)},Ee={connect(){const be=s.getState().gl;be.xr.addEventListener("sessionstart",ge),be.xr.addEventListener("sessionend",ge)},disconnect(){const be=s.getState().gl;be.xr.removeEventListener("sessionstart",ge),be.xr.removeEventListener("sessionend",ge)}};typeof((j=L.xr)==null?void 0:j.addEventListener)=="function"&&Ee.connect(),R.set({xr:Ee})}if(L.shadowMap){const re=L.shadowMap.enabled,ge=L.shadowMap.type;if(L.shadowMap.enabled=!!v,Jn.boo(v))L.shadowMap.type=B3;else if(Jn.str(v)){var J;const Ee={basic:hH,percentage:a8,soft:B3,variance:Uh};L.shadowMap.type=(J=Ee[v])!=null?J:B3}else Jn.obj(v)&&Object.assign(L.shadowMap,v);(re!==L.shadowMap.enabled||ge!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}const N=YV();N&&("enabled"in N?N.enabled=!x:"legacyMode"in N&&(N.legacyMode=x)),wp(L,{outputEncoding:y?3e3:3001,toneMapping:_?ro:cI}),R.legacy!==x&&R.set(()=>({legacy:x})),R.linear!==y&&R.set(()=>({linear:y})),R.flat!==_&&R.set(()=>({flat:_})),f&&!Jn.fun(f)&&!s$(f)&&!Jn.equ(f,L,bp)&&wp(L,f),m&&!R.events.handlers&&R.set({events:m(s)});const Z=ffe(t,h);return Jn.equ(Z,R.size,bp)||R.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),w&&R.viewport.dpr!==t$(w)&&R.setDpr(w),R.frameloop!==b&&R.setFrameloop(b),R.onPointerMissed||R.set({onPointerMissed:B}),T&&!Jn.equ(T,R.performance,bp)&&R.set(re=>({performance:{...re.performance,...T}})),a=A,l=!0,this},render(u){return l||this.configure(),V1.updateContainer(D.createElement(dfe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){a$(t)}}}function dfe({store:t,children:e,onCreated:n,rootElement:r}){return Y2(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),D.createElement(YI.Provider,{value:t},e)}function a$(t,e){const n=em.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),V1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),efe(i),em.delete(t),e&&e(t)}catch{}},500)})}}function pfe(t,e,n){return D.createElement(mfe,{key:e.uuid,children:t,container:e,state:n})}function mfe({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=XI(),[a]=D.useState(()=>new KI),[l]=D.useState(()=>new Se),c=D.useCallback((f,h)=>{const d={...f};Object.keys(f).forEach(A=>{(ife.includes(A)||f[A]!==h[A]&&h[A])&&delete d[A]});let m;if(h&&i){const A=h.camera;m=f.viewport.getCurrentViewport(A,new K,i),A!==f.camera&&r$(A,i)}return{...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...h==null?void 0:h.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...m},...s}},[t]),[u]=D.useState(()=>{const f=o.getState();return B8((d,m)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:d,get:m,setEvents:A=>d(v=>({...v,events:{...v.events,...A}}))}))});return D.useEffect(()=>{const f=o.subscribe(h=>u.setState(d=>c(h,d)));return()=>{f(),u.destroy()}},[]),D.useEffect(()=>{u.setState(f=>c(o.getState(),f))},[c]),D.createElement(D.Fragment,null,V1.createPortal(D.createElement(YI.Provider,{value:u},e),u,null))}V1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});function hS(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}hS.debounce=hS;var gfe=hS;const zL=ca(gfe);function Afe(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=D.useRef(!1);D.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,d,m]=D.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:x,top:E,width:b,height:w,bottom:T,right:C,x:I,y:B}=l.current.element.getBoundingClientRect(),R={left:x,top:E,width:b,height:w,bottom:T,right:C,x:I,y:B};l.current.element instanceof HTMLElement&&i&&(R.height=l.current.element.offsetHeight,R.width=l.current.element.offsetWidth),Object.freeze(R),f.current&&!_fe(l.current.lastBounds,R)&&a(l.current.lastBounds=R)};return[_,u?zL(_,u):_,c?zL(_,c):_]},[a,i,c,u]);function A(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(m),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",m,{capture:!0,passive:!0})))}const y=_=>{!_||_===l.current.element||(A(),l.current.element=_,l.current.scrollContainers=l$(_),v())};return yfe(m,!!n),vfe(d),D.useEffect(()=>{A(),v()},[n,m,d]),D.useEffect(()=>A,[]),[y,o,h]}function vfe(t){D.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function yfe(t,e){D.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function l$(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...l$(t.parentElement)]}const xfe=["x","y","top","bottom","left","right","width","height"],_fe=(t,e)=>xfe.every(n=>t[n]===e[n]);var Efe=Object.defineProperty,Cfe=Object.defineProperties,Sfe=Object.getOwnPropertyDescriptors,QL=Object.getOwnPropertySymbols,wfe=Object.prototype.hasOwnProperty,bfe=Object.prototype.propertyIsEnumerable,HL=(t,e,n)=>e in t?Efe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VL=(t,e)=>{for(var n in e||(e={}))wfe.call(e,n)&&HL(t,n,e[n]);if(QL)for(var n of QL(e))bfe.call(e,n)&&HL(t,n,e[n]);return t},Ife=(t,e)=>Cfe(t,Sfe(e));function c$(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=c$(r,e,n);if(i)return i;r=e?null:r.sibling}}function u$(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const qI=u$(D.createContext(null));class f$ extends D.Component{render(){return D.createElement(qI.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:$L,ReactCurrentDispatcher:WL}=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Tfe(){const t=D.useContext(qI);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=D.useId();return D.useMemo(()=>{for(const r of[$L==null?void 0:$L.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=c$(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Mfe(){var t,e;const n=Tfe(),[r]=D.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==qI&&!r.has(s)&&r.set(s,(e=WL==null?void 0:WL.current)==null?void 0:e.readContext(u$(s))),i=i.return}return r}function Bfe(){const t=Mfe();return D.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>D.createElement(e,null,D.createElement(n.Provider,Ife(VL({},r),{value:t.get(n)}))),e=>D.createElement(f$,VL({},e))),[t])}const u7={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Rfe(t){const{handlePointer:e}=rfe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(u7).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=u7[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=u7[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const Pfe=D.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Rfe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:m,dpr:A,performance:v,raycaster:y,camera:_,scene:x,onPointerMissed:E,onCreated:b,...w},T){D.useMemo(()=>R8(Uue),[]);const C=Bfe(),[I,B]=Afe({scroll:!0,debounce:{scroll:50,resize:0},...r}),R=D.useRef(null),L=D.useRef(null);D.useImperativeHandle(T,()=>R.current);const z=qV(E),[O,G]=D.useState(!1),[j,J]=D.useState(!1);if(O)throw O;if(j)throw j;const N=D.useRef(null);Y2(()=>{const Q=R.current;B.width>0&&B.height>0&&Q&&(N.current||(N.current=hfe(Q)),N.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:m,dpr:A,performance:v,raycaster:y,camera:_,scene:x,size:B,onPointerMissed:(...Z)=>z.current==null?void 0:z.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(a?Yue(a)?a.current:a:L.current),l&&Z.setEvents({compute:(re,ge)=>{const Ee=re[l+"X"],be=re[l+"Y"];ge.pointer.set(Ee/ge.size.width*2-1,-(be/ge.size.height)*2+1),ge.raycaster.setFromCamera(ge.pointer,ge.camera)}}),b==null||b(Z)}}),N.current.render(D.createElement(C,null,D.createElement(ZV,{set:J},D.createElement(D.Suspense,{fallback:D.createElement(Xue,{set:G})},e)))))}),D.useEffect(()=>{const Q=R.current;if(Q)return()=>a$(Q)},[]);const V=a?"none":"auto";return D.createElement("div",_r({ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...i}},w),D.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},D.createElement("canvas",{ref:R,style:{display:"block"}},n)))}),Dfe=D.forwardRef(function(e,n){return D.createElement(f$,null,D.createElement(Pfe,_r({},e,{ref:n})))}),X2=new K,ZI=new K,Lfe=new K;function kfe(t,e,n){const r=X2.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function Ffe(t,e){const n=X2.setFromMatrixPosition(t.matrixWorld),r=ZI.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(Lfe);return i.angleTo(s)>Math.PI/2}function Ofe(t,e,n,r){const i=X2.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function Nfe(t,e){if(e instanceof eu)return e.zoom;if(e instanceof rr){const n=X2.setFromMatrixPosition(t.matrixWorld),r=ZI.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Ufe(t,e,n){if(e instanceof rr||e instanceof eu){const r=X2.setFromMatrixPosition(t.matrixWorld),i=ZI.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const dS=t=>Math.abs(t)<1e-10?0:t;function h$(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=dS(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Gfe=(t=>e=>h$(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),zfe=(t=>(e,n)=>h$(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Qfe(t){return t&&typeof t=="object"&&"current"in t}const q2=D.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:h,castShadow:d,receiveShadow:m,material:A,geometry:v,zIndexRange:y=[16777271,0],calculatePosition:_=kfe,as:x="div",wrapperClass:E,pointerEvents:b="auto",...w},T)=>{const{gl:C,camera:I,scene:B,size:R,raycaster:L,events:z,viewport:O}=La(),[G]=D.useState(()=>document.createElement(x)),j=D.useRef(),J=D.useRef(null),N=D.useRef(0),V=D.useRef([0,0]),Q=D.useRef(null),Z=D.useRef(null),re=(a==null?void 0:a.current)||z.connected||C.domElement.parentNode,ge=D.useRef(null),Ee=D.useRef(!1),be=D.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&Qfe(f[0]),[f]);D.useLayoutEffect(()=>{const W=C.domElement;f&&f==="blending"?(W.style.zIndex=`${Math.floor(y[0]/2)}`,W.style.position="absolute",W.style.pointerEvents="none"):(W.style.zIndex=null,W.style.position=null,W.style.pointerEvents=null)},[f]),D.useLayoutEffect(()=>{if(J.current){const W=j.current=cH(G);if(B.updateMatrixWorld(),u)G.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Y=_(J.current,I,R);G.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Y[0]}px,${Y[1]}px,0);transform-origin:0 0;`}return re&&(i?re.prepend(G):re.appendChild(G)),()=>{re&&re.removeChild(G),W.unmount()}}},[re,u]),D.useLayoutEffect(()=>{E&&(G.className=E)},[E]);const oe=D.useMemo(()=>u?{position:"absolute",top:0,left:0,width:R.width,height:R.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-R.height/2,left:-R.width/2,width:R.width,height:R.height},...n},[n,s,o,R,u]),Fe=D.useMemo(()=>({position:"absolute",pointerEvents:b}),[b]);D.useLayoutEffect(()=>{if(Ee.current=!1,u){var W;(W=j.current)==null||W.render(D.createElement("div",{ref:Q,style:oe},D.createElement("div",{ref:Z,style:Fe},D.createElement("div",{ref:T,className:r,style:n,children:t}))))}else{var Y;(Y=j.current)==null||Y.render(D.createElement("div",{ref:T,style:oe,className:r,children:t}))}});const he=D.useRef(!0);Fd(W=>{if(J.current){I.updateMatrixWorld(),J.current.updateWorldMatrix(!0,!1);const Y=u?V.current:_(J.current,I,R);if(u||Math.abs(N.current-I.zoom)>e||Math.abs(V.current[0]-Y[0])>e||Math.abs(V.current[1]-Y[1])>e){const ie=Ffe(J.current,I);let te=!1;be&&(Array.isArray(f)?te=f.map(Ye=>Ye.current):f!=="blending"&&(te=[B]));const de=he.current;if(te){const Ye=Ofe(J.current,I,L,te);he.current=Ye&&!ie}else he.current=!ie;de!==he.current&&(h?h(!he.current):G.style.display=he.current?"block":"none");const Pe=Math.floor(y[0]/2),ke=f?be?[y[0],Pe]:[Pe-1,0]:y;if(G.style.zIndex=`${Ufe(J.current,I,ke)}`,u){const[Ye,nt]=[R.width/2,R.height/2],Je=I.projectionMatrix.elements[5]*nt,{isOrthographicCamera:pt,top:Ct,left:X,bottom:H,right:ce}=I,De=Gfe(I.matrixWorldInverse),Oe=pt?`scale(${Je})translate(${dS(-(ce+X)/2)}px,${dS((Ct+H)/2)}px)`:`translateZ(${Je}px)`;let Ge=J.current.matrixWorld;c&&(Ge=I.matrixWorldInverse.clone().transpose().copyPosition(Ge).scale(J.current.scale),Ge.elements[3]=Ge.elements[7]=Ge.elements[11]=0,Ge.elements[15]=1),G.style.width=R.width+"px",G.style.height=R.height+"px",G.style.perspective=pt?"":`${Je}px`,Q.current&&Z.current&&(Q.current.style.transform=`${Oe}${De}translate(${Ye}px,${nt}px)`,Z.current.style.transform=zfe(Ge,1/((l||10)/400)))}else{const Ye=l===void 0?1:Nfe(J.current,I)*l;G.style.transform=`translate3d(${Y[0]}px,${Y[1]}px,0) scale(${Ye})`}V.current=Y,N.current=I.zoom}}if(!be&&ge.current&&!Ee.current)if(u){if(Q.current){const Y=Q.current.children[0];if(Y!=null&&Y.clientWidth&&Y!=null&&Y.clientHeight){const{isOrthographicCamera:ie}=I;if(ie||v)w.scale&&(Array.isArray(w.scale)?w.scale instanceof K?ge.current.scale.copy(w.scale.clone().divideScalar(1)):ge.current.scale.set(1/w.scale[0],1/w.scale[1],1/w.scale[2]):ge.current.scale.setScalar(1/w.scale));else{const te=(l||10)/400,de=Y.clientWidth*te,Pe=Y.clientHeight*te;ge.current.scale.set(de,Pe,1)}Ee.current=!0}}}else{const Y=G.children[0];if(Y!=null&&Y.clientWidth&&Y!=null&&Y.clientHeight){const ie=1/O.factor,te=Y.clientWidth*ie,de=Y.clientHeight*ie;ge.current.scale.set(te,de,1),Ee.current=!0}ge.current.lookAt(W.camera.position)}});const U=D.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return D.createElement("group",_r({},w,{ref:J}),f&&!be&&D.createElement("mesh",{castShadow:d,receiveShadow:m,ref:ge},v||D.createElement("planeGeometry",null),A||D.createElement("shaderMaterial",{side:$o,vertexShader:U.vertexShader,fragmentShader:U.fragmentShader})))});let Fg=0;const Hfe=B8(t=>(s0.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-Fg)/(r-Fg)*100})},s0.onLoad=()=>{t({active:!1})},s0.onError=e=>t(n=>({errors:[...n.errors,e]})),s0.onProgress=(e,n,r)=>{n===r&&(Fg=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-Fg)/(r-Fg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Vfe(t,e,n){return Math.max(e,Math.min(t,n))}const $i={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function jL(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function KL(t,e,n,r=.15){return r===0?Vfe(t,e,n):t<e?-jL(e-t,n-e,r)+e:t>n?+jL(t-n,n-e,r)+n:t}function $fe(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[KL(e,s,o,r),KL(n,a,l,i)]}function Wfe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:String(e)}function Es(t,e,n){return e=jfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){Es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const d$={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function YL(t){return t?t[0].toUpperCase()+t.slice(1):""}const Kfe=["enter","leave"];function Jfe(t=!1,e){return t&&!Kfe.includes(e)}function Yfe(t,e="",n=!1){const r=d$[t],i=r&&r[e]||e;return"on"+YL(t)+YL(i)+(Jfe(n,i)?"Capture":"")}const Xfe=["gotpointercapture","lostpointercapture"];function qfe(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=Xfe.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function Zfe(t,e=""){const n=d$[t],r=n&&n[e]||e;return t+r}function P8(t){return"touches"in t}function p$(t){return P8(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function ehe(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function the(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function m$(t){return P8(t)?the(t)[0]:t}function nhe(t){return ehe(t).map(e=>e.identifier)}function f7(t){const e=m$(t);return P8(t)?e.identifier:e.pointerId}function XL(t){const e=m$(t);return[e.clientX,e.clientY]}function rhe(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function k6(t,...e){return typeof t=="function"?t(...e):t}function ihe(){}function she(...t){return t.length===0?ihe:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function qL(t,e){return Object.assign({},e,t||{})}const ohe=32;class ahe{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?k6(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,rhe(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const w=n._delta.map(Math.abs);$i.addTo(n._distance,w)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,c]=r.threshold,{_step:u,values:f}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[w,T]=f;h[0]=u[0]!==!1?w-u[0]:0,h[1]=u[1]!==!1?T-u[1]:0}else h[0]=u[0]!==!1?o-u[0]:0,h[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const d=n.offset,m=n._active&&!n._blocked||n.active;m&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=k6(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[A,v]=n.offset,[[y,_],[x,E]]=n._bounds;n.overflow=[A<y?-1:A>_?1:0,v<x?-1:v>E?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const b=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=$fe(n._bounds,n.offset,b),n.delta=$i.sub(n.offset,d),this.computeMovement(),m&&(!n.last||s>ohe)){n.delta=$i.sub(n.offset,d);const w=n.delta.map(Math.abs);$i.addTo(n.distance,w),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[w[0]/s,w[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Ar(Ar(Ar({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function lhe([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class che extends ahe{constructor(...e){super(...e),Es(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=$i.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=$i.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[p$(e)]:r.axisThreshold;n.axis=lhe(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const uhe=t=>t,ZL=.15,g$={enabled(t=!0){return t},eventOptions(t,e,n){return Ar(Ar({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[ZL,ZL];case!1:return[0,0];default:return $i.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return $i.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||uhe},threshold(t){return $i.toVector(t,0)}},fhe=0,Z2=Ar(Ar({},g$),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=fhe){return t},bounds(t={}){if(typeof t=="function")return s=>Z2.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),ek={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class hhe extends che{constructor(...e){super(...e),Es(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Z2.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=f7(e),r._pointerActive=!0,this.computeValues(XL(e)),this.computeInitial(),n.preventScrollAxis&&p$(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=f7(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=XL(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=$i.sub(s,n._values),this.computeValues(s)),$i.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=f7(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[c,u]=n._movement,[f,h]=r.swipe.velocity,[d,m]=r.swipe.distance,A=r.swipe.duration;if(n.elapsedTime<A){const v=Math.abs(a/n.timeDelta),y=Math.abs(l/n.timeDelta);v>f&&Math.abs(c)>d&&(n.swipe[0]=Math.sign(a)),y>h&&Math.abs(u)>m&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,dhe(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=ek[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,$i.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in ek&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function dhe(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const eA=typeof window<"u"&&window.document&&window.document.createElement;function A$(){return eA&&"ontouchstart"in window}function phe(){return A$()||eA&&window.navigator.maxTouchPoints>1}function mhe(){return eA&&"onpointerdown"in window}function ghe(){return eA&&"exitPointerLock"in window.document}function Ahe(){try{return"constructor"in GestureEvent}catch{return!1}}const Go={isBrowser:eA,gesture:Ahe(),touch:A$(),touchscreen:phe(),pointer:mhe(),pointerLock:ghe()},vhe=250,yhe=180,xhe=.5,_he=50,Ehe=250,Che=10,tk={mouse:0,touch:0,pen:8},She=Ar(Ar({},Z2),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Go.pointerLock,Go.touch&&n?"touch":this.pointerLock?"mouse":Go.pointer&&!i?"pointer":Go.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?vhe:void 0,!(!Go.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=$i.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=xhe,distance:e=_he,duration:n=Ehe}={}){return{velocity:this.transform($i.toVector(t)),distance:this.transform($i.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return yhe;case!1:return 0;default:return t}},axisThreshold(t){return t?Ar(Ar({},tk),t):tk},keyboardDisplacement(t=Che){return t}});Ar(Ar({},g$),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Go.touch&&Go.gesture)return"gesture";if(Go.touch&&r)return"touch";if(Go.touchscreen){if(Go.pointer)return"pointer";if(Go.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=qL(k6(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=qL(k6(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",$i.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Ar(Ar({},Z2),{},{mouseOnly:(t=!0)=>t});Ar(Ar({},Z2),{},{mouseOnly:(t=!0)=>t});const v$=new Map,pS=new Map;function whe(t){v$.set(t.key,t.engine),pS.set(t.key,t.resolver)}const bhe={key:"drag",engine:hhe,resolver:She};function Ihe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function The(t,e){if(t==null)return{};var n=Ihe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const Mhe={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Go.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Bhe=["target","eventOptions","window","enabled","transform"];function O5(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=O5(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function Rhe(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=The(r,Bhe);if(n.shared=O5({target:i,eventOptions:s,window:o,enabled:a,transform:l},Mhe),e){const u=pS.get(e);n[e]=O5(Ar({shared:n.shared},c),u)}else for(const u in c){const f=pS.get(u);f&&(n[u]=O5(Ar({shared:n.shared},c[u]),f))}return n}class y${constructor(e,n){Es(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=Zfe(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Ar(Ar({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Phe{constructor(){Es(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let Dhe=class{constructor(e){Es(this,"gestures",new Set),Es(this,"_targetEventStore",new y$(this)),Es(this,"gestureEventStores",{}),Es(this,"gestureTimeoutStores",{}),Es(this,"handlers",{}),Es(this,"config",{}),Es(this,"pointerIds",new Set),Es(this,"touchIds",new Set),Es(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Lhe(this,e)}setEventIds(e){if(P8(e))return this.touchIds=new Set(nhe(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=Rhe(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=nk(r,a.eventOptions,!!i);if(a.enabled){const c=v$.get(o);new c(this,e,o).bind(l)}}const s=nk(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Ar(Ar({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=she(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=qfe(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function Ip(t,e){t.gestures.add(e),t.gestureEventStores[e]=new y$(t,e),t.gestureTimeoutStores[e]=new Phe}function Lhe(t,e){e.drag&&Ip(t,"drag"),e.wheel&&Ip(t,"wheel"),e.scroll&&Ip(t,"scroll"),e.move&&Ip(t,"move"),e.pinch&&Ip(t,"pinch"),e.hover&&Ip(t,"hover")}const nk=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let h=a?r:Yfe(r,i,u);n&&f&&(h+="Passive"),t[h]=t[h]||[],t[h].push(s)};function khe(t,e={},n,r){const i=se.useMemo(()=>new Dhe(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),se.useEffect(i.effect.bind(i)),se.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Fhe(t,e){return whe(bhe),khe({drag:t},e||{},"drag")}const Ohe=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());c=h=>{const d=o(h);if(!u(f,d)){const m=f;a(f=d,m)}},l!=null&&l.fireImmediately&&a(f,f)}return i(c)},t(e,n,r)};var Qo=Uint8Array,Ku=Uint16Array,mS=Uint32Array,x$=new Qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_$=new Qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Nhe=new Qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E$=function(t,e){for(var n=new Ku(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new mS(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},C$=E$(x$,2),S$=C$[0],Uhe=C$[1];S$[28]=258,Uhe[258]=28;var Ghe=E$(_$,0),zhe=Ghe[0],gS=new Ku(32768);for(var Yn=0;Yn<32768;++Yn){var bu=(Yn&43690)>>>1|(Yn&21845)<<1;bu=(bu&52428)>>>2|(bu&13107)<<2,bu=(bu&61680)>>>4|(bu&3855)<<4,gS[Yn]=((bu&65280)>>>8|(bu&255)<<8)>>>1}var k3=function(t,e,n){for(var r=t.length,i=0,s=new Ku(e);i<r;++i)++s[t[i]-1];var o=new Ku(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ku(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=o[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[gS[f]>>>l]=c}else for(a=new Ku(r),i=0;i<r;++i)t[i]&&(a[i]=gS[o[t[i]-1]++]>>>15-t[i]);return a},tA=new Qo(288);for(var Yn=0;Yn<144;++Yn)tA[Yn]=8;for(var Yn=144;Yn<256;++Yn)tA[Yn]=9;for(var Yn=256;Yn<280;++Yn)tA[Yn]=7;for(var Yn=280;Yn<288;++Yn)tA[Yn]=8;var w$=new Qo(32);for(var Yn=0;Yn<32;++Yn)w$[Yn]=5;var Qhe=k3(tA,9,1),Hhe=k3(w$,5,1),h7=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ya=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},d7=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Vhe=function(t){return(t/8|0)+(t&7&&1)},$he=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Ku?Ku:t instanceof mS?mS:Qo)(n-e);return r.set(t.subarray(e,n)),r},Whe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Qo(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Qo(r*3));var o=function(oe){var Fe=e.length;if(oe>Fe){var he=new Qo(Math.max(Fe*2,oe));he.set(e),e=he}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,f=n.d,h=n.m,d=n.n,m=r*8;do{if(!u){n.f=a=ya(t,l,1);var A=ya(t,l+1,3);if(l+=3,A)if(A==1)u=Qhe,f=Hhe,h=9,d=5;else if(A==2){var x=ya(t,l,31)+257,E=ya(t,l+10,15)+4,b=x+ya(t,l+5,31)+1;l+=14;for(var w=new Qo(b),T=new Qo(19),C=0;C<E;++C)T[Nhe[C]]=ya(t,l+C*3,7);l+=E*3;for(var I=h7(T),B=(1<<I)-1,R=k3(T,I,1),C=0;C<b;){var L=R[ya(t,l,B)];l+=L&15;var v=L>>>4;if(v<16)w[C++]=v;else{var z=0,O=0;for(v==16?(O=3+ya(t,l,3),l+=2,z=w[C-1]):v==17?(O=3+ya(t,l,7),l+=3):v==18&&(O=11+ya(t,l,127),l+=7);O--;)w[C++]=z}}var G=w.subarray(0,x),j=w.subarray(x);h=h7(G),d=h7(j),u=k3(G,h,1),f=k3(j,d,1)}else throw"invalid block type";else{var v=Vhe(l)+4,y=t[v-4]|t[v-3]<<8,_=v+y;if(_>r){if(s)throw"unexpected EOF";break}i&&o(c+y),e.set(t.subarray(v,_),c),n.b=c+=y,n.p=l=_*8;continue}if(l>m){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var J=(1<<h)-1,N=(1<<d)-1,V=l;;V=l){var z=u[d7(t,l)&J],Q=z>>>4;if(l+=z&15,l>m){if(s)throw"unexpected EOF";break}if(!z)throw"invalid length/literal";if(Q<256)e[c++]=Q;else if(Q==256){V=l,u=null;break}else{var Z=Q-254;if(Q>264){var C=Q-257,re=x$[C];Z=ya(t,l,(1<<re)-1)+S$[C],l+=re}var ge=f[d7(t,l)&N],Ee=ge>>>4;if(!ge)throw"invalid distance";l+=ge&15;var j=zhe[Ee];if(Ee>3){var re=_$[Ee];j+=d7(t,l)&(1<<re)-1,l+=re}if(l>m){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var be=c+Z;c<be;c+=4)e[c]=e[c-j],e[c+1]=e[c+1-j],e[c+2]=e[c+2-j],e[c+3]=e[c+3-j];c=be}}n.l=u,n.p=V,n.b=c,u&&(a=1,n.m=h,n.d=f,n.n=d)}while(!a);return c==e.length?e:$he(e,0,c)},jhe=new Qo(0),Khe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function ky(t,e){return Whe((Khe(t),t.subarray(2,-4)),e)}var Jhe=typeof TextDecoder<"u"&&new TextDecoder,Yhe=0;try{Jhe.decode(jhe,{stream:!0}),Yhe=1}catch{}function eT(){}eT.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};eT.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function rk(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new eT}rk.prototype={constructor:rk,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function ik(){}ik.prototype={constructor:ik,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};const b$=0,Xhe=2,qhe=0,Zhe=0,ede=2,tde=0,nde=0,rde=1,AS=2,ide=1,sde=64,I$=0,T$=9,tT=15,M$=16,nT=22,B$=37,rT=43,R$=76,P$=83,D$=97,L$=100,k$=103,F$=109;class ode{constructor(){this.vkFormat=I$,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=b$,this.levels=[],this.dataFormatDescriptor=[{vendorId:Zhe,descriptorType:qhe,descriptorBlockSize:0,versionNumber:ede,colorModel:tde,colorPrimaries:ide,transferFunction:AS,flags:nde,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Og{constructor(e,n,r,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+n,r),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),n=this._dataView.getUint32(this._offset+4,this._littleEndian),r=e+2**32*n;return this._offset+=8,r}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const r=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==n&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,i)}}const is=[171,75,84,88,32,50,48,187,13,10,26,10];function sk(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function ade(t){const e=new Uint8Array(t.buffer,t.byteOffset,is.length);if(e[0]!==is[0]||e[1]!==is[1]||e[2]!==is[2]||e[3]!==is[3]||e[4]!==is[4]||e[5]!==is[5]||e[6]!==is[6]||e[7]!==is[7]||e[8]!==is[8]||e[9]!==is[9]||e[10]!==is[10]||e[11]!==is[11])throw new Error("Missing KTX 2.0 identifier.");const n=new ode,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new Og(t,is.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const s=i._nextUint32();n.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),a=i._nextUint32(),l=i._nextUint32(),c=i._nextUint32(),u=i._nextUint64(),f=i._nextUint64(),h=s*3*8,d=new Og(t,is.length+r,h,!0);for(let Q=0;Q<s;Q++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});const m=new Og(t,o,a,!0),A={vendorId:m._skip(4)._nextUint16(),descriptorType:m._nextUint16(),versionNumber:m._nextUint16(),descriptorBlockSize:m._nextUint16(),colorModel:m._nextUint8(),colorPrimaries:m._nextUint8(),transferFunction:m._nextUint8(),flags:m._nextUint8(),texelBlockDimension:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],bytesPlane:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],samples:[]},v=6,y=4,_=(A.descriptorBlockSize/4-v)/y;for(let Q=0;Q<_;Q++){const Z={bitOffset:m._nextUint16(),bitLength:m._nextUint8(),channelType:m._nextUint8(),samplePosition:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};Z.channelType&sde?(Z.sampleLower=m._nextInt32(),Z.sampleUpper=m._nextInt32()):(Z.sampleLower=m._nextUint32(),Z.sampleUpper=m._nextUint32()),A.samples[Q]=Z}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(A);const x=new Og(t,l,c,!0);for(;x._offset<c;){const Q=x._nextUint32(),Z=x._scan(Q),re=sk(Z),ge=x._scan(Q-Z.byteLength);n.keyValue[re]=re.match(/^ktx/i)?sk(ge):ge,x._offset%4&&x._skip(4-x._offset%4)}if(f<=0)return n;const E=new Og(t,u,f,!0),b=E._nextUint16(),w=E._nextUint16(),T=E._nextUint32(),C=E._nextUint32(),I=E._nextUint32(),B=E._nextUint32(),R=[];for(let Q=0;Q<s;Q++)R.push({imageFlags:E._nextUint32(),rgbSliceByteOffset:E._nextUint32(),rgbSliceByteLength:E._nextUint32(),alphaSliceByteOffset:E._nextUint32(),alphaSliceByteLength:E._nextUint32()});const L=u+E._offset,z=L+T,O=z+C,G=O+I,j=new Uint8Array(t.buffer,t.byteOffset+L,T),J=new Uint8Array(t.buffer,t.byteOffset+z,C),N=new Uint8Array(t.buffer,t.byteOffset+O,I),V=new Uint8Array(t.buffer,t.byteOffset+G,B);return n.globalData={endpointCount:b,selectorCount:w,imageDescs:R,endpointsData:j,selectorsData:J,tablesData:N,extendedData:V},n}let p7,fc,vS;const m7={env:{emscripten_notify_memory_growth:function(t){vS=new Uint8Array(fc.exports.memory.buffer)}}};let lde=class{init(){return p7||(p7=typeof fetch<"u"?fetch("data:application/wasm;base64,"+ok).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,m7)).then(this._init):WebAssembly.instantiate(Buffer.from(ok,"base64"),m7).then(this._init),p7)}_init(e){fc=e.instance,m7.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!fc)throw new Error("ZSTDDecoder: Await .init() before decoding.");const r=e.byteLength,i=fc.exports.malloc(r);vS.set(e,i),n=n||Number(fc.exports.ZSTD_findDecompressedSize(i,r));const s=fc.exports.malloc(n),o=fc.exports.ZSTD_decompress(s,n,i,r),a=vS.slice(s,s+o);return fc.exports.free(i),fc.exports.free(s),a}};const ok="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=i)){var o=r.charCodeAt(s),a;return o>=55296&&o<=56319&&i>s+1&&(a=r.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function O$(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var cde=new O$,ude=new O$,N$=new Uint8Array(30),U$=new Uint16Array(30),fde=new Uint8Array(30),hde=new Uint16Array(30);function G$(t,e,n,r){var i,s;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<t[i]}function dde(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}dde(cde,ude);G$(N$,U$,4,3);G$(fde,hde,2,1);N$[28]=0;U$[28]=258;function Tp(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function Kf(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Kf.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Kf.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Kf.prototype.addX=function(t){this.addPoint(t,null)};Kf.prototype.addY=function(t){this.addPoint(null,t)};Kf.prototype.addBezier=function(t,e,n,r,i,s,o,a){var l=[t,e],c=[n,r],u=[i,s],f=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var h=0;h<=1;h++){var d=6*l[h]-12*c[h]+6*u[h],m=-3*l[h]+9*c[h]-9*u[h]+3*f[h],A=3*c[h]-3*l[h];if(m===0){if(d===0)continue;var v=-A/d;0<v&&v<1&&(h===0&&this.addX(Tp(l[h],c[h],u[h],f[h],v)),h===1&&this.addY(Tp(l[h],c[h],u[h],f[h],v)));continue}var y=Math.pow(d,2)-4*A*m;if(!(y<0)){var _=(-d+Math.sqrt(y))/(2*m);0<_&&_<1&&(h===0&&this.addX(Tp(l[h],c[h],u[h],f[h],_)),h===1&&this.addY(Tp(l[h],c[h],u[h],f[h],_)));var x=(-d-Math.sqrt(y))/(2*m);0<x&&x<1&&(h===0&&this.addX(Tp(l[h],c[h],u[h],f[h],x)),h===1&&this.addY(Tp(l[h],c[h],u[h],f[h],x)))}}};Kf.prototype.addQuad=function(t,e,n,r,i,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=o+1/3*(i-t),c=a+1/3*(s-e);this.addBezier(t,e,o,a,l,c,i,s)};function ci(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}ci.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};ci.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};ci.prototype.curveTo=ci.prototype.bezierCurveTo=function(t,e,n,r,i,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:s})};ci.prototype.quadTo=ci.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};ci.prototype.close=ci.prototype.closePath=function(){this.commands.push({type:"Z"})};ci.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Kf){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};ci.prototype.getBoundingBox=function(){for(var t=new Kf,e=0,n=0,r=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=r=o.x,n=i=o.y;break;case"L":t.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":t.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":t.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};ci.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};ci.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var c=o[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];s.type==="M"?r+="M"+n(s.x,s.y):s.type==="L"?r+="L"+n(s.x,s.y):s.type==="C"?r+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?r+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(r+="Z")}return r};ci.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};ci.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function z$(t){throw new Error(t)}function ak(t,e){t||z$(e)}var $t={fail:z$,argument:ak,assert:ak},lk=32768,ck=2147483648,tm={},tt={},Ut={};function Wa(t){return function(){return t}}tt.BYTE=function(t){return $t.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};Ut.BYTE=Wa(1);tt.CHAR=function(t){return[t.charCodeAt(0)]};Ut.CHAR=Wa(1);tt.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};Ut.CHARARRAY=function(t){return typeof t>"u"?0:t.length};tt.USHORT=function(t){return[t>>8&255,t&255]};Ut.USHORT=Wa(2);tt.SHORT=function(t){return t>=lk&&(t=-(2*lk-t)),[t>>8&255,t&255]};Ut.SHORT=Wa(2);tt.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};Ut.UINT24=Wa(3);tt.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};Ut.ULONG=Wa(4);tt.LONG=function(t){return t>=ck&&(t=-(2*ck-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};Ut.LONG=Wa(4);tt.FIXED=tt.ULONG;Ut.FIXED=Ut.ULONG;tt.FWORD=tt.SHORT;Ut.FWORD=Ut.SHORT;tt.UFWORD=tt.USHORT;Ut.UFWORD=Ut.USHORT;tt.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};Ut.LONGDATETIME=Wa(8);tt.TAG=function(t){return $t.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};Ut.TAG=Wa(4);tt.Card8=tt.BYTE;Ut.Card8=Ut.BYTE;tt.Card16=tt.USHORT;Ut.Card16=Ut.USHORT;tt.OffSize=tt.BYTE;Ut.OffSize=Ut.BYTE;tt.SID=tt.USHORT;Ut.SID=Ut.USHORT;tt.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?tt.NUMBER16(t):tt.NUMBER32(t)};Ut.NUMBER=function(t){return tt.NUMBER(t).length};tt.NUMBER16=function(t){return[28,t>>8&255,t&255]};Ut.NUMBER16=Wa(3);tt.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};Ut.NUMBER32=Wa(5);tt.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?i+=e[++s]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],c=0,u=i.length;c<u;c+=2)l.push(parseInt(i.substr(c,2),16));return l};Ut.REAL=function(t){return tt.REAL(t).length};tt.NAME=tt.CHARARRAY;Ut.NAME=Ut.CHARARRAY;tt.STRING=tt.CHARARRAY;Ut.STRING=Ut.CHARARRAY;tm.UTF8=function(t,e,n){for(var r=[],i=n,s=0;s<i;s++,e+=1)r[s]=t.getUint8(e);return String.fromCharCode.apply(null,r)};tm.UTF16=function(t,e,n){for(var r=[],i=n/2,s=0;s<i;s++,e+=2)r[s]=t.getUint16(e);return String.fromCharCode.apply(null,r)};tt.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};Ut.UTF16=function(t){return t.length*2};var yS={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};tm.MACSTRING=function(t,e,n,r){var i=yS[r];if(i!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=i[a&127]}return s}};var Fy=typeof WeakMap=="function"&&new WeakMap,Oy,pde=function(t){if(!Oy){Oy={};for(var e in yS)Oy[e]=new String(e)}var n=Oy[t];if(n!==void 0){if(Fy){var r=Fy.get(n);if(r!==void 0)return r}var i=yS[t];if(i!==void 0){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return Fy&&Fy.set(n,s),s}}};tt.MACSTRING=function(t,e){var n=pde(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var s=t.charCodeAt(i);if(s>=128&&(s=n[s],s===void 0))return;r[i]=s}return r}};Ut.MACSTRING=function(t,e){var n=tt.MACSTRING(t,e);return n!==void 0?n.length:0};function xS(t){return t>=-128&&t<=127}function mde(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function gde(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(!xS(o)||o===0&&s+1<i&&t[s+1]===0)break;++s,++r}n.push(r-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function Ade(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(o===0||xS(o)&&s+1<i&&xS(t[s+1]))break;++s,++r}n.push(64|r-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}tt.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=mde(t,e,n):r>=-128&&r<=127?e=gde(t,e,n):e=Ade(t,e,n)}return n};tt.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var s=tt.OBJECT(t[i]);Array.prototype.push.apply(r,s),e+=s.length,n.push(e)}if(r.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,tt.BYTE,tt.USHORT,tt.UINT24,tt.ULONG][a],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(tt.Card16(t.length),tt.OffSize(a),o,r)};Ut.INDEX=function(t){return tt.INDEX(t).length};tt.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var s=parseInt(n[i],0),o=t[s];e=e.concat(tt.OPERAND(o.value,o.type)),e=e.concat(tt.OPERATOR(s))}return e};Ut.DICT=function(t){return tt.DICT(t).length};tt.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};tt.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)$t.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(tt.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(tt.NUMBER(t));else if(e==="offset")n=n.concat(tt.NUMBER32(t));else if(e==="number")n=n.concat(tt.NUMBER(t));else if(e==="real")n=n.concat(tt.REAL(t));else throw new Error("Unknown operand type "+e);return n};tt.OP=tt.BYTE;Ut.OP=Ut.BYTE;var Ny=typeof WeakMap=="function"&&new WeakMap;tt.CHARSTRING=function(t){if(Ny){var e=Ny.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var s=t[i];n=n.concat(tt[s.type](s.value))}return Ny&&Ny.set(t,n),n};Ut.CHARSTRING=function(t){return tt.CHARSTRING(t).length};tt.OBJECT=function(t){var e=tt[t.type];return $t.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};Ut.OBJECT=function(t){var e=Ut[t.type];return $t.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};tt.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],s=0;s<n;s+=1){var o=t.fields[s],a=tt[o.type];$t.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var c=a(l);o.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(c)):e=e.concat(c)}for(var u=0;u<r.length;u+=1){var f=i[u],h=e.length;$t.argument(h<65536,"Table "+t.tableName+" too big."),e[f]=h>>8,e[f+1]=h&255,e=e.concat(r[u])}return e};Ut.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],s=Ut[i.type];$t.argument(s!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=t[i.name];o===void 0&&(o=i.value),e+=s(o),i.type==="TABLE"&&(e+=2)}return e};tt.RECORD=tt.TABLE;Ut.RECORD=Ut.TABLE;tt.LITERAL=function(t){return t};Ut.LITERAL=function(t){return t.length};function yi(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}yi.prototype.encode=function(){return tt.TABLE(this)};yi.prototype.sizeOf=function(){return Ut.TABLE(this)};function $1(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function _S(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return i}function W1(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i=i.concat(n(e[s],s));return i}function F6(t){t.format===1?yi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat($1("glyph",t.glyphs))):t.format===2?yi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(W1("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):$t.assert(!1,"Coverage format must be 1 or 2.")}F6.prototype=Object.create(yi.prototype);F6.prototype.constructor=F6;function O6(t){yi.call(this,"scriptListTable",W1("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return $t.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new yi("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new yi("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat($1("featureIndex",i.featureIndexes)))}].concat(W1("langSys",r.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new yi("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat($1("featureIndex",a.featureIndexes)))}]})))}]}))}O6.prototype=Object.create(yi.prototype);O6.prototype.constructor=O6;function N6(t){yi.call(this,"featureListTable",W1("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new yi("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat($1("lookupListIndex",r.lookupListIndexes)))}]}))}N6.prototype=Object.create(yi.prototype);N6.prototype.constructor=N6;function U6(t,e){yi.call(this,"lookupListTable",_S("lookup",t,function(n){var r=e[n.lookupType];return $t.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new yi("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(_S("subtable",n.subtables,r)))}))}U6.prototype=Object.create(yi.prototype);U6.prototype.constructor=U6;var gt={Table:yi,Record:yi,Coverage:F6,ScriptList:O6,FeatureList:N6,LookupList:U6,ushortList:$1,tableList:_S,recordList:W1};function uk(t,e){return t.getUint8(e)}function G6(t,e){return t.getUint16(e,!1)}function vde(t,e){return t.getInt16(e,!1)}function iT(t,e){return t.getUint32(e,!1)}function Q$(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function yde(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function xde(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function _de(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function Ede(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var Cde={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function we(t,e){this.data=t,this.offset=e,this.relativeOffset=0}we.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};we.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};we.prototype.parseCard8=we.prototype.parseByte;we.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};we.prototype.parseCard16=we.prototype.parseUShort;we.prototype.parseSID=we.prototype.parseUShort;we.prototype.parseOffset16=we.prototype.parseUShort;we.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};we.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};we.prototype.parseULong=function(){var t=iT(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};we.prototype.parseOffset32=we.prototype.parseULong;we.prototype.parseFixed=function(){var t=Q$(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};we.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};we.prototype.parseTag=function(){return this.parseString(4)};we.prototype.parseLongDateTime=function(){var t=iT(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};we.prototype.parseVersion=function(t){var e=G6(this.data,this.offset+this.relativeOffset),n=G6(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};we.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=Cde[t]*e};we.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};we.prototype.parseOffset16List=we.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};we.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};we.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};we.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};we.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};we.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};we.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};we.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],s=t[i];n[i]=s.call(this)}return n};we.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};we.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};we.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new we(this.data,this.offset+e).parseStruct(t)};we.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new we(this.data,this.offset+e).parseStruct(t)};we.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){i[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=t.call(this);i[s]=l}else i[s]=this.parseUShortList()}return this.relativeOffset=r,i};we.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};we.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:we.uShort,end:we.uShort,classId:we.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};we.list=function(t,e){return function(){return this.parseList(t,e)}};we.list32=function(t,e){return function(){return this.parseList32(t,e)}};we.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};we.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};we.pointer=function(t){return function(){return this.parsePointer(t)}};we.pointer32=function(t){return function(){return this.parsePointer32(t)}};we.tag=we.prototype.parseTag;we.byte=we.prototype.parseByte;we.uShort=we.offset16=we.prototype.parseUShort;we.uShortList=we.prototype.parseUShortList;we.uLong=we.offset32=we.prototype.parseULong;we.uLongList=we.prototype.parseULongList;we.struct=we.prototype.parseStruct;we.coverage=we.prototype.parseCoverage;we.classDef=we.prototype.parseClassDef;var fk={reserved:we.uShort,reqFeatureIndex:we.uShort,featureIndexes:we.uShortList};we.prototype.parseScriptList=function(){return this.parsePointer(we.recordList({tag:we.tag,script:we.pointer({defaultLangSys:we.pointer(fk),langSysRecords:we.recordList({tag:we.tag,langSys:we.pointer(fk)})})}))||[]};we.prototype.parseFeatureList=function(){return this.parsePointer(we.recordList({tag:we.tag,feature:we.pointer({featureParams:we.offset16,lookupListIndexes:we.uShortList})}))||[]};we.prototype.parseLookupList=function(t){return this.parsePointer(we.list(we.pointer(function(){var e=this.parseUShort();$t.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(we.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};we.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();$t.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:we.offset32,featureTableSubstitutionOffset:we.offset32});return n})||[]};var Kt={getByte:uk,getCard8:uk,getUShort:G6,getCard16:G6,getShort:vde,getULong:iT,getFixed:Q$,getTag:yde,getOffset:xde,getBytes:_de,bytesToString:Ede,Parser:we};function Sde(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=i;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function wde(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new Kt.Parser(n,r+i+14),a=new Kt.Parser(n,r+i+16+s*2),l=new Kt.Parser(n,r+i+16+s*4),c=new Kt.Parser(n,r+i+16+s*6),u=r+i+16+s*8,f=0;f<s-1;f+=1)for(var h=void 0,d=o.parseUShort(),m=a.parseUShort(),A=l.parseShort(),v=c.parseUShort(),y=m;y<=d;y+=1)v!==0?(u=c.offset+c.relativeOffset-2,u+=v,u+=(y-m)*2,h=Kt.getUShort(n,u),h!==0&&(h=h+A&65535)):h=y+A&65535,t.glyphIndexMap[y]=h}function bde(t,e){var n={};n.version=Kt.getUShort(t,e),$t.argument(n.version===0,"cmap table version should be 0."),n.numTables=Kt.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var s=Kt.getUShort(t,e+4+i*8),o=Kt.getUShort(t,e+4+i*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){r=Kt.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new Kt.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)Sde(n,a);else if(n.format===4)wde(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function Ide(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function Tde(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function Mde(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new gt.Table("cmap",i);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)Ide(s,o.unicodes[a],n);s.segments=s.segments.sort(function(_,x){return _.start-x.start})}Tde(s);var l=s.segments.length,c=0,u=[],f=[],h=[],d=[],m=[],A=[];for(n=0;n<l;n+=1){var v=s.segments[n];v.end<=65535&&v.start<=65535?(u=u.concat({name:"end_"+n,type:"USHORT",value:v.end}),f=f.concat({name:"start_"+n,type:"USHORT",value:v.start}),h=h.concat({name:"idDelta_"+n,type:"SHORT",value:v.delta}),d=d.concat({name:"idRangeOffset_"+n,type:"USHORT",value:v.offset}),v.glyphId!==void 0&&(m=m.concat({name:"glyph_"+n,type:"USHORT",value:v.glyphId}))):c+=1,!e&&v.glyphIndex!==void 0&&(A=A.concat({name:"cmap12Start_"+n,type:"ULONG",value:v.start}),A=A.concat({name:"cmap12End_"+n,type:"ULONG",value:v.end}),A=A.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:v.glyphIndex}))}if(s.segCountX2=(l-c)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(u),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(f),s.fields=s.fields.concat(h),s.fields=s.fields.concat(d),s.fields=s.fields.concat(m),s.cmap4Length=14+u.length*2+2+f.length*2+h.length*2+d.length*2+m.length*2,!e){var y=16+A.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:y},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:A.length/3}]),s.fields=s.fields.concat(A)}return s}var Bde={parse:bde,make:Mde},N5=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Rde=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Pde=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],hk=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function H$(t){this.font=t}H$.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===e)return r}return null};function z6(t,e){this.encoding=t,this.charset=e}z6.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function Dde(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var yh={line:Dde};function Lde(t,e){var n=e||new ci;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function ua(t){this.bindConstructorValues(t)}ua.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",Lde(this,t.path))};ua.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};ua.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};ua.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)s=i.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new ci,f=0;f<s.length;f+=1){var h=s[f];h.type==="M"?u.moveTo(t+h.x*a,e+-h.y*l):h.type==="L"?u.lineTo(t+h.x*a,e+-h.y*l):h.type==="Q"?u.quadraticCurveTo(t+h.x1*a,e+-h.y1*l,t+h.x*a,e+-h.y*l):h.type==="C"?u.curveTo(t+h.x1*a,e+-h.y1*l,t+h.x2*a,e+-h.y2*l,t+h.x*a,e+-h.y*l):h.type==="Z"&&u.closePath()}return u};ua.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return $t.argument(e.length===0,"There are still points left in the current contour."),t};ua.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};ua.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};ua.prototype.drawPoints=function(t,e,n,r){function i(f,h,d,m){t.beginPath();for(var A=0;A<f.length;A+=1)t.moveTo(h+f[A].x*m,d+f[A].y*m),t.arc(h+f[A].x*m,d+f[A].y*m,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",i(o,e,n,s),t.fillStyle="red",i(a,e,n,s)};ua.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",yh.line(t,e,-1e4,e,1e4),yh.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",yh.line(t,e+s*i,-1e4,e+s*i,1e4),yh.line(t,e+a*i,-1e4,e+a*i,1e4),yh.line(t,-1e4,n+-o*i,1e4,n+-o*i),yh.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",yh.line(t,e+c*i,-1e4,e+c*i,1e4)};function Uy(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function sT(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}sT.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};sT.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function kde(t,e){return new ua({index:e,font:t})}function Fde(t,e,n,r,i,s){return function(){var o=new ua({index:e,font:t});return o.path=function(){n(o,r,i);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},Uy(o,"xMin","_xMin"),Uy(o,"xMax","_xMax"),Uy(o,"yMin","_yMin"),Uy(o,"yMax","_yMax"),o}}function Ode(t,e,n,r){return function(){var i=new ua({index:e,font:t});return i.path=function(){var s=n(t,i,r);return s.unitsPerEm=t.unitsPerEm,s},i}}var Bl={GlyphSet:sT,glyphLoader:kde,ttfGlyphLoader:Fde,cffGlyphLoader:Ode};function V$(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!V$(t[n],e[n]))return!1;return!0}else return!1}function ES(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function Lu(t,e,n){var r=[],i=[],s=Kt.getCard16(t,e),o,a;if(s!==0){var l=Kt.getByte(t,e+2);o=e+(s+1)*l+2;for(var c=e+3,u=0;u<s+1;u+=1)r.push(Kt.getOffset(t,c,l)),c+=l;a=o+r[s]}else a=e+2;for(var f=0;f<r.length-1;f+=1){var h=Kt.getBytes(t,o+r[f],o+r[f+1]);n&&(h=n(h)),i.push(h)}return{objects:i,startOffset:e,endOffset:a}}function Nde(t,e){var n=[],r=Kt.getCard16(t,e),i,s;if(r!==0){var o=Kt.getByte(t,e+2);i=e+(r+1)*o+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(Kt.getOffset(t,a,o)),a+=o;s=i+n[r]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function Ude(t,e,n,r,i){var s=Kt.getCard16(n,r),o=0;if(s!==0){var a=Kt.getByte(n,r+2);o=r+(s+1)*a+2}var l=Kt.getBytes(n,o+e[t],o+e[t+1]);return i&&(l=i(l)),l}function Gde(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),s=i>>4,o=i&15;if(s===n||(e+=r[s],o===n))break;e+=r[o]}return parseFloat(e)}function zde(t,e){var n,r,i,s;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),s=t.parseByte(),n<<24|r<<16|i<<8|s;if(e===30)return Gde(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function Qde(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],s=void 0;if(i.length===1?s=i[0]:s=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=s}return e}function $$(t,e,n){e=e!==void 0?e:0;var r=new Kt.Parser(t,e),i=[],s=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(o===12&&(o=1200+r.parseByte()),i.push([o,s]),s=[]):s.push(zde(r,o))}return Qde(i)}function F3(t,e){return e<=390?e=N5[e]:e=t[e-391],e}function W$(t,e,n){for(var r={},i,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)i=t[o.op]!==void 0?t[o.op][l]:void 0,i===void 0&&(i=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(i=F3(n,i)),a[l]=i;r[o.name]=a}else i=t[o.op],i===void 0&&(i=o.value!==void 0?o.value:null),o.type==="SID"&&(i=F3(n,i)),r[o.name]=i}return r}function Hde(t,e){var n={};return n.formatMajor=Kt.getCard8(t,e),n.formatMinor=Kt.getCard8(t,e+1),n.size=Kt.getCard8(t,e+2),n.offsetSize=Kt.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var j$=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],K$=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Vde(t,e){var n=$$(t,0,t.byteLength);return W$(n,j$,e)}function J$(t,e,n,r){var i=$$(t,e,n);return W$(i,K$,r)}function dk(t,e,n,r){for(var i=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=Vde(o,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=J$(t,c+e,l,r);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var f=c+u.subrs,h=Lu(t,f+e);a._subrs=h.objects,a._subrsBias=ES(a._subrs)}a._privateDict=u}i.push(a)}return i}function $de(t,e,n,r){var i,s,o=new Kt.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var c=0;c<n;c+=1)i=o.parseSID(),a.push(F3(r,i));else if(l===1)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push(F3(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard16();for(var f=0;f<=s;f+=1)a.push(F3(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function Wde(t,e,n){var r,i={},s=new Kt.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)r=s.parseCard8(),i[r]=l;else if(o===1){var c=s.parseCard8();r=1;for(var u=0;u<c;u+=1)for(var f=s.parseCard8(),h=s.parseCard8(),d=f;d<=f+h;d+=1)i[d]=r,r+=1}else throw new Error("Unknown encoding format "+o);return new z6(i,n)}function pk(t,e,n){var r,i,s,o,a=new ci,l=[],c=0,u=!1,f=!1,h=0,d=0,m,A,v,y;if(t.isCIDFont){var _=t.tables.cff.topDict._fdSelect[e.index],x=t.tables.cff.topDict._fdArray[_];m=x._subrs,A=x._subrsBias,v=x._defaultWidthX,y=x._nominalWidthX}else m=t.tables.cff.topDict._subrs,A=t.tables.cff.topDict._subrsBias,v=t.tables.cff.topDict._defaultWidthX,y=t.tables.cff.topDict._nominalWidthX;var E=v;function b(C,I){f&&a.closePath(),a.moveTo(C,I),f=!0}function w(){var C;C=l.length%2!==0,C&&!u&&(E=l.shift()+y),c+=l.length>>1,l.length=0,u=!0}function T(C){for(var I,B,R,L,z,O,G,j,J,N,V,Q,Z=0;Z<C.length;){var re=C[Z];switch(Z+=1,re){case 1:w();break;case 3:w();break;case 4:l.length>1&&!u&&(E=l.shift()+y,u=!0),d+=l.pop(),b(h,d);break;case 5:for(;l.length>0;)h+=l.shift(),d+=l.shift(),a.lineTo(h,d);break;case 6:for(;l.length>0&&(h+=l.shift(),a.lineTo(h,d),l.length!==0);)d+=l.shift(),a.lineTo(h,d);break;case 7:for(;l.length>0&&(d+=l.shift(),a.lineTo(h,d),l.length!==0);)h+=l.shift(),a.lineTo(h,d);break;case 8:for(;l.length>0;)r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(r,i,s,o,h,d);break;case 10:z=l.pop()+A,O=m[z],O&&T(O);break;case 11:return;case 12:switch(re=C[Z],Z+=1,re){case 35:r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),G=s+l.shift(),j=o+l.shift(),J=G+l.shift(),N=j+l.shift(),V=J+l.shift(),Q=N+l.shift(),h=V+l.shift(),d=Q+l.shift(),l.shift(),a.curveTo(r,i,s,o,G,j),a.curveTo(J,N,V,Q,h,d);break;case 34:r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),G=s+l.shift(),j=o,J=G+l.shift(),N=o,V=J+l.shift(),Q=d,h=V+l.shift(),a.curveTo(r,i,s,o,G,j),a.curveTo(J,N,V,Q,h,d);break;case 36:r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),G=s+l.shift(),j=o,J=G+l.shift(),N=o,V=J+l.shift(),Q=N+l.shift(),h=V+l.shift(),a.curveTo(r,i,s,o,G,j),a.curveTo(J,N,V,Q,h,d);break;case 37:r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),G=s+l.shift(),j=o+l.shift(),J=G+l.shift(),N=j+l.shift(),V=J+l.shift(),Q=N+l.shift(),Math.abs(V-h)>Math.abs(Q-d)?h=V+l.shift():d=Q+l.shift(),a.curveTo(r,i,s,o,G,j),a.curveTo(J,N,V,Q,h,d);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+re),l.length=0}break;case 14:l.length>0&&!u&&(E=l.shift()+y,u=!0),f&&(a.closePath(),f=!1);break;case 18:w();break;case 19:case 20:w(),Z+=c+7>>3;break;case 21:l.length>2&&!u&&(E=l.shift()+y,u=!0),d+=l.pop(),h+=l.pop(),b(h,d);break;case 22:l.length>1&&!u&&(E=l.shift()+y,u=!0),h+=l.pop(),b(h,d);break;case 23:w();break;case 24:for(;l.length>2;)r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(r,i,s,o,h,d);h+=l.shift(),d+=l.shift(),a.lineTo(h,d);break;case 25:for(;l.length>6;)h+=l.shift(),d+=l.shift(),a.lineTo(h,d);r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(r,i,s,o,h,d);break;case 26:for(l.length%2&&(h+=l.shift());l.length>0;)r=h,i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s,d=o+l.shift(),a.curveTo(r,i,s,o,h,d);break;case 27:for(l.length%2&&(d+=l.shift());l.length>0;)r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o,a.curveTo(r,i,s,o,h,d);break;case 28:I=C[Z],B=C[Z+1],l.push((I<<24|B<<16)>>16),Z+=2;break;case 29:z=l.pop()+t.gsubrsBias,O=t.gsubrs[z],O&&T(O);break;case 30:for(;l.length>0&&(r=h,i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d),l.length!==0);)r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),d=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d);break;case 31:for(;l.length>0&&(r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),d=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d),l.length!==0);)r=h,i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d);break;default:re<32?console.log("Glyph "+e.index+": unknown operator "+re):re<247?l.push(re-139):re<251?(I=C[Z],Z+=1,l.push((re-247)*256+I+108)):re<255?(I=C[Z],Z+=1,l.push(-(re-251)*256-I-108)):(I=C[Z],B=C[Z+1],R=C[Z+2],L=C[Z+3],Z+=4,l.push((I<<24|B<<16|R<<8|L)/65536))}}}return T(n),e.advanceWidth=E,a}function jde(t,e,n,r){var i=[],s,o=new Kt.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");i.push(s)}else if(a===3){var c=o.parseCard16(),u=o.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var f,h=0;h<c;h++){if(s=o.parseCard8(),f=o.parseCard16(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");if(f>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+f);for(;u<f;u++)i.push(s);u=f}if(f!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+f)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function Kde(t,e,n,r){n.tables.cff={};var i=Hde(t,e),s=Lu(t,i.endOffset,Kt.bytesToString),o=Lu(t,s.endOffset),a=Lu(t,o.endOffset,Kt.bytesToString),l=Lu(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=ES(n.gsubrs);var c=dk(t,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var f=u.fdArray,h=u.fdSelect;if(f===0||h===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");f+=e;var d=Lu(t,f),m=dk(t,e,d.objects,a.objects);u._fdArray=m,h+=e,u._fdSelect=jde(t,h,n.numGlyphs,m.length)}var A=e+u.private[1],v=J$(t,A,u.private[0],a.objects);if(n.defaultWidthX=v.defaultWidthX,n.nominalWidthX=v.nominalWidthX,v.subrs!==0){var y=A+v.subrs,_=Lu(t,y);n.subrs=_.objects,n.subrsBias=ES(n.subrs)}else n.subrs=[],n.subrsBias=0;var x;r.lowMemory?(x=Nde(t,e+u.charStrings),n.nGlyphs=x.offsets.length):(x=Lu(t,e+u.charStrings),n.nGlyphs=x.objects.length);var E=$de(t,e+u.charset,n.nGlyphs,a.objects);if(u.encoding===0?n.cffEncoding=new z6(Rde,E):u.encoding===1?n.cffEncoding=new z6(Pde,E):n.cffEncoding=Wde(t,e+u.encoding,E),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Bl.GlyphSet(n),r.lowMemory)n._push=function(T){var C=Ude(T,x.offsets,t,e+u.charStrings);n.glyphs.push(T,Bl.cffGlyphLoader(n,T,pk,C))};else for(var b=0;b<n.nGlyphs;b+=1){var w=x.objects[b];n.glyphs.push(b,Bl.cffGlyphLoader(n,b,pk,w))}}function Y$(t,e){var n,r=N5.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+N5.length:(n=N5.length+e.length,e.push(t)),n}function Jde(){return new gt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Yde(t){var e=new gt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function X$(t,e,n){for(var r={},i=0;i<t.length;i+=1){var s=t[i],o=e[s.name];o!==void 0&&!V$(o,s.value)&&(s.type==="SID"&&(o=Y$(o,n)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function mk(t,e){var n=new gt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=X$(j$,t,e),n}function gk(t){var e=new gt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function Xde(t){var e=new gt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function qde(){return new gt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Zde(t,e){for(var n=new gt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],s=Y$(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:s})}return n}function epe(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*r+u*l.x1),y1:Math.round(c*i+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var f=Math.round(l.x1-r),h=Math.round(l.y1-i),d=Math.round(l.x2-l.x1),m=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:f}),e.push({name:"dy1",type:"NUMBER",value:h}),e.push({name:"dx2",type:"NUMBER",value:d}),e.push({name:"dy2",type:"NUMBER",value:m}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function tpe(t){for(var e=new gt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=epe(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function npe(t,e){var n=new gt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=X$(K$,t,e),n}function rpe(t,e){for(var n=new gt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var c=[];n.header=Jde(),n.nameIndex=Yde([e.postScriptName]);var u=mk(i,c);n.topDictIndex=gk(u),n.globalSubrIndex=qde(),n.charsets=Zde(o,c),n.charStringsIndex=tpe(t),n.privateDict=npe(s,c),n.stringIndex=Xde(c);var f=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=f,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),u=mk(i,c),n.topDictIndex=gk(u),n}var ipe={parse:Kde,make:rpe};function spe(t,e){var n={},r=new Kt.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),$t.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function ope(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new gt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var ape={parse:spe,make:ope};function lpe(t,e){var n={},r=new Kt.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function cpe(t){return new gt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var upe={parse:lpe,make:cpe};function fpe(t,e,n,r,i){for(var s,o,a=new Kt.Parser(t,e),l=0;l<r;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var c=i.get(l);c.advanceWidth=s,c.leftSideBearing=o}}function hpe(t,e,n,r,i){t._hmtxTableData={};for(var s,o,a=new Kt.Parser(e,n),l=0;l<i;l+=1)l<r&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function dpe(t,e,n,r,i,s,o){o.lowMemory?hpe(t,e,n,r,i):fpe(e,n,r,i,s)}function ppe(t){for(var e=new gt.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var mpe={parse:dpe,make:ppe};function gpe(t){for(var e=new gt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var s=n.indexOf(t[i]);s<0&&(s=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+s}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function Ape(t,e){var n=new Kt.Parser(t,e),r=n.parseULong();$t.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=e+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(t.getInt8(u));s.push(a)}return s}var vpe={make:gpe,parse:Ape};function ype(t,e){var n={},r=new Kt.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function xpe(t){return new gt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var _pe={parse:ype,make:xpe},q$=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Z$={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Epe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},eW={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Cpe(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return Z$[e];case 3:return eW[e]}}var CS="utf-16",Spe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},wpe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function tW(t,e,n){switch(t){case 0:return CS;case 1:return wpe[n]||Spe[e];case 3:if(e===1||e===10)return CS;break}}function bpe(t,e,n){for(var r={},i=new Kt.Parser(t,e),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var c=i.parseUShort(),u=i.parseUShort(),f=i.parseUShort(),h=i.parseUShort(),d=q$[h]||h,m=i.parseUShort(),A=i.parseUShort(),v=Cpe(c,f,n),y=tW(c,u,f);if(y!==void 0&&v!==void 0){var _=void 0;if(y===CS?_=tm.UTF16(t,a+A,m):_=tm.MACSTRING(t,a+A,m,y),_){var x=r[d];x===void 0&&(x=r[d]={}),x[v]=_}}}return s===1&&i.parseUShort(),r}function g7(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function Ak(t,e,n,r,i,s){return new gt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function Ipe(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var s=0;s<n;s++)if(e[i+s]!==t[s])continue e;return i}return-1}function vk(t,e){var n=Ipe(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function Tpe(t,e){var n,r=[],i={},s=g7(q$);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=t[o],r.push(n)}for(var l=g7(Z$),c=g7(eW),u=[],f=[],h=0;h<r.length;h++){n=r[h];var d=i[n];for(var m in d){var A=d[m],v=1,y=l[m],_=Epe[y],x=tW(v,_,y),E=tt.MACSTRING(A,x);E===void 0&&(v=0,y=e.indexOf(m),y<0&&(y=e.length,e.push(m)),_=4,E=tt.UTF16(A));var b=vk(E,f);u.push(Ak(v,_,y,n,E.length,b));var w=c[m];if(w!==void 0){var T=tt.UTF16(A),C=vk(T,f);u.push(Ak(3,1,w,n,T.length,C))}}}u.sort(function(R,L){return R.platformID-L.platformID||R.encodingID-L.encodingID||R.languageID-L.languageID||R.nameID-L.nameID});for(var I=new gt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),B=0;B<u.length;B++)I.fields.push({name:"record_"+B,type:"RECORD",value:u[B]});return I.fields.push({name:"strings",type:"LITERAL",value:f}),I}var Mpe={parse:bpe,make:Tpe},SS=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Bpe(t){for(var e=0;e<SS.length;e+=1){var n=SS[e];if(t>=n.begin&&t<n.end)return e}return-1}function Rpe(t,e){var n={},r=new Kt.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function Ppe(t){return new gt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var yk={parse:Rpe,make:Ppe,unicodeRanges:SS,getUnicodeRange:Bpe};function Dpe(t,e){var n={},r=new Kt.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=hk.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=hk.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function Lpe(){return new gt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var kpe={parse:Dpe,make:Lpe},ka=new Array(9);ka[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(we.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(we.coverage),substitute:this.parseOffset16List()};$t.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};ka[2]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(we.coverage),sequences:this.parseListOfLists()}};ka[3]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(we.coverage),alternateSets:this.parseListOfLists()}};ka[4]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(we.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var E0={sequenceIndex:we.uShort,lookupListIndex:we.uShort};ka[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(we.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,E0)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(we.coverage),classDef:this.parsePointer(we.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,E0)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,we.pointer(we.coverage)),lookupRecords:this.parseRecordList(i,E0)}}$t.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};ka[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(we.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(E0)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(we.coverage),backtrackClassDef:this.parsePointer(we.classDef),inputClassDef:this.parsePointer(we.classDef),lookaheadClassDef:this.parsePointer(we.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(E0)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(we.pointer(we.coverage)),inputCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),lookupRecords:this.parseRecordList(E0)};$t.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};ka[7]=function(){var e=this.parseUShort();$t.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new we(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:ka[n].call(r)}};ka[8]=function(){var e=this.parseUShort();return $t.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(we.coverage),backtrackCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),substitutes:this.parseUShortList()}};function Fpe(t,e){e=e||0;var n=new we(t,e),r=n.parseVersion(1);return $t.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ka)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(ka),variations:n.parseFeatureVariationsList()}}var Om=new Array(9);Om[1]=function(e){return e.substFormat===1?new gt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new gt.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new gt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new gt.Coverage(e.coverage)}].concat(gt.ushortList("substitute",e.substitute)))};Om[2]=function(e){return $t.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new gt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new gt.Coverage(e.coverage)}].concat(gt.tableList("seqSet",e.sequences,function(n){return new gt.Table("sequenceSetTable",gt.ushortList("sequence",n))})))};Om[3]=function(e){return $t.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new gt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new gt.Coverage(e.coverage)}].concat(gt.tableList("altSet",e.alternateSets,function(n){return new gt.Table("alternateSetTable",gt.ushortList("alternate",n))})))};Om[4]=function(e){return $t.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new gt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new gt.Coverage(e.coverage)}].concat(gt.tableList("ligSet",e.ligatureSets,function(n){return new gt.Table("ligatureSetTable",gt.tableList("ligature",n,function(r){return new gt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(gt.ushortList("component",r.components,r.components.length+1)))}))})))};Om[6]=function(e){if(e.substFormat===1){var n=new gt.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new gt.Coverage(e.coverage)}].concat(gt.tableList("chainRuleSet",e.chainRuleSets,function(s){return new gt.Table("chainRuleSetTable",gt.tableList("chainRule",s,function(o){var a=gt.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(gt.ushortList("inputGlyph",o.input,o.input.length+1)).concat(gt.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(gt.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new gt.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)$t.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){r.push({name:"backtrackCoverage"+o,type:"TABLE",value:new gt.Coverage(s)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){r.push({name:"inputCoverage"+o,type:"TABLE",value:new gt.Coverage(s)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){r.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new gt.Coverage(s)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){r=r.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var i=new gt.Table("chainContextTable",r);return i}$t.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function Ope(t){return new gt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new gt.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new gt.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new gt.LookupList(t.lookups,Om)}])}var Npe={parse:Fpe,make:Ope};function Upe(t,e){var n=new Kt.Parser(t,e),r=n.parseULong();$t.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),s={},o=0;o<i;o++){var a=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=tm.UTF8(t,e+l,c);s[a]=u}return s}function Gpe(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new gt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),i.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var zpe={parse:Upe,make:Gpe};function xk(t){return Math.log(t)/Math.log(2)|0}function oT(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function _k(t,e,n,r){return new gt.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function nW(t){var e=new gt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,xk(e.numTables));e.searchRange=16*n,e.entrySelector=xk(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],s=e.sizeOf()+_k().sizeOf()*e.numTables;s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];$t.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=_k(a.tableName,oT(a.encode()),s,l);for(r.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,$t.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(u,f){return u.value.tag>f.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function Ek(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var s=t.glyphs.get(i);return s.getMetrics()}}return n}function Qpe(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function Hpe(t){for(var e=[],n=[],r=[],i=[],s=[],o=[],a=[],l,c=0,u=0,f=0,h=0,d=0,m=0;m<t.glyphs.length;m+=1){var A=t.glyphs.get(m),v=A.unicode|0;if(isNaN(A.advanceWidth))throw new Error("Glyph "+A.name+" ("+m+"): advanceWidth is not a number.");(l>v||l===void 0)&&v>0&&(l=v),c<v&&(c=v);var y=yk.getUnicodeRange(v);if(y<32)u|=1<<y;else if(y<64)f|=1<<y-32;else if(y<96)h|=1<<y-64;else if(y<123)d|=1<<y-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(A.name!==".notdef"){var _=A.getMetrics();e.push(_.xMin),n.push(_.yMin),r.push(_.xMax),i.push(_.yMax),o.push(_.leftSideBearing),a.push(_.rightSideBearing),s.push(A.advanceWidth)}}var x={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:Qpe(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};x.ascender=t.ascender,x.descender=t.descender;var E=ape.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),b=upe.make({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:t.glyphs.length}),w=_pe.make(t.glyphs.length),T=yk.make(Object.assign({xAvgCharWidth:Math.round(x.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:f,ulUnicodeRange3:h,ulUnicodeRange4:d,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.yMax,usWinDescent:Math.abs(x.yMin),ulCodePageRange1:1,sxHeight:Ek(t,"xyvw",{yMax:Math.round(x.ascender/2)}).yMax,sCapHeight:Ek(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),C=mpe.make(t.glyphs),I=Bde.make(t.glyphs),B=t.getEnglishName("fontFamily"),R=t.getEnglishName("fontSubfamily"),L=B+" "+R,z=t.getEnglishName("postScriptName");z||(z=B.replace(/\s/g,"")+"-"+R);var O={};for(var G in t.names)O[G]=t.names[G];O.uniqueID||(O.uniqueID={en:t.getEnglishName("manufacturer")+":"+L}),O.postScriptName||(O.postScriptName={en:z}),O.preferredFamily||(O.preferredFamily=t.names.fontFamily),O.preferredSubfamily||(O.preferredSubfamily=t.names.fontSubfamily);var j=[],J=Mpe.make(O,j),N=j.length>0?vpe.make(j):void 0,V=kpe.make(),Q=ipe.make(t.glyphs,{version:t.getEnglishName("version"),fullName:L,familyName:B,weightName:R,postScriptName:z,unitsPerEm:t.unitsPerEm,fontBBox:[0,x.yMin,x.ascender,x.advanceWidthMax]}),Z=t.metas&&Object.keys(t.metas).length>0?zpe.make(t.metas):void 0,re=[E,b,w,T,J,I,V,Q,C];N&&re.push(N),t.tables.gsub&&re.push(Npe.make(t.tables.gsub)),Z&&re.push(Z);for(var ge=nW(re),Ee=ge.encode(),be=oT(Ee),oe=ge.fields,Fe=!1,he=0;he<oe.length;he+=1)if(oe[he].name==="head table"){oe[he].value.checkSumAdjustment=2981146554-be,Fe=!0;break}if(!Fe)throw new Error("Could not find head table with checkSum to adjust.");return ge}var Vpe={make:nW,fontToTable:Hpe,computeCheckSum:oT};function A7(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i].tag;if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function Ck(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i];if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function Sk(t,e){for(var n,r=0,i=t.length-1;r<=i;){var s=r+i>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?r=s+1:i=s-1}if(r>0)return n=t[r-1],e>n.end?0:n}function nA(t,e){this.font=t,this.tableName=e}nA.prototype={searchTag:A7,binSearch:Ck,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=A7(n.scripts,t);if(i>=0)return r[i].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,s),s.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=A7(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(r){var c=a.length;return $t.assert(c===0||n>=a[c-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(c),s.feature}}},getLookupTables:function(t,e,n,r,i){var s=this.getFeatureTable(t,e,n,i),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===r&&o.push(a);if(o.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var f=c.length;return c.push(a),l.push(f),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=Sk(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=Ck(t.glyphs,e);return n>=0?n:-1;case 2:var r=Sk(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],s=i.start,o=i.end,a=s;a<=o;a++)e.push(a);return e}};function rA(t){nA.call(this,t,"gpos")}rA.prototype=nA.prototype;rA.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};rA.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var f=this.getGlyphClass(o.classDef1,e),h=this.getGlyphClass(o.classDef2,n),d=o.classRecords[f][h];return d.value1&&d.value1.xAdvance||0}}return 0};rA.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function vo(t){nA.call(this,t,"gsub")}function $pe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function aT(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var s=r[i];if(s.substFormat===e)return s}if(n)return r.push(n),n}vo.prototype=nA.prototype;vo.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};vo.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var f=l.deltaGlyphId;for(u=0;u<c.length;u++){var h=c[u];r.push({sub:h,by:h+f})}}else{var d=l.substitute;for(u=0;u<c.length;u++)r.push({sub:c[u],by:d[u]})}}return r};vo.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var f=c[u],h=l.sequences[u];r.push({sub:f,by:h})}}return r};vo.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,f=0;f<c.length;f++)r.push({sub:c[f],by:u[f]});return r};vo.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,f=0;f<c.length;f++)for(var h=c[f],d=u[f],m=0;m<d.length;m++){var A=d[m];r.push({sub:[h].concat(A.components),by:A.ligGlyph})}return r};vo.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],s=aT(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});$t.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};vo.prototype.addMultiple=function(t,e,n,r){$t.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],s=aT(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});$t.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};vo.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],s=aT(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});$t.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};vo.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),$t.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(c>=0){for(var u=s.ligatureSets[c],f=0;f<u.length;f++)if($pe(u[f].components,a))return;u.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,o),s.ligatureSets.splice(c,0,[l])};vo.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};vo.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function Wpe(){return typeof window<"u"}function jpe(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function Ng(t,e){if(!t)throw e}function wk(t,e,n,r,i){var s;return(e&r)>0?(s=t.parseByte(),e&i||(s=-s),s=n+s):(e&i)>0?s=n:s=n+t.parseShort(),s}function rW(t,e,n){var r=new Kt.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var c=o[o.length-1]+1;i=[];for(var u=0;u<c;u+=1)if(s=r.parseByte(),i.push(s),(s&8)>0)for(var f=r.parseByte(),h=0;h<f;h+=1)i.push(s),u+=1;if($t.argument(i.length===c,"Bad flags."),o.length>0){var d=[],m;if(c>0){for(var A=0;A<c;A+=1)s=i[A],m={},m.onCurve=!!(s&1),m.lastPointOfContour=o.indexOf(A)>=0,d.push(m);for(var v=0,y=0;y<c;y+=1)s=i[y],m=d[y],m.x=wk(r,s,v,2,16),v=m.x;for(var _=0,x=0;x<c;x+=1)s=i[x],m=d[x],m.y=wk(r,s,_,4,32),_=m.y}t.points=d}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var E=!0;E;){i=r.parseUShort();var b={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(b.dx=r.parseShort(),b.dy=r.parseShort()):b.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(b.dx=r.parseChar(),b.dy=r.parseChar()):b.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?b.xScale=b.yScale=r.parseF2Dot14():(i&64)>0?(b.xScale=r.parseF2Dot14(),b.yScale=r.parseF2Dot14()):(i&128)>0&&(b.xScale=r.parseF2Dot14(),b.scale01=r.parseF2Dot14(),b.scale10=r.parseF2Dot14(),b.yScale=r.parseF2Dot14()),t.components.push(b),E=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var w=0;w<t.instructionLength;w+=1)t.instructions.push(r.parseByte())}}}function v7(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],s={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(s)}return n}function Kpe(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return $t.argument(n.length===0,"There are still points left in the current contour."),e}function iW(t){var e=new ci;if(!t)return e;for(var n=Kpe(t),r=0;r<n.length;++r){var i=n[r],s=null,o=i[i.length-1],a=i[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<i.length;++c)if(s=o,o=a,a=i[(c+1)%i.length],o.onCurve)e.lineTo(o.x,o.y);else{var u=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(u={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,u.x,u.y)}e.closePath()}return e}function sW(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(r.matchedPoints===void 0)s=v7(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=v7([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=v7(i.points,l)}e.points=e.points.concat(s)}}return iW(e.points)}function Jpe(t,e,n,r){for(var i=new Bl.GlyphSet(r),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?i.push(s,Bl.ttfGlyphLoader(r,s,rW,t,e+o,sW)):i.push(s,Bl.glyphLoader(r,s))}return i}function Ype(t,e,n,r){var i=new Bl.GlyphSet(r);return r._push=function(s){var o=n[s],a=n[s+1];o!==a?i.push(s,Bl.ttfGlyphLoader(r,s,rW,t,e+o,sW)):i.push(s,Bl.glyphLoader(r,s))},i}function Xpe(t,e,n,r,i){return i.lowMemory?Ype(t,e,n,r):Jpe(t,e,n,r)}var qpe={getPath:iW,parse:Xpe},oW,yd,aW,wS;function lW(t){this.font=t,this.getCommands=function(e){return qpe.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Zpe(t){return t}function cW(t){return Math.sign(t)*Math.round(Math.abs(t))}function e0e(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function t0e(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function n0e(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function r0e(t){return Math.sign(t)*Math.floor(Math.abs(t))}var uW=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},_l={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,c=n.x-n.xo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){t.x=t.xo+(l+c)/2;return}t.x=t.xo+(l*a+c*o)/u;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){_l.setRelative(t,t,(l+c)/2,r,!0);return}_l.setRelative(t,t,(l*a+c*o)/u,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},wc={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,c=n.y-n.yo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){t.y=t.yo+(l+c)/2;return}t.y=t.yo+(l*a+c*o)/u;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){wc.setRelative(t,t,(l+c)/2,r,!0);return}wc.setRelative(t,t,(l*a+c*o)/u,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(_l);Object.freeze(wc);function iA(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}iA.prototype.distance=function(t,e,n,r){return this.x*_l.distance(t,e,n,r)+this.y*wc.distance(t,e,n,r)};iA.prototype.interpolate=function(t,e,n,r){var i,s,o,a,l,c,u;if(o=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),s=r.distance(n,n,!1,!0),l=Math.abs(o),c=Math.abs(a),u=l+c,u===0){this.setRelative(t,t,(i+s)/2,r,!0);return}this.setRelative(t,t,(i*c+s*l)/u,r,!0)};iA.prototype.setRelative=function(t,e,n,r,i){r=r||this;var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y,c=r.normalSlope,u=this.slope,f=t.x,h=t.y;t.x=(u*f-c*a+l-h)/(u-c),t.y=u*(t.x-f)+h};iA.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function sA(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?_l:t===0&&e===1?wc:new iA(t,e)}function Bc(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Bc.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Bc.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var j1=Object.freeze(new Bc(0,0)),i0e={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ju(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=_l,this.round=cW}}lW.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Ju.prototype=i0e,i=this._fpgmState=new Ju("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,Me.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{yd(i)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}Ju.prototype=i,r=this._prepState=new Ju("prep",n.tables.prep),r.ppem=e;var s=n.tables.cvt;if(s)for(var o=r.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else r.cvt=[];Me.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{yd(r)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return aW(t,r)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};aW=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,s,o,a;if(Ju.prototype=e,!i)a=new Ju("glyf",t.instructions),Me.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),wS(t,a,n,r),o=a.gZone;else{var l=e.font;o=[],s=[];for(var c=0;c<i.length;c++){var u=i[c],f=l.glyphs.get(u.glyphIndex);a=new Ju("glyf",f.instructions),Me.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),wS(f,a,n,r);for(var h=Math.round(u.dx*n),d=Math.round(u.dy*r),m=a.gZone,A=a.contours,v=0;v<m.length;v++){var y=m[v];y.xTouched=y.yTouched=!1,y.xo=y.x=y.x+h,y.yo=y.y=y.y+d}var _=o.length;o.push.apply(o,m);for(var x=0;x<A.length;x++)s.push(A[x]+_)}t.instructions&&!a.inhibitGridFit&&(a=new Ju("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new Bc(0,0),new Bc(Math.round(t.advanceWidth*n),0)),Me.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),yd(a),o.length-=2)}return o};wS=function(t,e,n,r){for(var i=t.points||[],s=i.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<s;c++)l=i[c],o[c]=new Bc(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var u,f,h=0;h<s;h++)l=o[h],u||(u=l,a.push(h)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(f=o[h+1],l.nextPointOnContour=f,f.prevPointOnContour=l);if(!e.inhibitGridFit){if(Me.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var d=0;d<s;d++)console.log(d,o[d].x,o[d].y)}if(o.push(new Bc(0,0),new Bc(Math.round(t.advanceWidth*n),0)),yd(e),o.length-=2,Me.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}}};yd=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(Me.DEBUG&&t.step++,r=oW[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function D8(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Bc(0,0)}function fW(t,e){var n=t.prog,r=t.ip,i=1,s;do if(s=n[++r],s===88)i++;else if(s===89)i--;else if(s===64)r+=n[r+1]+1;else if(s===65)r+=2*n[r+1]+1;else if(s>=176&&s<=183)r+=s-176+1;else if(s>=184&&s<=191)r+=(s-184+1)*2;else if(e&&i===1&&s===27)break;while(i>0);t.ip=r}function bk(t,e){Me.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function Ik(t,e){Me.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function Tk(t,e){Me.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function Mk(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];Me.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=sA(a,l)}function Bk(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];Me.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=sA(a,l)}function s0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=sA(r,n)}function o0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=sA(r,n)}function a0e(t){var e=t.stack,n=t.pv;Me.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function l0e(t){var e=t.stack,n=t.fv;Me.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function c0e(t){t.fv=t.pv,Me.DEBUG&&console.log(t.step,"SFVTPV[]")}function u0e(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,c=a[n],u=a[r],f=l[i],h=l[s],d=t.z2[o];Me.DEBUG&&console.log("ISECT[], ",n,r,i,s,o);var m=c.x,A=c.y,v=u.x,y=u.y,_=f.x,x=f.y,E=h.x,b=h.y,w=(m-v)*(x-b)-(A-y)*(_-E),T=m*y-A*v,C=_*b-x*E;d.x=(T*(_-E)-C*(m-v))/w,d.y=(T*(x-b)-C*(A-y))/w}function f0e(t){t.rp0=t.stack.pop(),Me.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function h0e(t){t.rp1=t.stack.pop(),Me.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function d0e(t){t.rp2=t.stack.pop(),Me.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function p0e(t){var e=t.stack.pop();switch(Me.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||D8(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function m0e(t){var e=t.stack.pop();switch(Me.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||D8(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function g0e(t){var e=t.stack.pop();switch(Me.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||D8(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function A0e(t){var e=t.stack.pop();switch(Me.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||D8(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function v0e(t){t.loop=t.stack.pop(),Me.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function y0e(t){Me.DEBUG&&console.log(t.step,"RTG[]"),t.round=cW}function x0e(t){Me.DEBUG&&console.log(t.step,"RTHG[]"),t.round=t0e}function _0e(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function E0e(t){Me.DEBUG&&console.log(t.step,"ELSE[]"),fW(t,!1)}function C0e(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function S0e(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function w0e(t){var e=t.stack;Me.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function y7(t){Me.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function b0e(t){Me.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function I0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function T0e(t){var e=t.stack;Me.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function M0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<r;o++)yd(t),Me.DEBUG&&console.log(++t.step,o+1<r?"next loopcall":"done loopcall",o);t.ip=i,t.prog=s}function B0e(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],yd(t),t.ip=n,t.prog=r,Me.DEBUG&&console.log(++t.step,"returning from",e)}function R0e(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function P0e(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function D0e(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),s=r;for(Me.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(s+1,r)}function Rk(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,s=e.pv;Me.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(r,j1);t&&(o=e.round(o)),i.setRelative(r,j1,o,s),i.touch(r),e.rp0=e.rp1=n}function Pk(t,e){var n=e.z2,r=n.length-2,i,s,o;Me.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(s=i.prevTouched(t),s!==i&&(o=i.nextTouched(t),s===o&&t.setRelative(i,i,t.distance(s,s,!1,!0),t,!0),t.interpolate(i,s,o,t)))}function Dk(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var c=n.pop(),u=l[c],f=o.distance(i,i,!1,!0);s.setRelative(u,u,f,o),s.touch(u),Me.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}e.loop=1}function Lk(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],c=l;Me.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var u=o.distance(i,i,!1,!0);do c!==i&&s.setRelative(c,c,u,o),c=c.nextPointOnContour;while(c!==l)}function kk(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop();Me.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=o.distance(i,i,!1,!0),f=l.length-2,h=0;h<f;h++)c=l[h],s.setRelative(c,c,u,o)}function L0e(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];Me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function k0e(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,s=t.z0[n],o=t.z1[r],a=t.fv,l=t.dpv,c=t.z2;i--;){var u=e.pop(),f=c[u];Me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",u,n,"<->",r),a.interpolate(f,s,o,l),a.touch(f)}t.loop=1}function Fk(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),s=e.z1[i],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,r,l),a.touch(s),Me.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function F0e(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,s=t.fv,o=t.pv,a=t.z1;i--;){var l=e.pop(),c=a[l];Me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,r,0,o),s.touch(c)}t.loop=1}function O0e(t){Me.DEBUG&&console.log(t.step,"RTDG[]"),t.round=e0e}function Ok(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z0[i],o=e.fv,a=e.pv,l=e.cvt[r];Me.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var c=a.distance(s,j1);t&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),o.setRelative(s,j1,c,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=i}function N0e(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];Me.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var s=0;s<i;s++)r.push(e[++n]);t.ip=n}function U0e(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];Me.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),r.push(o)}t.ip=e}function G0e(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();Me.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function z0e(t){var e=t.stack,n=t.store,r=e.pop();Me.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function Q0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function H0e(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function Nk(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];Me.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,j1,t,!1)*64)}function Uk(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z1[r],o=e.z0[i],a=e.dpv.distance(o,s,t,t);Me.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function V0e(t){Me.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function $0e(t){Me.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function W0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function j0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function K0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function J0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function Y0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function X0e(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function q0e(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function Z0e(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function eme(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"IF[]",e),e||(fW(t,!0),Me.DEBUG&&console.log(t.step,"EIF[]"))}function tme(t){Me.DEBUG&&console.log(t.step,"EIF[]")}function nme(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function rme(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function ime(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function x7(t,e){var n=e.stack,r=n.pop(),i=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,c=e.z0;Me.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var u=0;u<r;u++){var f=n.pop(),h=n.pop(),d=a+((h&240)>>4);if(d===o){var m=(h&15)-8;m>=0&&m++,Me.DEBUG&&console.log(e.step,"DELTAPFIX",f,"by",m*l);var A=c[f];i.setRelative(A,A,m*l,s)}}}function sme(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function ome(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function ame(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function lme(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function cme(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function ume(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function fme(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function hme(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function dme(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function pme(t){var e=t.stack,n=e.pop();Me.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function Gy(t,e){var n=e.stack,r=n.pop();Me.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function mme(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function _7(t,e){var n=e.stack,r=n.pop(),i=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;Me.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),c=n.pop(),u=s+((c&240)>>4);if(u===i){var f=(c&15)-8;f>=0&&f++;var h=f*o;Me.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",h),e.cvt[l]+=h}}}function gme(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=uW;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function Ame(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=uW;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function vme(t){Me.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Zpe}function yme(t){Me.DEBUG&&console.log(t.step,"RUTG[]"),t.round=n0e}function xme(t){Me.DEBUG&&console.log(t.step,"RDTG[]"),t.round=r0e}function _me(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function Gk(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];Me.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=sA(a,l)}function Eme(t){var e=t.stack,n=e.pop(),r=0;Me.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function Cme(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();Me.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function Sme(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function wme(t){var e=t.stack,n=e.pop(),r=e.pop();Me.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function bme(t){var e=t.stack.pop();Me.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function Ime(t){var e=t.stack.pop(),n=t.stack.pop();switch(Me.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Iu(t,e){var n=e.stack,r=e.prog,i=e.ip;Me.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(r[++i]);e.ip=i}function Tu(t,e){var n=e.ip,r=e.prog,i=e.stack;Me.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=r[++n]<<8|r[++n];o&32768&&(o=-((o^65535)+1)),i.push(o)}e.ip=n}function ht(t,e,n,r,i,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),c=s.rp0,u=s.z0[c],f=s.z1[l],h=s.minDis,d=s.fv,m=s.dpv,A,v,y,_;v=A=m.distance(f,u,!0,!0),y=v>=0?1:-1,v=Math.abs(v),t&&(_=s.cvt[a],r&&Math.abs(v-_)<s.cvCutIn&&(v=_)),n&&v<h&&(v=h),r&&(v=s.round(v)),d.setRelative(f,u,y*v,m),d.touch(f),Me.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+_+")":"",l,"(d =",A,"->",y*v,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}oW=[bk.bind(void 0,wc),bk.bind(void 0,_l),Ik.bind(void 0,wc),Ik.bind(void 0,_l),Tk.bind(void 0,wc),Tk.bind(void 0,_l),Mk.bind(void 0,0),Mk.bind(void 0,1),Bk.bind(void 0,0),Bk.bind(void 0,1),s0e,o0e,a0e,l0e,c0e,u0e,f0e,h0e,d0e,p0e,m0e,g0e,A0e,v0e,y0e,x0e,_0e,E0e,C0e,S0e,void 0,void 0,w0e,y7,b0e,I0e,T0e,R0e,P0e,void 0,void 0,void 0,M0e,B0e,D0e,void 0,Rk.bind(void 0,0),Rk.bind(void 0,1),Pk.bind(void 0,wc),Pk.bind(void 0,_l),Dk.bind(void 0,0),Dk.bind(void 0,1),Lk.bind(void 0,0),Lk.bind(void 0,1),kk.bind(void 0,0),kk.bind(void 0,1),L0e,k0e,Fk.bind(void 0,0),Fk.bind(void 0,1),F0e,O0e,Ok.bind(void 0,0),Ok.bind(void 0,1),N0e,U0e,G0e,z0e,Q0e,H0e,Nk.bind(void 0,0),Nk.bind(void 0,1),void 0,Uk.bind(void 0,0),Uk.bind(void 0,1),V0e,void 0,$0e,void 0,void 0,W0e,j0e,K0e,J0e,Y0e,X0e,q0e,Z0e,eme,tme,nme,rme,ime,x7.bind(void 0,1),sme,ome,ame,lme,cme,ume,fme,hme,dme,pme,Gy.bind(void 0,0),Gy.bind(void 0,1),Gy.bind(void 0,2),Gy.bind(void 0,3),void 0,void 0,void 0,void 0,mme,x7.bind(void 0,2),x7.bind(void 0,3),_7.bind(void 0,1),_7.bind(void 0,2),_7.bind(void 0,3),gme,Ame,void 0,void 0,vme,void 0,yme,xme,y7,y7,void 0,void 0,void 0,void 0,void 0,_me,Gk.bind(void 0,0),Gk.bind(void 0,1),Eme,void 0,Cme,Sme,wme,bme,Ime,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Iu.bind(void 0,1),Iu.bind(void 0,2),Iu.bind(void 0,3),Iu.bind(void 0,4),Iu.bind(void 0,5),Iu.bind(void 0,6),Iu.bind(void 0,7),Iu.bind(void 0,8),Tu.bind(void 0,1),Tu.bind(void 0,2),Tu.bind(void 0,3),Tu.bind(void 0,4),Tu.bind(void 0,5),Tu.bind(void 0,6),Tu.bind(void 0,7),Tu.bind(void 0,8),ht.bind(void 0,0,0,0,0,0),ht.bind(void 0,0,0,0,0,1),ht.bind(void 0,0,0,0,0,2),ht.bind(void 0,0,0,0,0,3),ht.bind(void 0,0,0,0,1,0),ht.bind(void 0,0,0,0,1,1),ht.bind(void 0,0,0,0,1,2),ht.bind(void 0,0,0,0,1,3),ht.bind(void 0,0,0,1,0,0),ht.bind(void 0,0,0,1,0,1),ht.bind(void 0,0,0,1,0,2),ht.bind(void 0,0,0,1,0,3),ht.bind(void 0,0,0,1,1,0),ht.bind(void 0,0,0,1,1,1),ht.bind(void 0,0,0,1,1,2),ht.bind(void 0,0,0,1,1,3),ht.bind(void 0,0,1,0,0,0),ht.bind(void 0,0,1,0,0,1),ht.bind(void 0,0,1,0,0,2),ht.bind(void 0,0,1,0,0,3),ht.bind(void 0,0,1,0,1,0),ht.bind(void 0,0,1,0,1,1),ht.bind(void 0,0,1,0,1,2),ht.bind(void 0,0,1,0,1,3),ht.bind(void 0,0,1,1,0,0),ht.bind(void 0,0,1,1,0,1),ht.bind(void 0,0,1,1,0,2),ht.bind(void 0,0,1,1,0,3),ht.bind(void 0,0,1,1,1,0),ht.bind(void 0,0,1,1,1,1),ht.bind(void 0,0,1,1,1,2),ht.bind(void 0,0,1,1,1,3),ht.bind(void 0,1,0,0,0,0),ht.bind(void 0,1,0,0,0,1),ht.bind(void 0,1,0,0,0,2),ht.bind(void 0,1,0,0,0,3),ht.bind(void 0,1,0,0,1,0),ht.bind(void 0,1,0,0,1,1),ht.bind(void 0,1,0,0,1,2),ht.bind(void 0,1,0,0,1,3),ht.bind(void 0,1,0,1,0,0),ht.bind(void 0,1,0,1,0,1),ht.bind(void 0,1,0,1,0,2),ht.bind(void 0,1,0,1,0,3),ht.bind(void 0,1,0,1,1,0),ht.bind(void 0,1,0,1,1,1),ht.bind(void 0,1,0,1,1,2),ht.bind(void 0,1,0,1,1,3),ht.bind(void 0,1,1,0,0,0),ht.bind(void 0,1,1,0,0,1),ht.bind(void 0,1,1,0,0,2),ht.bind(void 0,1,1,0,0,3),ht.bind(void 0,1,1,0,1,0),ht.bind(void 0,1,1,0,1,1),ht.bind(void 0,1,1,0,1,2),ht.bind(void 0,1,1,0,1,3),ht.bind(void 0,1,1,1,0,0),ht.bind(void 0,1,1,1,0,1),ht.bind(void 0,1,1,1,0,2),ht.bind(void 0,1,1,1,0,3),ht.bind(void 0,1,1,1,1,0),ht.bind(void 0,1,1,1,1,1),ht.bind(void 0,1,1,1,1,2),ht.bind(void 0,1,1,1,1,3)];function Nm(t){this.char=t,this.state={},this.activeState=null}function lT(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function Tme(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function Fa(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function L8(t){this.eventId=t,this.subscribers=[]}function Mme(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new L8(i)})}),t&&n.forEach(function(i){var s=t[i];typeof s=="function"&&e.events[i].subscribe(s)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function Dr(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Mme.call(this,t)}Nm.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Nm.prototype.getState=function(t){return this.state[t]||null};Dr.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};Dr.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),i=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(s){return!i(s)})])};Dr.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(o){return o instanceof Nm});if(!isNaN(t)&&this.inboundIndex(t)&&i){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Dr.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Nm){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};Dr.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};Dr.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};Dr.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof Nm});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};Dr.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var s=[r,i],o=e===null||e.apply(this,s)===!0,a=[r,i];if(o){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};L8.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};L8.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};Fa.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};Fa.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};Dr.prototype.rangeToText=function(t){if(t instanceof lT)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};Dr.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};Dr.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};Dr.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};Dr.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof L8&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};Dr.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new Tme(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};Dr.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};Dr.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};Dr.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};Dr.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new Fa(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Dr.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new lT(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};Dr.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,s=e.getContext(i).openRange;if(!s&&r.checkStart(t)&&(s=new lT(n,null,i),e.getContext(i).openRange=s,e.dispatch("contextStart",[i,n])),s&&r.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,i);e.dispatch("contextEnd",[i,a])}})};Dr.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new Fa(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var s=new Nm(r);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens};function pf(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function hW(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Tf(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function U5(t){return/[A-z]/.test(t)}function Bme(t){return/\s/.test(t)}function yo(t){this.font=t,this.features={}}function kh(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function oA(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var s=t-i.start;return i.index+s}}break;default:return-1}return-1}function Rme(t,e){var n=oA(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function Pme(t,e){var n=oA(t,e.coverage);return n===-1?null:e.substitute[n]}function E7(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],s=e.current;s=Array.isArray(s)?s[0]:s;var o=oA(s,i);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function Dme(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=E7(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(i);s.length&&Tf(s[0].char);)s.shift();var o=new Fa(s,0),a=E7(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&Tf(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new Fa(l,0),u=E7(e.backtrackCoverage,c),f=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,h=[];if(f)for(var d=0;d<e.lookupRecords.length;d++)for(var m=e.lookupRecords[d],A=m.lookupListIndex,v=this.getLookupByIndex(A),y=0;y<v.subtables.length;y++){var _=v.subtables[y],x=this.getLookupMethod(v,_),E=this.getSubstitutionType(v,_);if(E==="12")for(var b=0;b<r.length;b++){var w=t.get(b),T=x(w);T&&h.push(T)}}return h}function Lme(t,e){var n=t.current,r=oA(n,e.coverage);if(r===-1)return null;for(var i,s=e.ligatureSets[r],o=0;o<s.length;o++){i=s[o];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],c=i.components[a];if(l!==c)break;if(a===i.components.length-1)return i}}return null}function kme(t,e){var n=oA(t,e.coverage);return n===-1?null:e.sequences[n]}yo.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};yo.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var s=i.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};yo.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,s=t[r].feature;n[i]=s}this.features[e].tags=n};yo.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};yo.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};yo.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return Rme.apply(n,[i,e])};case"12":return function(i){return Pme.apply(n,[i,e])};case"63":return function(i){return Dme.apply(n,[i,e])};case"41":return function(i){return Lme.apply(n,[i,e])};case"21":return function(i){return kme.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};yo.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),s=[].concat(e.context),o=0;o<i.length;o++)for(var a=i[o],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],f=this.getSubstitutionType(a,u),h=this.getLookupMethod(a,u),d=void 0;switch(f){case"11":d=h(e.current),d&&s.splice(n,1,new kh({id:11,tag:t.tag,substitution:d}));break;case"12":d=h(e.current),d&&s.splice(n,1,new kh({id:12,tag:t.tag,substitution:d}));break;case"63":d=h(e),Array.isArray(d)&&d.length&&s.splice(n,1,new kh({id:63,tag:t.tag,substitution:d}));break;case"41":d=h(e),d&&s.splice(n,1,new kh({id:41,tag:t.tag,substitution:d}));break;case"21":d=h(e.current),d&&s.splice(n,1,new kh({id:21,tag:t.tag,substitution:d}));break}e=new Fa(s,n),!(Array.isArray(d)&&!d.length)&&(d=null)}return s.length?s:null};yo.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};yo.prototype.getLookupSubtables=function(t){return t.subtables||null};yo.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};yo.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};yo.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function Fme(t){var e=t.current,n=t.get(-1);return n===null&&pf(e)||!pf(n)&&pf(e)}function Ome(t){var e=t.get(1);return e===null||!pf(e)}var Nme={startCheck:Fme,endCheck:Ome};function Ume(t){var e=t.current,n=t.get(-1);return(pf(e)||Tf(e))&&!pf(n)}function Gme(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!pf(e)&&!Tf(e)):var n=Bme(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return pf(i)||Tf(i)}),!r)return!0}break;default:return!1}}var zme={startCheck:Ume,endCheck:Gme};function Qme(t,e,n){e[n].setState(t.tag,t.substitution)}function Hme(t,e,n){e[n].setState(t.tag,t.substitution)}function Vme(t,e,n){t.substitution.forEach(function(r,i){var s=e[n+i];s.setState(t.tag,r)})}function $me(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,s=0;s<i;s++)r=e[n+s+1],r.setState("deleted",!0)}var zk={11:Qme,12:Hme,63:Vme,41:$me};function cT(t,e,n){t instanceof kh&&zk[t.id]&&zk[t.id](t,e,n)}function Wme(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=hW(r),s=Tf(r);if(!i&&!s)return!0;if(i)return!1}return!1}function jme(t){if(hW(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=Tf(n);if(!r)return!0}return!1}function Kme(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var s=new Fa(i.map(function(a){return a.getState("glyphIndex")}),0),o=new Fa(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!Tf(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var c=0;Wme(o)&&(c|=1),jme(o)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(r.indexOf(u)!==-1){var f=e.query.lookupFeature({tag:u,script:n,contextParams:s});if(f instanceof Error)return console.info(f.message);f.forEach(function(h,d){h instanceof kh&&(cT(h,i,d),s.context[d]=h.substitution)})}}})}}function Qk(t,e){var n=t.map(function(r){return r.activeState.value});return new Fa(n,e||0)}function Jme(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=Qk(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return cT(l,r,o)}),i=Qk(r))})}function Yme(t){var e=t.current,n=t.get(-1);return n===null&&U5(e)||!U5(n)&&U5(e)}function Xme(t){var e=t.get(1);return e===null||!U5(e)}var qme={startCheck:Yme,endCheck:Xme};function Hk(t,e){var n=t.map(function(r){return r.activeState.value});return new Fa(n,e||0)}function Zme(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=Hk(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return cT(l,r,o)}),i=Hk(r))})}function ja(t){this.baseDir=t||"ltr",this.tokenizer=new Dr,this.featuresTags={}}ja.prototype.setText=function(t){this.text=t};ja.prototype.contextChecks={latinWordCheck:qme,arabicWordCheck:Nme,arabicSentenceCheck:zme};function C7(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function ege(){return C7.call(this,"latinWord"),C7.call(this,"arabicWord"),C7.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function tge(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}ja.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};ja.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new yo(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};ja.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function uT(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function nge(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){uT.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){Kme.call(t,r)})}}function rge(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){uT.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){Jme.call(t,i)})}}}function ige(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){uT.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){Zme.call(t,i)})}}}ja.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};ja.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(nge.call(this),rge.call(this)),this.checkContextReady("latinWord")&&ige.call(this),this.checkContextReady("arabicSentence")&&tge.call(this)};ja.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),ege.call(this),this.applyFeaturesToContexts())};ja.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};ja.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function Wn(t){t=t||{},t.tables=t.tables||{},t.empty||(Ng(t.familyName,"When creating a new Font object, familyName is required."),Ng(t.styleName,"When creating a new Font object, styleName is required."),Ng(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ng(t.ascender,"When creating a new Font object, ascender is required."),Ng(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new Bl.GlyphSet(this,t.glyphs||[]),this.encoding=new H$(this),this.position=new rA(this),this.substitution=new vo(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new lW(this)}})}Wn.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};Wn.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};Wn.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Wn.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};Wn.prototype.stringToGlyphs=function(t,e){var n=this,r=new ja,i=function(f){return n.charToGlyphIndex(f.char)};r.registerModifier("glyphIndex",null,i);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,s);for(var o=r.getTextGlyphs(t),a=o.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(o[u])||c;return l};Wn.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};Wn.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Wn.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};Wn.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};Wn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Wn.prototype.forEachGlyph=function(t,e,n,r,i,s){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var c=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,i.language)}for(var u=0;u<a.length;u+=1){var f=a[u];if(s.call(this,f,e,n,r,i),f.advanceWidth&&(e+=f.advanceWidth*o),i.kerning&&u<a.length-1){var h=l?this.position.getKerningValue(l,f.index,a[u+1].index):this.getKerningValue(f,a[u+1]);e+=h*o}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};Wn.prototype.getPath=function(t,e,n,r,i){var s=new ci;return this.forEachGlyph(t,e,n,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.extend(u)}),s};Wn.prototype.getPaths=function(t,e,n,r,i){var s=[];return this.forEachGlyph(t,e,n,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.push(u)}),s};Wn.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};Wn.prototype.draw=function(t,e,n,r,i,s){this.getPath(e,n,r,i,s).draw(t)};Wn.prototype.drawPoints=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,c){o.drawPoints(t,a,l,c)})};Wn.prototype.drawMetrics=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,c){o.drawMetrics(t,a,l,c)})};Wn.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};Wn.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};Wn.prototype.toTables=function(){return Vpe.fontToTable(this)};Wn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Wn.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};Wn.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(Wpe())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),s=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=jpe(r);l.writeFileSync(t,c)}};Wn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Wn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Wn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var nu=new Array(10);nu[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(we.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(we.coverage),values:this.parseValueRecordList()};$t.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};nu[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();$t.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(we.coverage),i=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,pairSets:this.parseList(we.pointer(we.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(we.classDef),a=this.parsePointer(we.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,we.list(c,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}}))}}};nu[3]=function(){return{error:"GPOS Lookup 3 not supported"}};nu[4]=function(){return{error:"GPOS Lookup 4 not supported"}};nu[5]=function(){return{error:"GPOS Lookup 5 not supported"}};nu[6]=function(){return{error:"GPOS Lookup 6 not supported"}};nu[7]=function(){return{error:"GPOS Lookup 7 not supported"}};nu[8]=function(){return{error:"GPOS Lookup 8 not supported"}};nu[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var sge=Object.defineProperty,oge=(t,e,n)=>e in t?sge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xt=(t,e,n)=>(oge(t,typeof e!="symbol"?e+"":e,n),n);function Vk(t,e){if(e===KH)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===P6||e===hI){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===P6)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}new Ue;const dW=class{parse(t,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:dW.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(t instanceof Ht&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const n=t.geometry,r=DracoEncoderModule(),i=new r.Encoder;let s,o;if(!n.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof bn&&t.isMesh){s=new r.MeshBuilder,o=new r.Mesh;const h=n.getAttribute("position");s.AddFloatAttributeToMesh(o,r.POSITION,h.count,h.itemSize,h.array);const d=n.getIndex();if(d!==null)s.AddFacesToMesh(o,d.count/3,d.array);else{const m=new(h.count>65535?Uint32Array:Uint16Array)(h.count);for(let A=0;A<m.length;A++)m[A]=A;s.AddFacesToMesh(o,h.count,m)}if(e.exportNormals){const m=n.getAttribute("normal");m!==void 0&&s.AddFloatAttributeToMesh(o,r.NORMAL,m.count,m.itemSize,m.array)}if(e.exportUvs){const m=n.getAttribute("uv");m!==void 0&&s.AddFloatAttributeToMesh(o,r.TEX_COORD,m.count,m.itemSize,m.array)}if(e.exportColor){const m=n.getAttribute("color");m!==void 0&&s.AddFloatAttributeToMesh(o,r.COLOR,m.count,m.itemSize,m.array)}}else if(t instanceof C8&&t.isPoints){s=new r.PointCloudBuilder,o=new r.PointCloud;const h=n.getAttribute("position");if(s.AddFloatAttribute(o,r.POSITION,h.count,h.itemSize,h.array),e.exportColor){const d=n.getAttribute("color");d!==void 0&&s.AddFloatAttribute(o,r.COLOR,d.count,d.itemSize,d.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new r.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,c=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(i.SetSpeedOptions(l,c),e.encoderMethod!==void 0&&i.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let h=0;h<5;h++)e.quantization[h]!==void 0&&i.SetAttributeQuantization(h,e.quantization[h]);let u;if(t instanceof bn&&t.isMesh?u=i.EncodeMeshToDracoBuffer(o,a):u=i.EncodePointCloudToDracoBuffer(o,!0,a),r.destroy(o),u===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const f=new Int8Array(new ArrayBuffer(u));for(let h=0;h<u;h++)f[h]=a.GetValue(h);return r.destroy(a),r.destroy(i),r.destroy(s),f}};let Hl=dW;xt(Hl,"MESH_EDGEBREAKER_ENCODING",1);xt(Hl,"MESH_SEQUENTIAL_ENCODING",0);xt(Hl,"POINT_CLOUD",0);xt(Hl,"TRIANGULAR_MESH",1);xt(Hl,"INVALID",-1);xt(Hl,"POSITION",0);xt(Hl,"NORMAL",1);xt(Hl,"COLOR",2);xt(Hl,"TEX_COORD",3);xt(Hl,"GENERIC",4);const pW=class extends bn{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new rr;const n=this,r=e.color!==void 0?new Ue(e.color):new Ue(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||pW.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,c=new Uo,u=new K,f=new K,h=new K,d=new dt,m=new K(0,0,-1),A=new sn,v=new K,y=new K,_=new sn,x=new dt,E=this.camera,b=new Dn(i,s,{samples:l,type:wn}),w=new fn({uniforms:pr.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});w.uniforms.tDiffuse.value=b.texture,w.uniforms.color.value=r,w.uniforms.textureMatrix.value=x,this.material=w,this.onBeforeRender=function(T,C,I){if(f.setFromMatrixPosition(n.matrixWorld),h.setFromMatrixPosition(I.matrixWorld),d.extractRotation(n.matrixWorld),u.set(0,0,1),u.applyMatrix4(d),v.subVectors(f,h),v.dot(u)>0)return;v.reflect(u).negate(),v.add(f),d.extractRotation(I.matrixWorld),m.set(0,0,-1),m.applyMatrix4(d),m.add(h),y.subVectors(f,m),y.reflect(u).negate(),y.add(f),E.position.copy(v),E.up.set(0,1,0),E.up.applyMatrix4(d),E.up.reflect(u),E.lookAt(y),E.far=I.far,E.updateMatrixWorld(),E.projectionMatrix.copy(I.projectionMatrix),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(E.projectionMatrix),x.multiply(E.matrixWorldInverse),x.multiply(n.matrixWorld),c.setFromNormalAndCoplanarPoint(u,f),c.applyMatrix4(E.matrixWorldInverse),A.set(c.normal.x,c.normal.y,c.normal.z,c.constant);const B=E.projectionMatrix;_.x=(Math.sign(A.x)+B.elements[8])/B.elements[0],_.y=(Math.sign(A.y)+B.elements[9])/B.elements[5],_.z=-1,_.w=(1+B.elements[10])/B.elements[14],A.multiplyScalar(2/A.dot(_)),B.elements[2]=A.x,B.elements[6]=A.y,B.elements[10]=A.z+1-o,B.elements[14]=A.w,n.visible=!1;const R=T.getRenderTarget(),L=T.xr.enabled,z=T.shadowMap.autoUpdate,O=T.toneMapping;let G=!1;"outputColorSpace"in T?G=T.outputColorSpace==="srgb":G=T.outputEncoding===3001,T.xr.enabled=!1,T.shadowMap.autoUpdate=!1,"outputColorSpace"in T?T.outputColorSpace="linear-srgb":T.outputEncoding=3e3,T.toneMapping=ro,T.setRenderTarget(b),T.state.buffers.depth.setMask(!0),T.autoClear===!1&&T.clear(),T.render(C,E),T.xr.enabled=L,T.shadowMap.autoUpdate=z,T.toneMapping=O,"outputColorSpace"in T?T.outputColorSpace=G?"srgb":"srgb-linear":T.outputEncoding=G?3001:3e3,T.setRenderTarget(R);const j=I.viewport;j!==void 0&&T.state.viewport(j),n.visible=!0},this.getRenderTarget=function(){return b},this.dispose=function(){b.dispose(),n.material.dispose()}}};let bS=pW;xt(bS,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Ql.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const mW=class extends bn{constructor(t,e={}){super(t),this.isRefractor=!0,this.type="Refractor",this.camera=new rr;const n=this,r=e.color!==void 0?new Ue(e.color):new Ue(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||mW.RefractorShader,l=e.multisample!==void 0?e.multisample:4,c=this.camera;c.matrixAutoUpdate=!1,c.userData.refractor=!0;const u=new Uo,f=new dt,h=new Dn(i,s,{samples:l,type:wn});this.material=new fn({uniforms:pr.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=r,this.material.uniforms.tDiffuse.value=h.texture,this.material.uniforms.textureMatrix.value=f;const d=function(){const _=new K,x=new K,E=new dt,b=new K,w=new K;return function(C){return _.setFromMatrixPosition(n.matrixWorld),x.setFromMatrixPosition(C.matrixWorld),b.subVectors(_,x),E.extractRotation(n.matrixWorld),w.set(0,0,1),w.applyMatrix4(E),b.dot(w)<0}}(),m=function(){const _=new K,x=new K,E=new Ri,b=new K;return function(){n.matrixWorld.decompose(x,E,b),_.set(0,0,1).applyQuaternion(E).normalize(),_.negate(),u.setFromNormalAndCoplanarPoint(_,x)}}(),A=function(){const _=new Uo,x=new sn,E=new sn;return function(w){c.matrixWorld.copy(w.matrixWorld),c.matrixWorldInverse.copy(c.matrixWorld).invert(),c.projectionMatrix.copy(w.projectionMatrix),c.far=w.far,_.copy(u),_.applyMatrix4(c.matrixWorldInverse),x.set(_.normal.x,_.normal.y,_.normal.z,_.constant);const T=c.projectionMatrix;E.x=(Math.sign(x.x)+T.elements[8])/T.elements[0],E.y=(Math.sign(x.y)+T.elements[9])/T.elements[5],E.z=-1,E.w=(1+T.elements[10])/T.elements[14],x.multiplyScalar(2/x.dot(E)),T.elements[2]=x.x,T.elements[6]=x.y,T.elements[10]=x.z+1-o,T.elements[14]=x.w}}();function v(_){f.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),f.multiply(_.projectionMatrix),f.multiply(_.matrixWorldInverse),f.multiply(n.matrixWorld)}function y(_,x,E){n.visible=!1;const b=_.getRenderTarget(),w=_.xr.enabled,T=_.shadowMap.autoUpdate,C=_.toneMapping;let I=!1;"outputColorSpace"in _?I=_.outputColorSpace==="srgb":I=_.outputEncoding===3001,_.xr.enabled=!1,_.shadowMap.autoUpdate=!1,"outputColorSpace"in _?_.outputColorSpace="linear-srgb":_.outputEncoding=3e3,_.toneMapping=ro,_.setRenderTarget(h),_.autoClear===!1&&_.clear(),_.render(x,c),_.xr.enabled=w,_.shadowMap.autoUpdate=T,_.toneMapping=C,_.setRenderTarget(b),"outputColorSpace"in _?_.outputColorSpace=I?"srgb":"srgb-linear":_.outputEncoding=I?3001:3e3;const B=E.viewport;B!==void 0&&_.state.viewport(B),n.visible=!0}this.onBeforeRender=function(_,x,E){E.userData.refractor!==!0&&d(E)&&(m(),v(E),A(E),y(_,x,E))},this.getRenderTarget=function(){return h},this.dispose=function(){h.dispose(),n.material.dispose()}}};let IS=mW;xt(IS,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Ql.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const age=new Ht,TS=class extends bn{constructor(){super(TS.Geometry,new vi({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new K,e=new K,n=new Il(new Uint8Array(16*16*3),16,16,dr);n.minFilter=Qt,n.magFilter=Qt,n.wrapS=hr,n.wrapT=hr;const r=new Il(new Uint8Array(16*16*3),16,16,dr);r.minFilter=Qt,r.magFilter=Qt,r.wrapS=hr,r.wrapT=hr;const i=TS.Geometry,s=new L3({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new L3({uniforms:{map:{value:n},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new bn(i,s),l=[],c=gW.Shader,u=new L3({uniforms:{map:{value:null},occlusionMap:{value:r},color:{value:new Ue(16777215)},scale:{value:new Se},screenPosition:{value:new K}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:_1,transparent:!0,depthWrite:!1}),f=new bn(i,u);this.addElement=function(v){l.push(v)};const h=new Se,d=new Se,m=new zV,A=new sn;this.onBeforeRender=function(v,y,_){v.getCurrentViewport(A);const x=A.w/A.z,E=A.z/2,b=A.w/2;let w=16/A.w;if(h.set(w*x,w),m.min.set(A.x,A.y),m.max.set(A.x+(A.z-16),A.y+(A.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(_.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(_.projectionMatrix),d.x=A.x+t.x*E+E-8,d.y=A.y+t.y*b+b-8,m.containsPoint(d))){v.copyFramebufferToTexture(d,n);let T=s.uniforms;T.scale.value=h,T.screenPosition.value=t,v.renderBufferDirect(_,null,i,s,a,null),v.copyFramebufferToTexture(d,r),T=o.uniforms,T.scale.value=h,T.screenPosition.value=t,v.renderBufferDirect(_,null,i,o,a,null);const C=-t.x*2,I=-t.y*2;for(let B=0,R=l.length;B<R;B++){const L=l[B],z=u.uniforms;z.color.value.copy(L.color),z.map.value=L.texture,z.screenPosition.value.x=t.x+C*L.distance,z.screenPosition.value.y=t.y+I*L.distance,w=L.size/A.w;const O=A.w/A.z;z.scale.value.set(w*O,w),u.uniformsNeedUpdate=!0,v.renderBufferDirect(_,null,i,u,f,null)}}},this.dispose=function(){s.dispose(),o.dispose(),u.dispose(),n.dispose(),r.dispose();for(let v=0,y=l.length;v<y;v++)l[v].texture.dispose()}}};let lge=TS;xt(lge,"Geometry",age);class gW{constructor(e,n=1,r=0,i=new Ue(16777215)){this.texture=e,this.size=n,this.distance=r,this.color=i}}xt(gW,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class O3{constructor(e=Math){xt(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),xt(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),xt(this,"p",[]),xt(this,"perm",[]),xt(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),xt(this,"dot",(n,r,i)=>n[0]*r+n[1]*i),xt(this,"dot3",(n,r,i,s)=>n[0]*r+n[1]*i+n[2]*s),xt(this,"dot4",(n,r,i,s,o)=>n[0]*r+n[1]*i+n[2]*s+n[3]*o),xt(this,"noise",(n,r)=>{let i,s,o;const a=.5*(Math.sqrt(3)-1),l=(n+r)*a,c=Math.floor(n+l),u=Math.floor(r+l),f=(3-Math.sqrt(3))/6,h=(c+u)*f,d=c-h,m=u-h,A=n-d,v=r-m;let y=0,_=1;A>v&&(y=1,_=0);const x=A-y+f,E=v-_+f,b=A-1+2*f,w=v-1+2*f,T=c&255,C=u&255,I=this.perm[T+this.perm[C]]%12,B=this.perm[T+y+this.perm[C+_]]%12,R=this.perm[T+1+this.perm[C+1]]%12;let L=.5-A*A-v*v;L<0?i=0:(L*=L,i=L*L*this.dot(this.grad3[I],A,v));let z=.5-x*x-E*E;z<0?s=0:(z*=z,s=z*z*this.dot(this.grad3[B],x,E));let O=.5-b*b-w*w;return O<0?o=0:(O*=O,o=O*O*this.dot(this.grad3[R],b,w)),70*(i+s+o)}),xt(this,"noise3d",(n,r,i)=>{let s,o,a,l;const c=.3333333333333333,u=(n+r+i)*c,f=Math.floor(n+u),h=Math.floor(r+u),d=Math.floor(i+u),m=1/6,A=(f+h+d)*m,v=f-A,y=h-A,_=d-A,x=n-v,E=r-y,b=i-_;let w,T,C,I,B,R;x>=E?E>=b?(w=1,T=0,C=0,I=1,B=1,R=0):x>=b?(w=1,T=0,C=0,I=1,B=0,R=1):(w=0,T=0,C=1,I=1,B=0,R=1):E<b?(w=0,T=0,C=1,I=0,B=1,R=1):x<b?(w=0,T=1,C=0,I=0,B=1,R=1):(w=0,T=1,C=0,I=1,B=1,R=0);const L=x-w+m,z=E-T+m,O=b-C+m,G=x-I+2*m,j=E-B+2*m,J=b-R+2*m,N=x-1+3*m,V=E-1+3*m,Q=b-1+3*m,Z=f&255,re=h&255,ge=d&255,Ee=this.perm[Z+this.perm[re+this.perm[ge]]]%12,be=this.perm[Z+w+this.perm[re+T+this.perm[ge+C]]]%12,oe=this.perm[Z+I+this.perm[re+B+this.perm[ge+R]]]%12,Fe=this.perm[Z+1+this.perm[re+1+this.perm[ge+1]]]%12;let he=.6-x*x-E*E-b*b;he<0?s=0:(he*=he,s=he*he*this.dot3(this.grad3[Ee],x,E,b));let U=.6-L*L-z*z-O*O;U<0?o=0:(U*=U,o=U*U*this.dot3(this.grad3[be],L,z,O));let W=.6-G*G-j*j-J*J;W<0?a=0:(W*=W,a=W*W*this.dot3(this.grad3[oe],G,j,J));let Y=.6-N*N-V*V-Q*Q;return Y<0?l=0:(Y*=Y,l=Y*Y*this.dot3(this.grad3[Fe],N,V,Q)),32*(s+o+a+l)}),xt(this,"noise4d",(n,r,i,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;let f,h,d,m,A;const v=(n+r+i+s)*c,y=Math.floor(n+v),_=Math.floor(r+v),x=Math.floor(i+v),E=Math.floor(s+v),b=(y+_+x+E)*u,w=y-b,T=_-b,C=x-b,I=E-b,B=n-w,R=r-T,L=i-C,z=s-I,O=B>R?32:0,G=B>L?16:0,j=R>L?8:0,J=B>z?4:0,N=R>z?2:0,V=L>z?1:0,Q=O+G+j+J+N+V;let Z,re,ge,Ee,be,oe,Fe,he,U,W,Y,ie;Z=a[Q][0]>=3?1:0,re=a[Q][1]>=3?1:0,ge=a[Q][2]>=3?1:0,Ee=a[Q][3]>=3?1:0,be=a[Q][0]>=2?1:0,oe=a[Q][1]>=2?1:0,Fe=a[Q][2]>=2?1:0,he=a[Q][3]>=2?1:0,U=a[Q][0]>=1?1:0,W=a[Q][1]>=1?1:0,Y=a[Q][2]>=1?1:0,ie=a[Q][3]>=1?1:0;const te=B-Z+u,de=R-re+u,Pe=L-ge+u,ke=z-Ee+u,Ye=B-be+2*u,nt=R-oe+2*u,Je=L-Fe+2*u,pt=z-he+2*u,Ct=B-U+3*u,X=R-W+3*u,H=L-Y+3*u,ce=z-ie+3*u,De=B-1+4*u,Oe=R-1+4*u,Ge=L-1+4*u,_t=z-1+4*u,$e=y&255,Te=_&255,lt=x&255,vt=E&255,it=l[$e+l[Te+l[lt+l[vt]]]]%32,st=l[$e+Z+l[Te+re+l[lt+ge+l[vt+Ee]]]]%32,mt=l[$e+be+l[Te+oe+l[lt+Fe+l[vt+he]]]]%32,Nt=l[$e+U+l[Te+W+l[lt+Y+l[vt+ie]]]]%32,Gt=l[$e+1+l[Te+1+l[lt+1+l[vt+1]]]]%32;let zt=.6-B*B-R*R-L*L-z*z;zt<0?f=0:(zt*=zt,f=zt*zt*this.dot4(o[it],B,R,L,z));let le=.6-te*te-de*de-Pe*Pe-ke*ke;le<0?h=0:(le*=le,h=le*le*this.dot4(o[st],te,de,Pe,ke));let ae=.6-Ye*Ye-nt*nt-Je*Je-pt*pt;ae<0?d=0:(ae*=ae,d=ae*ae*this.dot4(o[mt],Ye,nt,Je,pt));let Ne=.6-Ct*Ct-X*X-H*H-ce*ce;Ne<0?m=0:(Ne*=Ne,m=Ne*Ne*this.dot4(o[Nt],Ct,X,H,ce));let et=.6-De*De-Oe*Oe-Ge*Ge-_t*_t;return et<0?A=0:(et*=et,A=et*et*this.dot4(o[Gt],De,Oe,Ge,_t)),27*(f+h+d+m+A)});for(let n=0;n<256;n++)this.p[n]=Math.floor(e.random()*256);for(let n=0;n<512;n++)this.perm[n]=this.p[n&255]}}const os=class extends Ht{constructor(t={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(os.copyParameters(t,t)),this.createMesh()}static createRandomGenerator(){const e=[];for(let r=0;r<2053;r++)e.push(Math.random());const n={currentSeed:0,random:function(){const r=e[n.currentSeed];return n.currentSeed=(n.currentSeed+1)%2053,r},getSeed:function(){return n.currentSeed/2053},setSeed:function(r){n.currentSeed=Math.floor(r*2053)%2053}};return n}static copyParameters(t={},e={}){const n=function(r){return e===t?r:r.clone()};return t.sourceOffset=e.sourceOffset!==void 0?n(e.sourceOffset):new K(0,100,0),t.destOffset=e.destOffset!==void 0?n(e.destOffset):new K(0,0,0),t.timeScale=e.timeScale!==void 0?e.timeScale:1,t.roughness=e.roughness!==void 0?e.roughness:.9,t.straightness=e.straightness!==void 0?e.straightness:.7,t.up0=e.up0!==void 0?n(e.up0):new K(0,0,1),t.up1=e.up1!==void 0?n(e.up1):new K(0,0,1),t.radius0=e.radius0!==void 0?e.radius0:1,t.radius1=e.radius1!==void 0?e.radius1:1,t.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,t.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,t.minRadius=e.minRadius!==void 0?e.minRadius:.2,t.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,t.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,t.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,t.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,t.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,t.isStatic=e.isStatic!==void 0?e.isStatic:!1,t.ramification=e.ramification!==void 0?e.ramification:5,t.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,t.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,t.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,t.randomGenerator=e.randomGenerator,t.noiseSeed=e.noiseSeed,t.onDecideSubrayCreation=e.onDecideSubrayCreation,t.onSubrayCreation=e.onSubrayCreation,t}update(t){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=t&&t<=this.rayParameters.deathTime?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this.state=os.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this.state=os.RAY_VANISHING:this.state=os.RAY_STEADY,this.visible=!0):(this.visible=!1,t<this.rayParameters.birthTime?this.state=os.RAY_UNBORN:this.state=os.RAY_EXTINGUISHED))}init(t){this.rayParameters=t,this.maxIterations=t.maxIterations!==void 0?Math.floor(t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=t.isStatic!==void 0?t.isStatic:!1,t.isStatic=this.isStatic,this.ramification=t.ramification!==void 0?Math.floor(t.ramification):5,t.ramification=this.ramification,this.maxSubrayRecursion=t.maxSubrayRecursion!==void 0?Math.floor(t.maxSubrayRecursion):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=t.recursionProbability!==void 0?t.recursionProbability:.6,t.recursionProbability=this.recursionProbability,this.generateUVs=t.generateUVs!==void 0?t.generateUVs:!1,t.generateUVs=this.generateUVs,t.randomGenerator!==void 0?(this.randomGenerator=t.randomGenerator,this.seedGenerator=t.randomGenerator,t.noiseSeed!==void 0&&this.seedGenerator.setSeed(t.noiseSeed)):(this.randomGenerator=os.createRandomGenerator(),this.seedGenerator=Math),t.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=t.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),t.onSubrayCreation!==void 0&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=os.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),t.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new O3(this.seedGenerator),this.simplexY=new O3(this.seedGenerator),this.simplexZ=new O3(this.seedGenerator),this.forwards=new K,this.forwardsFill=new K,this.side=new K,this.down=new K,this.middlePos=new K,this.middleLinPos=new K,this.newPos=new K,this.vPos=new K,this.cross1=new K}createMesh(){const t=1<<this.maxIterations,e=3*(t+1)*this.maxSubrays,n=18*t*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new m8(this.indices,1)),this.positionAttribute=new At(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new At(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=L5,this.positionAttribute.usage=L5,this.generateUVs&&(this.uvsAttribute.usage=L5)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(t){this.fillMesh(t),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(t){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(t,function(r){const i=e.currentSubray;t<i.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.endPropagationTime?e.timeFraction>=r.fraction0*i.propagationTimeFactor&&(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.beginVanishingTime?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):(e.timeFraction<=i.vanishingTimeFactor+r.fraction1*(1-i.vanishingTimeFactor)&&e.createPrism(r),e.onDecideSubrayCreation(r,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(t,e){t.pos0.copy(e.sourceOffset),t.pos1.copy(e.destOffset),t.up0.copy(e.up0),t.up1.copy(e.up1),t.radius0=e.radius0,t.radius1=e.radius1,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.timeScale=e.timeScale,t.roughness=e.roughness,t.straightness=e.straightness,t.propagationTimeFactor=e.propagationTimeFactor,t.vanishingTimeFactor=e.vanishingTimeFactor,t.maxIterations=this.maxIterations,t.seed=e.noiseSeed!==void 0?e.noiseSeed:0,t.recursion=0}fractalRay(t,e){this.time=t,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this.numSubrays;n++){const r=this.subrays[n];this.currentSubray=r,this.randomGenerator.setSeed(r.seed),r.endPropagationTime=Mc.lerp(r.birthTime,r.deathTime,r.propagationTimeFactor),r.beginVanishingTime=Mc.lerp(r.deathTime,r.birthTime,1-r.vanishingTimeFactor);const i=this.randomGenerator.random;r.linPos0.set(i(),i(),i()).multiplyScalar(1e3),r.linPos1.set(i(),i(),i()).multiplyScalar(1e3),this.timeFraction=(t-r.birthTime)/(r.deathTime-r.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(r.pos0),s.pos1.copy(r.pos1),s.linPos0.copy(r.linPos0),s.linPos1.copy(r.linPos1),s.up0.copy(r.up0),s.up1.copy(r.up1),s.radius0=r.radius0,s.radius1=r.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-r.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,r.recursion)/(1<<r.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(t){if(t.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(t);return}this.forwards.subVectors(t.pos1,t.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const n=(t.radius0+t.radius1)*.5,r=(t.fraction0+t.fraction1)*.5,i=this.time*this.currentSubray.timeScale*Math.pow(2,t.iteration);this.middlePos.lerpVectors(t.pos0,t.pos1,.5),this.middleLinPos.lerpVectors(t.linPos0,t.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,i),this.simplexY.noise4d(s.x,s.y,s.z,i),this.simplexZ.noise4d(s.x,s.y,s.z,i)),this.newPos.multiplyScalar(t.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(t.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(t.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(t.up0),o.up1.copy(t.up1),o.radius0=t.radius0,o.radius1=n,o.fraction0=t.fraction0,o.fraction1=r,o.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,o.iteration=t.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(t.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(t.linPos1),this.cross1.crossVectors(t.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(t.up1),a.radius0=n,a.radius1=t.radius1,a.fraction0=r,a.fraction1=t.fraction1,a.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,a.iteration=t.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(t){this.forwardsFill.subVectors(t.pos1,t.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this.forwardsFill,t.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this.forwardsFill,t.radius1,t.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,e,n,r){this.side.crossVectors(e,n).multiplyScalar(r*os.COS30DEG),this.down.copy(e).multiplyScalar(-r*os.SIN30DEG);const i=this.vPos,s=this.vertices;i.copy(t).sub(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(t).add(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(e).multiplyScalar(r).add(t),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,e,n,r,i){this.side.crossVectors(e,n).multiplyScalar(r*os.COS30DEG),this.down.copy(e).multiplyScalar(-r*os.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(t).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=0,s.copy(t).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(r).add(t),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(t){const e=this.indices;t=this.currentVertex-6,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,c=o.rayParameters.subrayDutyCycle,u=o.rayParameters.isEternal&&a.recursion==0?-t()*l:Mc.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-t()*l,f=o.time-u,h=Math.floor(f/l),d=t()*(h+1),m=f%l<=c*l;let A=0;if(m&&(A=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&t()<A){const v=o.addNewSubray(),y=o.randomGenerator.getSeed();v.seed=d,o.randomGenerator.setSeed(d),v.recursion=a.recursion+1,v.maxIterations=Math.max(1,a.maxIterations-1),v.linPos0.set(t(),t(),t()).multiplyScalar(1e3),v.linPos1.set(t(),t(),t()).multiplyScalar(1e3),v.up0.copy(a.up0),v.up1.copy(a.up1),v.radius0=s.radius0*o.rayParameters.radius0Factor,v.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),v.birthTime=u+h*l,v.deathTime=v.birthTime+l*c,!o.rayParameters.isEternal&&a.recursion==0&&(v.birthTime=Math.max(v.birthTime,a.birthTime),v.deathTime=Math.min(v.deathTime,a.deathTime)),v.timeScale=a.timeScale*2,v.roughness=a.roughness,v.straightness=a.straightness,v.propagationTimeFactor=a.propagationTimeFactor,v.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,v,o),o.randomGenerator.setSeed(y)}};const e=new K,n=new K,r=new K,i=new K;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(t()*l));const f=e.length();r.crossVectors(o.up0,n);const h=2*Math.PI*t();r.multiplyScalar(Math.cos(h)),i.copy(o.up0).multiplyScalar(Math.sin(h)),a.pos1.copy(r).add(i).multiplyScalar(f*c*(u+t()*(1-u))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*t()-1)*l));const f=e.length();r.crossVectors(o.up0,n);const h=2*Math.PI*t();r.multiplyScalar(Math.cos(h)),i.copy(o.up0).multiplyScalar(Math.sin(h)),a.pos1.copy(r).add(i).multiplyScalar(f*c*(u+t()*(1-u))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new K,pos1:new K,linPos0:new K,linPos1:new K,up0:new K,up1:new K,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new K,pos1:new K,linPos0:new K,linPos1:new K,up0:new K,up1:new K,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){return super.copy(t),this.init(os.copyParameters({},t.rayParameters)),this}clone(){return new this.constructor(os.copyParameters({},this.rayParameters))}};let Jf=os;xt(Jf,"RAY_INITIALIZED",0);xt(Jf,"RAY_UNBORN",1);xt(Jf,"RAY_PROPAGATING",2);xt(Jf,"RAY_STEADY",3);xt(Jf,"RAY_VANISHING",4);xt(Jf,"RAY_EXTINGUISHED",5);xt(Jf,"COS30DEG",Math.cos(30*Math.PI/180));xt(Jf,"SIN30DEG",Math.sin(30*Math.PI/180));const Ih=class extends bn{constructor(t,e={}){super(t),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const n=this,r=e.color!==void 0?new Ue(e.color):new Ue(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||Ih.ReflectorShader,l=e.useDepthTexture===!0,c=new K(0,1,0),u=new K,f=new K;n.needsUpdate=!1,n.maxDistance=Ih.ReflectorShader.uniforms.maxDistance.value,n.opacity=Ih.ReflectorShader.uniforms.opacity.value,n.color=r,n.resolution=e.resolution||new Se(window.innerWidth,window.innerHeight),n._distanceAttenuation=Ih.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(n,"distanceAttenuation",{get(){return n._distanceAttenuation},set(R){n._distanceAttenuation!==R&&(n._distanceAttenuation=R,n.material.defines.DISTANCE_ATTENUATION=R,n.material.needsUpdate=!0)}}),n._fresnel=Ih.ReflectorShader.defines.FRESNEL,Object.defineProperty(n,"fresnel",{get(){return n._fresnel},set(R){n._fresnel!==R&&(n._fresnel=R,n.material.defines.FRESNEL=R,n.material.needsUpdate=!0)}});const h=new K,d=new K,m=new K,A=new dt,v=new K(0,0,-1),y=new K,_=new K,x=new dt,E=new rr;let b;l&&(b=new Bm,b.type=Im,b.minFilter=Qt,b.magFilter=Qt);const w={depthTexture:l?b:null,type:wn},T=new Dn(i,s,w),C=new fn({transparent:l,defines:Object.assign({},Ih.ReflectorShader.defines,{useDepthTexture:l}),uniforms:pr.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});C.uniforms.tDiffuse.value=T.texture,C.uniforms.color.value=n.color,C.uniforms.textureMatrix.value=x,l&&(C.uniforms.tDepth.value=T.depthTexture),this.material=C;const B=[new Uo(new K(0,1,0),o)];this.doRender=function(R,L,z){if(C.uniforms.maxDistance.value=n.maxDistance,C.uniforms.color.value=n.color,C.uniforms.opacity.value=n.opacity,u.copy(z.position).normalize(),f.copy(u).reflect(c),C.uniforms.fresnelCoe.value=(u.dot(f)+1)/2,d.setFromMatrixPosition(n.matrixWorld),m.setFromMatrixPosition(z.matrixWorld),A.extractRotation(n.matrixWorld),h.set(0,0,1),h.applyMatrix4(A),y.subVectors(d,m),y.dot(h)>0)return;y.reflect(h).negate(),y.add(d),A.extractRotation(z.matrixWorld),v.set(0,0,-1),v.applyMatrix4(A),v.add(m),_.subVectors(d,v),_.reflect(h).negate(),_.add(d),E.position.copy(y),E.up.set(0,1,0),E.up.applyMatrix4(A),E.up.reflect(h),E.lookAt(_),E.far=z.far,E.updateMatrixWorld(),E.projectionMatrix.copy(z.projectionMatrix),C.uniforms.virtualCameraNear.value=z.near,C.uniforms.virtualCameraFar.value=z.far,C.uniforms.virtualCameraMatrixWorld.value=E.matrixWorld,C.uniforms.virtualCameraProjectionMatrix.value=z.projectionMatrix,C.uniforms.virtualCameraProjectionMatrixInverse.value=z.projectionMatrixInverse,C.uniforms.resolution.value=n.resolution,x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(E.projectionMatrix),x.multiply(E.matrixWorldInverse),x.multiply(n.matrixWorld);const O=R.getRenderTarget(),G=R.xr.enabled,j=R.shadowMap.autoUpdate,J=R.clippingPlanes;R.xr.enabled=!1,R.shadowMap.autoUpdate=!1,R.clippingPlanes=B,R.setRenderTarget(T),R.state.buffers.depth.setMask(!0),R.autoClear===!1&&R.clear(),R.render(L,E),R.xr.enabled=G,R.shadowMap.autoUpdate=j,R.clippingPlanes=J,R.setRenderTarget(O);const N=z.viewport;N!==void 0&&R.state.viewport(N)},this.getRenderTarget=function(){return T}}};let cge=Ih;xt(cge,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new dt},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new dt},virtualCameraMatrixWorld:{value:new dt},virtualCameraProjectionMatrixInverse:{value:new dt},resolution:{value:new Se}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const G5={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new K},up:{value:new K(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(Ql.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},AW=new fn({name:"SkyShader",fragmentShader:G5.fragmentShader,vertexShader:G5.vertexShader,uniforms:pr.clone(G5.uniforms),side:Ps,depthWrite:!1});class vW extends bn{constructor(){super(new Zc(1,1,1),AW)}}xt(vW,"SkyShader",G5);xt(vW,"material",AW);const yW=class extends bn{constructor(t,e={}){super(t),this.isWater=!0,this.type="Water";const n=this,r=e.color!==void 0?new Ue(e.color):new Ue(16777215),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new Se(1,0),l=e.flowSpeed||.03,c=e.reflectivity||.02,u=e.scale||1,f=e.shader||yW.WaterShader,h=e.encoding!==void 0?e.encoding:3e3,d=e.flowMap||void 0,m=e.normalMap0,A=e.normalMap1,v=.15,y=v*.5,_=new dt,x=new M8;if(bS===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(IS===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const E=new bS(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:h}),b=new IS(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:h});E.matrixAutoUpdate=!1,b.matrixAutoUpdate=!1,this.material=new fn({uniforms:pr.merge([qe.fog,f.uniforms]),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,transparent:!0,fog:!0}),d!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:d}):this.material.uniforms.flowDirection={type:"v2",value:a},m.wrapS=m.wrapT=na,A.wrapS=A.wrapT=na,this.material.uniforms.tReflectionMap.value=E.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=b.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=m,this.material.uniforms.tNormalMap1.value=A,this.material.uniforms.color.value=r,this.material.uniforms.reflectivity.value=c,this.material.uniforms.textureMatrix.value=_,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=y,this.material.uniforms.config.value.z=y,this.material.uniforms.config.value.w=u;function w(C){_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(C.projectionMatrix),_.multiply(C.matrixWorldInverse),_.multiply(n.matrixWorld)}function T(){const C=x.getDelta(),I=n.material.uniforms.config;I.value.x+=l*C,I.value.y=I.value.x+y,I.value.x>=v?(I.value.x=0,I.value.y=y):I.value.y>=v&&(I.value.y=I.value.y-v)}this.onBeforeRender=function(C,I,B){w(B),T(),n.visible=!1,E.matrixWorld.copy(n.matrixWorld),b.matrixWorld.copy(n.matrixWorld),E.onBeforeRender(C,I,B),b.onBeforeRender(C,I,B),n.visible=!0}}};let uge=yW;xt(uge,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new sn}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(Ql.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const fge=t=>t&&t.isCubeTexture;class hge extends bn{constructor(e,n){var r,i;const s=fge(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,h=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],d=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,m=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(Ql.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,A={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},v=new Pm(1,16),y=new fn({uniforms:A,fragmentShader:m,vertexShader:d,side:$o});super(v,y)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const S7={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)};Math.cos(70*Mc.DEG2RAD);class k8{constructor(){xt(this,"enabled",!0),xt(this,"needsSwap",!0),xt(this,"clear",!1),xt(this,"renderToScreen",!1)}setSize(e,n){}render(e,n,r,i,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class F8{constructor(e){xt(this,"camera",new eu(-1,1,1,-1,0,1)),xt(this,"geometry",new Bd(2,2)),xt(this,"mesh"),this.mesh=new bn(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const Rl={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},Ug={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new Se},cameraProjectionMatrix:{value:new dt},cameraInverseProjectionMatrix:{value:new dt},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},zy={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},Qy={uniforms:{tDiffuse:{value:null},resolution:{value:new Se}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},Th=class extends k8{constructor(t,e,n,r){super(),this.width=n!==void 0?n:512,this.height=r!==void 0?r:512,this.clear=!0,this.camera=e,this.scene=t,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const i=new Bm;i.format=Sf,i.type=hf,this.beautyRenderTarget=new Dn(this.width,this.height),this.normalRenderTarget=new Dn(this.width,this.height,{minFilter:Qt,magFilter:Qt,depthTexture:i}),this.ssaoRenderTarget=new Dn(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),Ug===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new fn({defines:Object.assign({},Ug.defines),uniforms:pr.clone(Ug.uniforms),vertexShader:Ug.vertexShader,fragmentShader:Ug.fragmentShader,blending:rn}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new J2,this.normalMaterial.blending=rn,this.blurMaterial=new fn({defines:Object.assign({},Qy.defines),uniforms:pr.clone(Qy.uniforms),vertexShader:Qy.vertexShader,fragmentShader:Qy.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new fn({defines:Object.assign({},zy.defines),uniforms:pr.clone(zy.uniforms),vertexShader:zy.vertexShader,fragmentShader:zy.fragmentShader,blending:rn}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new fn({uniforms:pr.clone(Rl.uniforms),vertexShader:Rl.vertexShader,fragmentShader:Rl.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:c8,blendDst:$0,blendEquation:Xs,blendSrcAlpha:l8,blendDstAlpha:$0,blendEquationAlpha:Xs}),this.fsQuad=new F8(null),this.originalClearColor=new Ue}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.capabilities.isWebGL2===!1&&(this.noiseTexture.format=uI),t.setRenderTarget(this.beautyRenderTarget),t.clear(),t.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case Th.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Th.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Th.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Th.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Th.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Th.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=E1,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.beautyRenderTarget.setSize(t,e),this.ssaoRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.ssaoMaterial.uniforms.resolution.value.set(t,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e)}generateSampleKernel(){const t=this.kernelSize,e=this.kernel;for(let n=0;n<t;n++){const r=new K;r.x=Math.random()*2-1,r.y=Math.random()*2-1,r.z=Math.random(),r.normalize();let i=n/t;i=Mc.lerp(.1,1,i*i),r.multiplyScalar(i),e.push(r)}}generateRandomKernelRotations(){O3===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const n=new O3,r=4*4,i=new Float32Array(r);for(let s=0;s<r;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;i[s]=n.noise3d(o,a,l)}this.noiseTexture=new Il(i,4,4,Wu,Yr),this.noiseTexture.wrapS=na,this.noiseTexture.wrapT=na,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){e.set(n,n.visible),(n.isPoints||n.isLine)&&(n.visible=!1)})}restoreVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){const r=e.get(n);n.visible=r}),e.clear()}};let dge=Th;xt(dge,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const pge={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Ue(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},MS=class extends k8{constructor(t,e,n,r){super(),this.strength=e!==void 0?e:1,this.radius=n,this.threshold=r,this.resolution=t!==void 0?new Se(t.x,t.y):new Se(256,256),this.clearColor=new Ue(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new Dn(i,s,{type:wn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const f=new Dn(i,s,{type:wn});f.texture.name="UnrealBloomPass.h"+u,f.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(f);const h=new Dn(i,s,{type:wn});h.texture.name="UnrealBloomPass.v"+u,h.texture.generateMipmaps=!1,this.renderTargetsVertical.push(h),i=Math.round(i/2),s=Math.round(s/2)}const o=pge;this.highPassUniforms=pr.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new fn({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new Se(i,s),i=Math.round(i/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new K(1,1,1),new K(1,1,1),new K(1,1,1),new K(1,1,1),new K(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const c=Rl;this.copyUniforms=pr.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new fn({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:_1,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Ue,this.oldClearAlpha=1,this.basic=new vi,this.fsQuad=new F8(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let n=Math.round(t/2),r=Math.round(e/2);this.renderTargetBright.setSize(n,r);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new Se(n,r),n=Math.round(n/2),r=Math.round(r/2)}render(t,e,n,r,i){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),i&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=MS.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[a]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=MS.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[a]),t.clear(),this.fsQuad.render(t),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){return new fn({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new Se(.5,.5)},direction:{value:new Se(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(t){return new fn({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let xW=MS;xt(xW,"BlurDirectionX",new Se(1,0));xt(xW,"BlurDirectionY",new Se(0,1));const Hy={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new Se(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new dt},cameraInverseProjectionMatrix:{value:new dt},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},Mu={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new Se(512,512)},sampleUvOffsets:{value:[new Se(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},Q6={createSampleWeights:(t,e)=>{const n=(i,s)=>Math.exp(-(i*i)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),r=[];for(let i=0;i<=t;i++)r.push(n(i,e));return r},createSampleOffsets:(t,e)=>{const n=[];for(let r=0;r<=t;r++)n.push(e.clone().multiplyScalar(r));return n},configure:(t,e,n,r)=>{t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=Q6.createSampleOffsets(e,r),t.uniforms.sampleWeights.value=Q6.createSampleWeights(e,n),t.needsUpdate=!0}};class mge extends k8{constructor(e,n,r=!1,i=!1,s=new Se(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=r,this.supportsNormalTexture=i,this.originalClearColor=new Ue,this._oldClearColor=new Ue,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new Se(s.x,s.y),this.saoRenderTarget=new Dn(this.resolution.x,this.resolution.y,{type:wn}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new Dn(this.resolution.x,this.resolution.y,{minFilter:Qt,magFilter:Qt,type:wn}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new Bm,o.type=Im,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new v8,this.depthMaterial.depthPacking=dI,this.depthMaterial.blending=rn,this.normalMaterial=new J2,this.normalMaterial.blending=rn,this.saoMaterial=new fn({defines:Object.assign({},Hy.defines),fragmentShader:Hy.fragmentShader,vertexShader:Hy.vertexShader,uniforms:pr.clone(Hy.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=rn,this.vBlurMaterial=new fn({uniforms:pr.clone(Mu.uniforms),defines:Object.assign({},Mu.defines),vertexShader:Mu.vertexShader,fragmentShader:Mu.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=rn,this.hBlurMaterial=new fn({uniforms:pr.clone(Mu.uniforms),defines:Object.assign({},Mu.defines),vertexShader:Mu.vertexShader,fragmentShader:Mu.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=rn,this.materialCopy=new fn({uniforms:pr.clone(Rl.uniforms),vertexShader:Rl.vertexShader,fragmentShader:Rl.fragmentShader,blending:rn}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=E1,this.materialCopy.blendSrc=c8,this.materialCopy.blendDst=$0,this.materialCopy.blendEquation=Xs,this.materialCopy.blendSrcAlpha=l8,this.materialCopy.blendDstAlpha=$0,this.materialCopy.blendEquationAlpha=Xs,this.depthCopy=new fn({uniforms:pr.clone(S7.uniforms),vertexShader:S7.vertexShader,fragmentShader:S7.fragmentShader,blending:rn}),this.fsQuad=new F8(null)}render(e,n,r){if(this.renderToScreen&&(this.materialCopy.blending=rn,this.materialCopy.uniforms.tDiffuse.value=r.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(Q6.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new Se(0,1)),Q6.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new Se(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=E1:o.blending=rn,this.renderPass(e,o,this.renderToScreen?null:r),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}renderPass(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=n.clearColor||i,s=n.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}xt(mge,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const ll={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new Se},cameraProjectionMatrix:{value:new dt},cameraInverseProjectionMatrix:{value:new dt},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},Vy={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},Bu={uniforms:{tDiffuse:{value:null},resolution:{value:new Se},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},Mh=class extends k8{constructor({renderer:t,scene:e,camera:n,width:r,height:i,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=r!==void 0?r:512,this.height=i!==void 0?i:512,this.clear=!0,this.renderer=t,this.scene=e,this.camera=n,this.groundReflector=a,this.opacity=ll.uniforms.opacity.value,this.output=0,this.maxDistance=ll.uniforms.maxDistance.value,this.thickness=ll.uniforms.thickness.value,this.tempColor=new Ue,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=ll.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=ll.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=ll.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const l=new Bm;l.type=Im,l.minFilter=Qt,l.magFilter=Qt,this.beautyRenderTarget=new Dn(this.width,this.height,{minFilter:Qt,magFilter:Qt,type:wn,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new Dn(this.width,this.height,{minFilter:Qt,magFilter:Qt}),this.normalRenderTarget=new Dn(this.width,this.height,{minFilter:Qt,magFilter:Qt,type:wn}),this.metalnessRenderTarget=new Dn(this.width,this.height,{minFilter:Qt,magFilter:Qt,type:wn}),this.ssrRenderTarget=new Dn(this.width,this.height,{minFilter:Qt,magFilter:Qt}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new fn({defines:Object.assign({},ll.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:pr.clone(ll.uniforms),vertexShader:ll.vertexShader,fragmentShader:ll.fragmentShader,blending:rn}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new J2,this.normalMaterial.blending=rn,this.metalnessOnMaterial=new vi({color:"white"}),this.metalnessOffMaterial=new vi({color:"black"}),this.blurMaterial=new fn({defines:Object.assign({},Bu.defines),uniforms:pr.clone(Bu.uniforms),vertexShader:Bu.vertexShader,fragmentShader:Bu.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new fn({defines:Object.assign({},Bu.defines),uniforms:pr.clone(Bu.uniforms),vertexShader:Bu.vertexShader,fragmentShader:Bu.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new fn({defines:Object.assign({},Vy.defines),uniforms:pr.clone(Vy.uniforms),vertexShader:Vy.vertexShader,fragmentShader:Vy.fragmentShader,blending:rn}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new fn({uniforms:pr.clone(Rl.uniforms),vertexShader:Rl.vertexShader,fragmentShader:Rl.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:C1,blendDst:S1,blendEquation:Xs,blendSrcAlpha:C1,blendDstAlpha:S1,blendEquationAlpha:Xs}),this.fsQuad=new F8(null),this.originalClearColor=new Ue}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.setRenderTarget(this.beautyRenderTarget),t.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),t.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(t,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(t,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.renderPass(t,this.blurMaterial2,this.blurRenderTarget2)),this.output){case Mh.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=bl,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=bl,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e));break;case Mh.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=bl,this.renderPass(t,this.copyMaterial,this.prevRenderTarget));break;case Mh.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Mh.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Mh.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Mh.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=rn,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderMetalness(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),t.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(t*t+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(t,e),this.prevRenderTarget.setSize(t,e),this.ssrRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.metalnessRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.blurRenderTarget2.setSize(t,e),this.ssrMaterial.uniforms.resolution.value.set(t,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e),this.blurMaterial2.uniforms.resolution.value.set(t,e)}};let gge=Mh;xt(gge,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class fT extends Di{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new _ge(n)}),this.register(function(n){return new Mge(n)}),this.register(function(n){return new Bge(n)}),this.register(function(n){return new Rge(n)}),this.register(function(n){return new Cge(n)}),this.register(function(n){return new Sge(n)}),this.register(function(n){return new wge(n)}),this.register(function(n){return new bge(n)}),this.register(function(n){return new xge(n)}),this.register(function(n){return new Ige(n)}),this.register(function(n){return new Ege(n)}),this.register(function(n){return new Tge(n)}),this.register(function(n){return new vge(n)}),this.register(function(n){return new Pge(n)}),this.register(function(n){return new Dge(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ml.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new oi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ml.decodeText(new Uint8Array(e.slice(0,4)))===_W){try{o[ln.KHR_BINARY_GLTF]=new Lge(e)}catch(u){i&&i(u);return}s=JSON.parse(o[ln.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ml.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new jge(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case ln.KHR_MATERIALS_UNLIT:o[u]=new yge;break;case ln.KHR_DRACO_MESH_COMPRESSION:o[u]=new kge(s,this.dracoLoader);break;case ln.KHR_TEXTURE_TRANSFORM:o[u]=new Fge;break;case ln.KHR_MESH_QUANTIZATION:o[u]=new Oge;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Age(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const ln={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class vge{constructor(e){this.parser=e,this.name=ln.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ue(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new HI(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new QI(u),c.distance=f;break;case"spot":c=new zI(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Uu(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class yge{constructor(){this.name=ln.KHR_MATERIALS_UNLIT}getMaterialType(){return vi}extendParams(e,n,r){const i=[];e.color=new Ue(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class xge{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class _ge{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Se(a,a)}return Promise.all(s)}}class Ege{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Cge{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Ue(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Sge{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class wge{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Ue(a[0],a[1],a[2]),Promise.all(s)}}class bge{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Ige{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Ue(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Tge{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Va}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Mge{constructor(e){this.parser=e,this.name=ln.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class Bge{constructor(e){this.parser=e,this.name=ln.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Rge{constructor(e){this.parser=e,this.name=ln.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Pge{constructor(e){this.name=ln.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,h=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,h,i.mode,i.filter).then(function(d){return d.buffer}):o.ready.then(function(){const d=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(d),u,f,h,i.mode,i.filter),d})})}else return null}}class Dge{constructor(e){this.name=ln.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Do.TRIANGLES&&c.mode!==Do.TRIANGLE_STRIP&&c.mode!==Do.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],h=c[0].count,d=[];for(const m of f){const A=new dt,v=new K,y=new Ri,_=new K(1,1,1),x=new CI(m.geometry,m.material,h);for(let E=0;E<h;E++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,E),l.SCALE&&_.fromBufferAttribute(l.SCALE,E),x.setMatrixAt(E,A.compose(v,y,_));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&m.geometry.setAttribute(E,l[E]);hn.prototype.copy.call(x,m),this.parser.assignFinalMaterial(x),d.push(x)}return u.isGroup?(u.clear(),u.add(...d),u):d[0]}))}}const _W="glTF",Gg=12,$k={JSON:1313821514,BIN:5130562};class Lge{constructor(e){this.name=ln.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Gg);if(this.header={magic:Ml.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==_W)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Gg,i=new DataView(e,Gg);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===$k.JSON){const l=new Uint8Array(e,Gg+s,o);this.content=Ml.decodeText(l)}else if(a===$k.BIN){const l=Gg+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class kge{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ln.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=BS[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=BS[u]||u.toLowerCase();if(o[u]!==void 0){const h=r.accessors[e.attributes[u]],d=C0[h.componentType];c[f]=d.name,l[f]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(h){for(const d in h.attributes){const m=h.attributes[d],A=l[d];A!==void 0&&(m.normalized=A)}f(h)},a,c)})})}}class Fge{constructor(){this.name=ln.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Oge{constructor(){this.name=ln.KHR_MESH_QUANTIZATION}}class EW extends km{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,f=(r-n)/u,h=f*f,d=h*f,m=e*c,A=m-c,v=-2*d+3*h,y=d-h,_=1-v,x=y-h+f;for(let E=0;E!==a;E++){const b=o[A+E+a],w=o[A+E+l]*u,T=o[m+E+a],C=o[m+E]*u;s[E]=_*b+x*w+v*T+y*C}return s}}const Nge=new Ri;class Uge extends EW{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return Nge.fromArray(s).normalize().toArray(s),s}}const Do={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},C0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Wk={9728:Qt,9729:Cn,9984:b1,9985:f8,9986:I1,9987:za},jk={33071:hr,33648:j0,10497:na},w7={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Ql.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ru={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Gge={CUBICSPLINE:void 0,LINEAR:md,STEP:K0},b7={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function zge(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Pd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ef})),t.DefaultMaterial}function xh(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Uu(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Qge(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],h=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function Hge(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Vge(t){let e;const n=t.extensions&&t.extensions[ln.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+I7(n.attributes):e=t.indices+":"+I7(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+I7(t.targets[r]);return e}function I7(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function RS(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function $ge(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Wge=new dt;class jge{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Age,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new RV(this.options.manager):this.textureLoader=new NV(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new oi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};xh(s,a,i),Uu(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[ln.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ml.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=w7[i.type],a=C0[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new xn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=w7[i.type],c=C0[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=i.byteOffset||0,d=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,m=i.normalized===!0;let A,v;if(d&&d!==f){const y=Math.floor(h/d),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let x=n.cache.get(_);x||(A=new c(a,y*d,i.count*d/u),x=new F2(A,d/u),n.cache.add(_,x)),v=new bf(x,l,h%d/u,m)}else a===null?A=new c(i.count*l):A=new c(a,h,i.count*l),v=new xn(A,l,m);if(i.sparse!==void 0){const y=w7.SCALAR,_=C0[i.sparse.indices.componentType],x=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,b=new _(o[1],x,i.sparse.count*y),w=new c(o[2],E,i.sparse.count*l);a!==null&&(v=new xn(v.array.slice(),v.itemSize,v.normalized));for(let T=0,C=b.length;T<C;T++){const I=b[T];if(v.setX(I,w[T*l]),l>=2&&v.setY(I,w[T*l+1]),l>=3&&v.setZ(I,w[T*l+2]),l>=4&&v.setW(I,w[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=Wk[h.magFilter]||Cn,u.minFilter=Wk[h.minFilter]||za,u.wrapS=jk[h.wrapS]||na,u.wrapT=jk[h.wrapT]||na,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(h,d){let m=h;n.isImageBitmapLoader===!0&&(m=function(A){const v=new qn(A);v.needsUpdate=!0,h(v)}),n.load(Ml.resolveURL(f,s.path),m,void 0,d)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||$ge(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[ln.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[ln.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[ln.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new E8,Ur.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new qi,Ur.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Pd}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[ln.KHR_MATERIALS_UNLIT]){const f=i[ln.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Ue(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=$o);const u=s.alphaMode||b7.OPAQUE;if(u===b7.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===b7.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==vi&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Se(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==vi&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==vi&&(a.emissive=new Ue().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==vi&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Uu(f,s),n.associations.set(f,{materials:e}),s.extensions&&xh(i,f,s),f})}createUniqueName(e){const n=un.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[ln.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return Kk(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Vge(c),f=i[u];if(f)o.push(f.promise);else{let h;c.extensions&&c.extensions[ln.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=Kk(new Ht,c,n),i[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?zge(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let d=0,m=u.length;d<m;d++){const A=u[d],v=o[d];let y;const _=c[d];if(v.mode===Do.TRIANGLES||v.mode===Do.TRIANGLE_STRIP||v.mode===Do.TRIANGLE_FAN||v.mode===void 0)y=s.isSkinnedMesh===!0?new EI(A,_):new bn(A,_),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),v.mode===Do.TRIANGLE_STRIP?y.geometry=Vk(y.geometry,hI):v.mode===Do.TRIANGLE_FAN&&(y.geometry=Vk(y.geometry,P6));else if(v.mode===Do.LINES)y=new Qa(A,_);else if(v.mode===Do.LINE_STRIP)y=new zc(A,_);else if(v.mode===Do.LINE_LOOP)y=new SI(A,_);else if(v.mode===Do.POINTS)y=new C8(A,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(y.geometry.morphAttributes).length>0&&Hge(y,s),y.name=n.createUniqueName(s.name||"mesh_"+e),Uu(y,s),v.extensions&&xh(i,y,v),n.assignFinalMaterial(y),f.push(y)}for(let d=0,m=f.length;d<m;d++)n.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return s.extensions&&xh(i,f[0],s),f[0];const h=new Sc;s.extensions&&xh(i,h,s),n.associations.set(h,{meshes:e});for(let d=0,m=f.length;d<m;d++)h.add(f[d]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new rr(Mc.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new eu(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Uu(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const h=new dt;s!==null&&h.fromArray(s.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new O2(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const h=r.channels[u],d=r.samplers[h.sampler],m=h.target,A=m.node,v=r.parameters!==void 0?r.parameters[d.input]:d.input,y=r.parameters!==void 0?r.parameters[d.output]:d.output;m.node!==void 0&&(s.push(this.getDependency("node",A)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",y)),l.push(d),c.push(m))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],h=u[1],d=u[2],m=u[3],A=u[4],v=[];for(let y=0,_=f.length;y<_;y++){const x=f[y],E=h[y],b=d[y],w=m[y],T=A[y];if(x===void 0)continue;x.updateMatrix();let C;switch(Ru[T.path]){case Ru.weights:C=X0;break;case Ru.rotation:C=If;break;case Ru.position:case Ru.scale:default:C=q0;break}const I=x.name?x.name:x.uuid,B=w.interpolation!==void 0?Gge[w.interpolation]:md,R=[];Ru[T.path]===Ru.weights?x.traverse(function(z){z.morphTargetInfluences&&R.push(z.name?z.name:z.uuid)}):R.push(I);let L=b.array;if(b.normalized){const z=RS(L.constructor),O=new Float32Array(L.length);for(let G=0,j=L.length;G<j;G++)O[G]=L[G]*z;L=O}for(let z=0,O=R.length;z<O;z++){const G=new C(R[z]+"."+Ru[T.path],E.array,L,B);w.interpolation==="CUBICSPLINE"&&(G.createInterpolant=function(J){const N=this instanceof If?Uge:EW;return new N(this.times,this.values,this.getValueSize()/3,J)},G.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(G)}}return new Z0(i,void 0,v)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],h=c[2];h!==null&&u.traverse(function(d){d.isSkinnedMesh&&d.bind(h,Wge)});for(let d=0,m=f.length;d<m;d++)u.add(f[d]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new _8:c.length>1?u=new Sc:c.length===1?u=c[0]:u=new hn,u!==c[0])for(let f=0,h=c.length;f<h;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Uu(u,s),s.extensions&&xh(r,u,s),s.matrix!==void 0){const f=new dt;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Sc;r.name&&(s.name=i.createUniqueName(r.name)),Uu(s,r),r.extensions&&xh(n,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[h,d]of i.associations)(h instanceof Ur||h instanceof qn)&&f.set(h,d);return u.traverse(h=>{const d=i.associations.get(h);d!=null&&f.set(h,d)}),f};return i.associations=c(s),s})}}function Kge(t,e,n){const r=e.attributes,i=new $f;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new K(l[0],l[1],l[2]),new K(c[0],c[1],c[2])),a.normalized){const u=RS(C0[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new K,l=new K;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],d=h.min,m=h.max;if(d!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(m[2]))),h.normalized){const A=RS(C0[h.componentType]);l.multiplyScalar(A)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Wf;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function Kk(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=BS[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Uu(t,e),Kge(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?Qge(t,e.targets,n):t})}const PS=class{static createButton(t,e={}){const n=document.createElement("button");function r(){let a=null;async function l(u){u.addEventListener("end",c),await t.xr.setSession(u),n.textContent="EXIT VR",a=u}function c(){a.removeEventListener("end",c),n.textContent="ENTER VR",a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{var u;if(a===null){const f=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(u=navigator.xr)==null||u.requestSession("immersive-vr",{...e,optionalFeatures:f}).then(l)}else a.end()}}function i(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){i(),n.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?r():s(),a&&PS.xrSessionIsGranted&&n.click()}),n;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{PS.xrSessionIsGranted=!0})}};let Jge=PS;xt(Jge,"xrSessionIsGranted",!1);class CW{constructor(e){xt(this,"data"),this.data=e}generateShapes(e,n=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=Yge(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}xt(CW,"isFont");xt(CW,"type");function Yge(t,e,n,r){const i=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<i.length;u++){const f=i[u];if(f===`
`)l=0,c-=o*r.lineHeight;else{const h=Xge(f,s,l,c,n);h&&(l+=h.offsetX+r.letterSpacing,a.push(h.path))}}return a}function Xge(t,e,n,r,i){const s=i.glyphs[t]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const o=new HV;let a,l,c,u,f,h,d,m;if(s.o){const A=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,y=A.length;v<y;)switch(A[v++]){case"m":a=parseInt(A[v++])*e+n,l=parseInt(A[v++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(A[v++])*e+n,l=parseInt(A[v++])*e+r,o.lineTo(a,l);break;case"q":c=parseInt(A[v++])*e+n,u=parseInt(A[v++])*e+r,f=parseInt(A[v++])*e+n,h=parseInt(A[v++])*e+r,o.quadraticCurveTo(f,h,c,u);break;case"b":c=parseInt(A[v++])*e+n,u=parseInt(A[v++])*e+r,f=parseInt(A[v++])*e+n,h=parseInt(A[v++])*e+r,d=parseInt(A[v++])*e+n,m=parseInt(A[v++])*e+r,o.bezierCurveTo(f,h,d,m,c,u);break}}return{offsetX:s.ha*e,path:o}}class qge extends qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Qt,this.minFilter=Qt,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var Zge=typeof global=="object"&&global&&global.Object===Object&&global;const SW=Zge;var e3e=typeof self=="object"&&self&&self.Object===Object&&self,t3e=SW||e3e||Function("return this")();const Vl=t3e;var n3e=Vl.Symbol;const ra=n3e;var wW=Object.prototype,r3e=wW.hasOwnProperty,i3e=wW.toString,zg=ra?ra.toStringTag:void 0;function s3e(t){var e=r3e.call(t,zg),n=t[zg];try{t[zg]=void 0;var r=!0}catch{}var i=i3e.call(t);return r&&(e?t[zg]=n:delete t[zg]),i}var o3e=Object.prototype,a3e=o3e.toString;function l3e(t){return a3e.call(t)}var c3e="[object Null]",u3e="[object Undefined]",Jk=ra?ra.toStringTag:void 0;function Yf(t){return t==null?t===void 0?u3e:c3e:Jk&&Jk in Object(t)?s3e(t):l3e(t)}function Oa(t){return t!=null&&typeof t=="object"}var f3e="[object Symbol]";function O8(t){return typeof t=="symbol"||Oa(t)&&Yf(t)==f3e}function aA(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var h3e=Array.isArray;const mn=h3e;var d3e=1/0,Yk=ra?ra.prototype:void 0,Xk=Yk?Yk.toString:void 0;function bW(t){if(typeof t=="string")return t;if(mn(t))return aA(t,bW)+"";if(O8(t))return Xk?Xk.call(t):"";var e=t+"";return e=="0"&&1/t==-d3e?"-0":e}var p3e=/\s/;function m3e(t){for(var e=t.length;e--&&p3e.test(t.charAt(e)););return e}var g3e=/^\s+/;function A3e(t){return t&&t.slice(0,m3e(t)+1).replace(g3e,"")}function ia(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qk=0/0,v3e=/^[-+]0x[0-9a-f]+$/i,y3e=/^0b[01]+$/i,x3e=/^0o[0-7]+$/i,_3e=parseInt;function E3e(t){if(typeof t=="number")return t;if(O8(t))return qk;if(ia(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ia(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=A3e(t);var n=y3e.test(t);return n||x3e.test(t)?_3e(t.slice(2),n?2:8):v3e.test(t)?qk:+t}var Zk=1/0,C3e=17976931348623157e292;function S3e(t){if(!t)return t===0?t:0;if(t=E3e(t),t===Zk||t===-Zk){var e=t<0?-1:1;return e*C3e}return t===t?t:0}function lA(t){var e=S3e(t),n=e%1;return e===e?n?e-n:e:0}function nm(t){return t}var w3e="[object AsyncFunction]",b3e="[object Function]",I3e="[object GeneratorFunction]",T3e="[object Proxy]";function ru(t){if(!ia(t))return!1;var e=Yf(t);return e==b3e||e==I3e||e==w3e||e==T3e}var M3e=Vl["__core-js_shared__"];const T7=M3e;var eF=function(){var t=/[^.]+$/.exec(T7&&T7.keys&&T7.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function B3e(t){return!!eF&&eF in t}var R3e=Function.prototype,P3e=R3e.toString;function Od(t){if(t!=null){try{return P3e.call(t)}catch{}try{return t+""}catch{}}return""}var D3e=/[\\^$.*+?()[\]{}|]/g,L3e=/^\[object .+?Constructor\]$/,k3e=Function.prototype,F3e=Object.prototype,O3e=k3e.toString,N3e=F3e.hasOwnProperty,U3e=RegExp("^"+O3e.call(N3e).replace(D3e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G3e(t){if(!ia(t)||B3e(t))return!1;var e=ru(t)?U3e:L3e;return e.test(Od(t))}function z3e(t,e){return t==null?void 0:t[e]}function Nd(t,e){var n=z3e(t,e);return G3e(n)?n:void 0}var Q3e=Nd(Vl,"WeakMap");const DS=Q3e;var tF=Object.create,H3e=function(){function t(){}return function(e){if(!ia(e))return{};if(tF)return tF(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const V3e=H3e;function $3e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ti(){}function W3e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var j3e=800,K3e=16,J3e=Date.now;function Y3e(t){var e=0,n=0;return function(){var r=J3e(),i=K3e-(r-n);if(n=r,i>0){if(++e>=j3e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function X3e(t){return function(){return t}}var q3e=function(){try{var t=Nd(Object,"defineProperty");return t({},"",{}),t}catch{}}();const H6=q3e;var Z3e=H6?function(t,e){return H6(t,"toString",{configurable:!0,enumerable:!1,value:X3e(e),writable:!0})}:nm;const e1e=Z3e;var t1e=Y3e(e1e);const n1e=t1e;function IW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function TW(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function r1e(t){return t!==t}function i1e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function hT(t,e,n){return e===e?i1e(t,e,n):TW(t,r1e,n)}function MW(t,e){var n=t==null?0:t.length;return!!n&&hT(t,e,0)>-1}var s1e=9007199254740991,o1e=/^(?:0|[1-9]\d*)$/;function N8(t,e){var n=typeof t;return e=e??s1e,!!e&&(n=="number"||n!="symbol"&&o1e.test(t))&&t>-1&&t%1==0&&t<e}function dT(t,e,n){e=="__proto__"&&H6?H6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function cA(t,e){return t===e||t!==t&&e!==e}var a1e=Object.prototype,l1e=a1e.hasOwnProperty;function U8(t,e,n){var r=t[e];(!(l1e.call(t,e)&&cA(r,n))||n===void 0&&!(e in t))&&dT(t,e,n)}function uA(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?dT(n,a,l):U8(n,a,l)}return n}var nF=Math.max;function c1e(t,e,n){return e=nF(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=nF(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),$3e(t,this,a)}}function pT(t,e){return n1e(c1e(t,e,nm),t+"")}var u1e=9007199254740991;function mT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=u1e}function $l(t){return t!=null&&mT(t.length)&&!ru(t)}function G8(t,e,n){if(!ia(n))return!1;var r=typeof e;return(r=="number"?$l(n)&&N8(e,n.length):r=="string"&&e in n)?cA(n[e],t):!1}function f1e(t){return pT(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&G8(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var h1e=Object.prototype;function fA(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||h1e;return t===n}function d1e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var p1e="[object Arguments]";function rF(t){return Oa(t)&&Yf(t)==p1e}var BW=Object.prototype,m1e=BW.hasOwnProperty,g1e=BW.propertyIsEnumerable,A1e=rF(function(){return arguments}())?rF:function(t){return Oa(t)&&m1e.call(t,"callee")&&!g1e.call(t,"callee")};const z8=A1e;function v1e(){return!1}var RW=typeof Me=="object"&&Me&&!Me.nodeType&&Me,iF=RW&&typeof to=="object"&&to&&!to.nodeType&&to,y1e=iF&&iF.exports===RW,sF=y1e?Vl.Buffer:void 0,x1e=sF?sF.isBuffer:void 0,_1e=x1e||v1e;const K1=_1e;var E1e="[object Arguments]",C1e="[object Array]",S1e="[object Boolean]",w1e="[object Date]",b1e="[object Error]",I1e="[object Function]",T1e="[object Map]",M1e="[object Number]",B1e="[object Object]",R1e="[object RegExp]",P1e="[object Set]",D1e="[object String]",L1e="[object WeakMap]",k1e="[object ArrayBuffer]",F1e="[object DataView]",O1e="[object Float32Array]",N1e="[object Float64Array]",U1e="[object Int8Array]",G1e="[object Int16Array]",z1e="[object Int32Array]",Q1e="[object Uint8Array]",H1e="[object Uint8ClampedArray]",V1e="[object Uint16Array]",$1e="[object Uint32Array]",Kn={};Kn[O1e]=Kn[N1e]=Kn[U1e]=Kn[G1e]=Kn[z1e]=Kn[Q1e]=Kn[H1e]=Kn[V1e]=Kn[$1e]=!0;Kn[E1e]=Kn[C1e]=Kn[k1e]=Kn[S1e]=Kn[F1e]=Kn[w1e]=Kn[b1e]=Kn[I1e]=Kn[T1e]=Kn[M1e]=Kn[B1e]=Kn[R1e]=Kn[P1e]=Kn[D1e]=Kn[L1e]=!1;function W1e(t){return Oa(t)&&mT(t.length)&&!!Kn[Yf(t)]}function hA(t){return function(e){return t(e)}}var PW=typeof Me=="object"&&Me&&!Me.nodeType&&Me,N3=PW&&typeof to=="object"&&to&&!to.nodeType&&to,j1e=N3&&N3.exports===PW,M7=j1e&&SW.process,K1e=function(){try{var t=N3&&N3.require&&N3.require("util").types;return t||M7&&M7.binding&&M7.binding("util")}catch{}}();const Mf=K1e;var oF=Mf&&Mf.isTypedArray,J1e=oF?hA(oF):W1e;const gT=J1e;var Y1e=Object.prototype,X1e=Y1e.hasOwnProperty;function DW(t,e){var n=mn(t),r=!n&&z8(t),i=!n&&!r&&K1(t),s=!n&&!r&&!i&&gT(t),o=n||r||i||s,a=o?d1e(t.length,String):[],l=a.length;for(var c in t)(e||X1e.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||N8(c,l)))&&a.push(c);return a}function LW(t,e){return function(n){return t(e(n))}}var q1e=LW(Object.keys,Object);const Z1e=q1e;var e2e=Object.prototype,t2e=e2e.hasOwnProperty;function kW(t){if(!fA(t))return Z1e(t);var e=[];for(var n in Object(t))t2e.call(t,n)&&n!="constructor"&&e.push(n);return e}function co(t){return $l(t)?DW(t):kW(t)}var n2e=Object.prototype,r2e=n2e.hasOwnProperty,i2e=f1e(function(t,e){if(fA(e)||$l(e)){uA(e,co(e),t);return}for(var n in e)r2e.call(e,n)&&U8(t,n,e[n])});const uo=i2e;function s2e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var o2e=Object.prototype,a2e=o2e.hasOwnProperty;function l2e(t){if(!ia(t))return s2e(t);var e=fA(t),n=[];for(var r in t)r=="constructor"&&(e||!a2e.call(t,r))||n.push(r);return n}function Q8(t){return $l(t)?DW(t,!0):l2e(t)}var c2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u2e=/^\w*$/;function AT(t,e){if(mn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||O8(t)?!0:u2e.test(t)||!c2e.test(t)||e!=null&&t in Object(e)}var f2e=Nd(Object,"create");const J1=f2e;function h2e(){this.__data__=J1?J1(null):{},this.size=0}function d2e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var p2e="__lodash_hash_undefined__",m2e=Object.prototype,g2e=m2e.hasOwnProperty;function A2e(t){var e=this.__data__;if(J1){var n=e[t];return n===p2e?void 0:n}return g2e.call(e,t)?e[t]:void 0}var v2e=Object.prototype,y2e=v2e.hasOwnProperty;function x2e(t){var e=this.__data__;return J1?e[t]!==void 0:y2e.call(e,t)}var _2e="__lodash_hash_undefined__";function E2e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J1&&e===void 0?_2e:e,this}function xd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xd.prototype.clear=h2e;xd.prototype.delete=d2e;xd.prototype.get=A2e;xd.prototype.has=x2e;xd.prototype.set=E2e;function C2e(){this.__data__=[],this.size=0}function H8(t,e){for(var n=t.length;n--;)if(cA(t[n][0],e))return n;return-1}var S2e=Array.prototype,w2e=S2e.splice;function b2e(t){var e=this.__data__,n=H8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():w2e.call(e,n,1),--this.size,!0}function I2e(t){var e=this.__data__,n=H8(e,t);return n<0?void 0:e[n][1]}function T2e(t){return H8(this.__data__,t)>-1}function M2e(t,e){var n=this.__data__,r=H8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function iu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}iu.prototype.clear=C2e;iu.prototype.delete=b2e;iu.prototype.get=I2e;iu.prototype.has=T2e;iu.prototype.set=M2e;var B2e=Nd(Vl,"Map");const Y1=B2e;function R2e(){this.size=0,this.__data__={hash:new xd,map:new(Y1||iu),string:new xd}}function P2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function V8(t,e){var n=t.__data__;return P2e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function D2e(t){var e=V8(this,t).delete(t);return this.size-=e?1:0,e}function L2e(t){return V8(this,t).get(t)}function k2e(t){return V8(this,t).has(t)}function F2e(t,e){var n=V8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function su(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}su.prototype.clear=R2e;su.prototype.delete=D2e;su.prototype.get=L2e;su.prototype.has=k2e;su.prototype.set=F2e;var O2e="Expected a function";function vT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(O2e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(vT.Cache||su),n}vT.Cache=su;var N2e=500;function U2e(t){var e=vT(t,function(r){return n.size===N2e&&n.clear(),r}),n=e.cache;return e}var G2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z2e=/\\(\\)?/g,Q2e=U2e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(G2e,function(n,r,i,s){e.push(i?s.replace(z2e,"$1"):r||n)}),e});const H2e=Q2e;function V2e(t){return t==null?"":bW(t)}function $8(t,e){return mn(t)?t:AT(t,e)?[t]:H2e(V2e(t))}var $2e=1/0;function dA(t){if(typeof t=="string"||O8(t))return t;var e=t+"";return e=="0"&&1/t==-$2e?"-0":e}function yT(t,e){e=$8(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[dA(e[n++])];return n&&n==r?t:void 0}function W2e(t,e,n){var r=t==null?void 0:yT(t,e);return r===void 0?n:r}function xT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var aF=ra?ra.isConcatSpreadable:void 0;function j2e(t){return mn(t)||z8(t)||!!(aF&&t&&t[aF])}function W8(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=j2e),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?W8(a,e-1,n,r,i):xT(i,a):r||(i[i.length]=a)}return i}function Ba(t){var e=t==null?0:t.length;return e?W8(t,1):[]}var K2e=LW(Object.getPrototypeOf,Object);const FW=K2e;function OW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function J2e(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Y2e(){this.__data__=new iu,this.size=0}function X2e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function q2e(t){return this.__data__.get(t)}function Z2e(t){return this.__data__.has(t)}var eAe=200;function tAe(t,e){var n=this.__data__;if(n instanceof iu){var r=n.__data__;if(!Y1||r.length<eAe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new su(r)}return n.set(t,e),this.size=n.size,this}function Pl(t){var e=this.__data__=new iu(t);this.size=e.size}Pl.prototype.clear=Y2e;Pl.prototype.delete=X2e;Pl.prototype.get=q2e;Pl.prototype.has=Z2e;Pl.prototype.set=tAe;function nAe(t,e){return t&&uA(e,co(e),t)}function rAe(t,e){return t&&uA(e,Q8(e),t)}var NW=typeof Me=="object"&&Me&&!Me.nodeType&&Me,lF=NW&&typeof to=="object"&&to&&!to.nodeType&&to,iAe=lF&&lF.exports===NW,cF=iAe?Vl.Buffer:void 0,uF=cF?cF.allocUnsafe:void 0;function sAe(t,e){if(e)return t.slice();var n=t.length,r=uF?uF(n):new t.constructor(n);return t.copy(r),r}function _T(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function UW(){return[]}var oAe=Object.prototype,aAe=oAe.propertyIsEnumerable,fF=Object.getOwnPropertySymbols,lAe=fF?function(t){return t==null?[]:(t=Object(t),_T(fF(t),function(e){return aAe.call(t,e)}))}:UW;const ET=lAe;function cAe(t,e){return uA(t,ET(t),e)}var uAe=Object.getOwnPropertySymbols,fAe=uAe?function(t){for(var e=[];t;)xT(e,ET(t)),t=FW(t);return e}:UW;const GW=fAe;function hAe(t,e){return uA(t,GW(t),e)}function zW(t,e,n){var r=e(t);return mn(t)?r:xT(r,n(t))}function LS(t){return zW(t,co,ET)}function QW(t){return zW(t,Q8,GW)}var dAe=Nd(Vl,"DataView");const kS=dAe;var pAe=Nd(Vl,"Promise");const FS=pAe;var mAe=Nd(Vl,"Set");const S0=mAe;var hF="[object Map]",gAe="[object Object]",dF="[object Promise]",pF="[object Set]",mF="[object WeakMap]",gF="[object DataView]",AAe=Od(kS),vAe=Od(Y1),yAe=Od(FS),xAe=Od(S0),_Ae=Od(DS),Bh=Yf;(kS&&Bh(new kS(new ArrayBuffer(1)))!=gF||Y1&&Bh(new Y1)!=hF||FS&&Bh(FS.resolve())!=dF||S0&&Bh(new S0)!=pF||DS&&Bh(new DS)!=mF)&&(Bh=function(t){var e=Yf(t),n=e==gAe?t.constructor:void 0,r=n?Od(n):"";if(r)switch(r){case AAe:return gF;case vAe:return hF;case yAe:return dF;case xAe:return pF;case _Ae:return mF}return e});const rm=Bh;var EAe=Object.prototype,CAe=EAe.hasOwnProperty;function SAe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&CAe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var wAe=Vl.Uint8Array;const V6=wAe;function CT(t){var e=new t.constructor(t.byteLength);return new V6(e).set(new V6(t)),e}function bAe(t,e){var n=e?CT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var IAe=/\w*$/;function TAe(t){var e=new t.constructor(t.source,IAe.exec(t));return e.lastIndex=t.lastIndex,e}var AF=ra?ra.prototype:void 0,vF=AF?AF.valueOf:void 0;function MAe(t){return vF?Object(vF.call(t)):{}}function BAe(t,e){var n=e?CT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var RAe="[object Boolean]",PAe="[object Date]",DAe="[object Map]",LAe="[object Number]",kAe="[object RegExp]",FAe="[object Set]",OAe="[object String]",NAe="[object Symbol]",UAe="[object ArrayBuffer]",GAe="[object DataView]",zAe="[object Float32Array]",QAe="[object Float64Array]",HAe="[object Int8Array]",VAe="[object Int16Array]",$Ae="[object Int32Array]",WAe="[object Uint8Array]",jAe="[object Uint8ClampedArray]",KAe="[object Uint16Array]",JAe="[object Uint32Array]";function YAe(t,e,n){var r=t.constructor;switch(e){case UAe:return CT(t);case RAe:case PAe:return new r(+t);case GAe:return bAe(t,n);case zAe:case QAe:case HAe:case VAe:case $Ae:case WAe:case jAe:case KAe:case JAe:return BAe(t,n);case DAe:return new r;case LAe:case OAe:return new r(t);case kAe:return TAe(t);case FAe:return new r;case NAe:return MAe(t)}}function XAe(t){return typeof t.constructor=="function"&&!fA(t)?V3e(FW(t)):{}}var qAe="[object Map]";function ZAe(t){return Oa(t)&&rm(t)==qAe}var yF=Mf&&Mf.isMap,eve=yF?hA(yF):ZAe;const tve=eve;var nve="[object Set]";function rve(t){return Oa(t)&&rm(t)==nve}var xF=Mf&&Mf.isSet,ive=xF?hA(xF):rve;const sve=ive;var ove=1,ave=2,lve=4,HW="[object Arguments]",cve="[object Array]",uve="[object Boolean]",fve="[object Date]",hve="[object Error]",VW="[object Function]",dve="[object GeneratorFunction]",pve="[object Map]",mve="[object Number]",$W="[object Object]",gve="[object RegExp]",Ave="[object Set]",vve="[object String]",yve="[object Symbol]",xve="[object WeakMap]",_ve="[object ArrayBuffer]",Eve="[object DataView]",Cve="[object Float32Array]",Sve="[object Float64Array]",wve="[object Int8Array]",bve="[object Int16Array]",Ive="[object Int32Array]",Tve="[object Uint8Array]",Mve="[object Uint8ClampedArray]",Bve="[object Uint16Array]",Rve="[object Uint32Array]",zn={};zn[HW]=zn[cve]=zn[_ve]=zn[Eve]=zn[uve]=zn[fve]=zn[Cve]=zn[Sve]=zn[wve]=zn[bve]=zn[Ive]=zn[pve]=zn[mve]=zn[$W]=zn[gve]=zn[Ave]=zn[vve]=zn[yve]=zn[Tve]=zn[Mve]=zn[Bve]=zn[Rve]=!0;zn[hve]=zn[VW]=zn[xve]=!1;function z5(t,e,n,r,i,s){var o,a=e&ove,l=e&ave,c=e&lve;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!ia(t))return t;var u=mn(t);if(u){if(o=SAe(t),!a)return W3e(t,o)}else{var f=rm(t),h=f==VW||f==dve;if(K1(t))return sAe(t,a);if(f==$W||f==HW||h&&!i){if(o=l||h?{}:XAe(t),!a)return l?hAe(t,rAe(o,t)):cAe(t,nAe(o,t))}else{if(!zn[f])return i?t:{};o=YAe(t,f,a)}}s||(s=new Pl);var d=s.get(t);if(d)return d;s.set(t,o),sve(t)?t.forEach(function(v){o.add(z5(v,e,n,v,t,s))}):tve(t)&&t.forEach(function(v,y){o.set(y,z5(v,e,n,y,t,s))});var m=c?l?QW:LS:l?Q8:co,A=u?void 0:m(t);return IW(A||t,function(v,y){A&&(y=v,v=t[y]),U8(o,y,z5(v,e,n,y,t,s))}),o}var Pve=4;function Yi(t){return z5(t,Pve)}function pA(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var Dve="__lodash_hash_undefined__";function Lve(t){return this.__data__.set(t,Dve),this}function kve(t){return this.__data__.has(t)}function im(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new su;++e<n;)this.add(t[e])}im.prototype.add=im.prototype.push=Lve;im.prototype.has=kve;function WW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ST(t,e){return t.has(e)}var Fve=1,Ove=2;function jW(t,e,n,r,i,s){var o=n&Fve,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=n&Ove?new im:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var m=t[f],A=e[f];if(r)var v=o?r(A,m,f,e,t,s):r(m,A,f,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!WW(e,function(y,_){if(!ST(d,_)&&(m===y||i(m,y,n,r,s)))return d.push(_)})){h=!1;break}}else if(!(m===A||i(m,A,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function Nve(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function wT(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Uve=1,Gve=2,zve="[object Boolean]",Qve="[object Date]",Hve="[object Error]",Vve="[object Map]",$ve="[object Number]",Wve="[object RegExp]",jve="[object Set]",Kve="[object String]",Jve="[object Symbol]",Yve="[object ArrayBuffer]",Xve="[object DataView]",_F=ra?ra.prototype:void 0,B7=_F?_F.valueOf:void 0;function qve(t,e,n,r,i,s,o){switch(n){case Xve:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yve:return!(t.byteLength!=e.byteLength||!s(new V6(t),new V6(e)));case zve:case Qve:case $ve:return cA(+t,+e);case Hve:return t.name==e.name&&t.message==e.message;case Wve:case Kve:return t==e+"";case Vve:var a=Nve;case jve:var l=r&Uve;if(a||(a=wT),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Gve,o.set(t,e);var u=jW(a(t),a(e),r,i,s,o);return o.delete(t),u;case Jve:if(B7)return B7.call(t)==B7.call(e)}return!1}var Zve=1,eye=Object.prototype,tye=eye.hasOwnProperty;function nye(t,e,n,r,i,s){var o=n&Zve,a=LS(t),l=a.length,c=LS(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:tye.call(e,h)))return!1}var d=s.get(t),m=s.get(e);if(d&&m)return d==e&&m==t;var A=!0;s.set(t,e),s.set(e,t);for(var v=o;++f<l;){h=a[f];var y=t[h],_=e[h];if(r)var x=o?r(_,y,h,e,t,s):r(y,_,h,t,e,s);if(!(x===void 0?y===_||i(y,_,n,r,s):x)){A=!1;break}v||(v=h=="constructor")}if(A&&!v){var E=t.constructor,b=e.constructor;E!=b&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof b=="function"&&b instanceof b)&&(A=!1)}return s.delete(t),s.delete(e),A}var rye=1,EF="[object Arguments]",CF="[object Array]",$y="[object Object]",iye=Object.prototype,SF=iye.hasOwnProperty;function sye(t,e,n,r,i,s){var o=mn(t),a=mn(e),l=o?CF:rm(t),c=a?CF:rm(e);l=l==EF?$y:l,c=c==EF?$y:c;var u=l==$y,f=c==$y,h=l==c;if(h&&K1(t)){if(!K1(e))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Pl),o||gT(t)?jW(t,e,n,r,i,s):qve(t,e,l,n,r,i,s);if(!(n&rye)){var d=u&&SF.call(t,"__wrapped__"),m=f&&SF.call(e,"__wrapped__");if(d||m){var A=d?t.value():t,v=m?e.value():e;return s||(s=new Pl),i(A,v,n,r,s)}}return h?(s||(s=new Pl),nye(t,e,n,r,i,s)):!1}function bT(t,e,n,r,i){return t===e?!0:t==null||e==null||!Oa(t)&&!Oa(e)?t!==t&&e!==e:sye(t,e,n,r,bT,i)}var oye=1,aye=2;function lye(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Pl;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?bT(u,c,oye|aye,r,f):h))return!1}}return!0}function KW(t){return t===t&&!ia(t)}function cye(t){for(var e=co(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,KW(i)]}return e}function JW(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function uye(t){var e=cye(t);return e.length==1&&e[0][2]?JW(e[0][0],e[0][1]):function(n){return n===t||lye(n,t,e)}}function fye(t,e){return t!=null&&e in Object(t)}function YW(t,e,n){e=$8(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=dA(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&mT(i)&&N8(o,i)&&(mn(t)||z8(t)))}function hye(t,e){return t!=null&&YW(t,e,fye)}var dye=1,pye=2;function mye(t,e){return AT(t)&&KW(e)?JW(dA(t),e):function(n){var r=W2e(n,t);return r===void 0&&r===e?hye(n,t):bT(e,r,dye|pye)}}function gye(t){return function(e){return e==null?void 0:e[t]}}function Aye(t){return function(e){return yT(e,t)}}function vye(t){return AT(t)?gye(dA(t)):Aye(t)}function Wl(t){return typeof t=="function"?t:t==null?nm:typeof t=="object"?mn(t)?mye(t[0],t[1]):uye(t):vye(t)}function yye(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function xye(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var _ye=xye();const Eye=_ye;function Cye(t,e){return t&&Eye(t,e,co)}function Sye(t,e){return function(n,r){if(n==null)return n;if(!$l(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var wye=Sye(Cye);const Ud=wye;function bye(t,e,n,r){return Ud(t,function(i,s,o){e(r,i,n(i),o)}),r}function Iye(t,e){return function(n,r){var i=mn(n)?yye:bye,s=e?e():{};return i(n,t,Wl(r),s)}}var XW=Object.prototype,Tye=XW.hasOwnProperty,Mye=pT(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&G8(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Q8(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||cA(u,XW[c])&&!Tye.call(t,c))&&(t[c]=s[c])}return t});const IT=Mye;function wF(t){return Oa(t)&&$l(t)}function qW(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Bye=200;function Rye(t,e,n,r){var i=-1,s=MW,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=aA(e,hA(n))),r?(s=qW,o=!1):e.length>=Bye&&(s=ST,o=!1,e=new im(e));e:for(;++i<a;){var u=t[i],f=n==null?u:n(u);if(u=r||u!==0?u:0,o&&f===f){for(var h=c;h--;)if(e[h]===f)continue e;l.push(u)}else s(e,f,r)||l.push(u)}return l}var Pye=pT(function(t,e){return wF(t)?Rye(t,W8(e,1,wF,!0)):[]});const j8=Pye;function sm(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function wi(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:lA(e),OW(t,e<0?0:e,r)):[]}function X1(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:lA(e),e=r-e,OW(t,0,e<0?0:e)):[]}function Dye(t){return typeof t=="function"?t:nm}function Ft(t,e){var n=mn(t)?IW:Ud;return n(t,Dye(e))}function Lye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function kye(t,e){var n=!0;return Ud(t,function(r,i,s){return n=!!e(r,i,s),n}),n}function Ra(t,e,n){var r=mn(t)?Lye:kye;return n&&G8(t,e,n)&&(e=void 0),r(t,Wl(e))}function ZW(t,e){var n=[];return Ud(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function fa(t,e){var n=mn(t)?_T:ZW;return n(t,Wl(e))}function Fye(t){return function(e,n,r){var i=Object(e);if(!$l(e)){var s=Wl(n);e=co(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var Oye=Math.max;function Nye(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:lA(n);return i<0&&(i=Oye(r+i,0)),TW(t,Wl(e),i)}var Uye=Fye(Nye);const om=Uye;function Na(t){return t&&t.length?t[0]:void 0}function Gye(t,e){var n=-1,r=$l(t)?Array(t.length):[];return Ud(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function Tt(t,e){var n=mn(t)?aA:Gye;return n(t,Wl(e))}function Xo(t,e){return W8(Tt(t,e),1)}var zye=Object.prototype,Qye=zye.hasOwnProperty,Hye=Iye(function(t,e,n){Qye.call(t,n)?t[n].push(e):dT(t,n,[e])});const Vye=Hye;var $ye=Object.prototype,Wye=$ye.hasOwnProperty;function jye(t,e){return t!=null&&Wye.call(t,e)}function Dt(t,e){return t!=null&&YW(t,e,jye)}var Kye="[object String]";function Ns(t){return typeof t=="string"||!mn(t)&&Oa(t)&&Yf(t)==Kye}function Jye(t,e){return aA(e,function(n){return t[n]})}function ri(t){return t==null?[]:Jye(t,co(t))}var Yye=Math.max;function As(t,e,n,r){t=$l(t)?t:ri(t),n=n&&!r?lA(n):0;var i=t.length;return n<0&&(n=Yye(i+n,0)),Ns(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&hT(t,e,n)>-1}var Xye=Math.max;function bF(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:lA(n);return i<0&&(i=Xye(r+i,0)),hT(t,e,i)}var qye="[object Map]",Zye="[object Set]",e5e=Object.prototype,t5e=e5e.hasOwnProperty;function Vn(t){if(t==null)return!0;if($l(t)&&(mn(t)||typeof t=="string"||typeof t.splice=="function"||K1(t)||gT(t)||z8(t)))return!t.length;var e=rm(t);if(e==qye||e==Zye)return!t.size;if(fA(t))return!kW(t).length;for(var n in t)if(t5e.call(t,n))return!1;return!0}var n5e="[object RegExp]";function r5e(t){return Oa(t)&&Yf(t)==n5e}var IF=Mf&&Mf.isRegExp,i5e=IF?hA(IF):r5e;const Qc=i5e;function Hc(t){return t===void 0}var s5e="Expected a function";function o5e(t){if(typeof t!="function")throw new TypeError(s5e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function a5e(t,e,n,r){if(!ia(t))return t;e=$8(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=dA(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=ia(u)?u:N8(e[i+1])?[]:{})}U8(a,l,c),a=a[l]}return t}function l5e(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=yT(t,o);n(a,o)&&a5e(s,$8(o,t),a)}return s}function Ka(t,e){if(t==null)return{};var n=aA(QW(t),function(r){return[r]});return e=Wl(e),l5e(t,n,function(r,i){return e(r,i[0])})}function c5e(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function fo(t,e,n){var r=mn(t)?J2e:c5e,i=arguments.length<3;return r(t,Wl(e),n,i,Ud)}function K8(t,e){var n=mn(t)?_T:ZW;return n(t,o5e(Wl(e)))}function u5e(t,e){var n;return Ud(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function ej(t,e,n){var r=mn(t)?WW:u5e;return n&&G8(t,e,n)&&(e=void 0),r(t,Wl(e))}var f5e=1/0,h5e=S0&&1/wT(new S0([,-0]))[1]==f5e?function(t){return new S0(t)}:ti;const d5e=h5e;var p5e=200;function m5e(t,e,n){var r=-1,i=MW,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=qW;else if(s>=p5e){var c=e?null:d5e(t);if(c)return wT(c);o=!1,i=ST,l=new im}else l=e?[]:a;e:for(;++r<s;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(u)}else i(l,f,n)||(l!==a&&l.push(f),a.push(u))}return a}function TT(t){return t&&t.length?m5e(t):[]}function OS(t){console&&console.error&&console.error(`Error: ${t}`)}function tj(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function nj(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function rj(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function g5e(t){return A5e(t)?t.LABEL:t.name}function A5e(t){return Ns(t.LABEL)&&t.LABEL!==""}class jl{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Ft(this.definition,n=>{n.accept(e)})}}class ho extends jl{constructor(e){super([]),this.idx=1,uo(this,Ka(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}let Um=class extends jl{constructor(e){super(e.definition),this.orgText="",uo(this,Ka(e,n=>n!==void 0))}};class Us extends jl{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,uo(this,Ka(e,n=>n!==void 0))}}class Ds extends jl{constructor(e){super(e.definition),this.idx=1,uo(this,Ka(e,n=>n!==void 0))}}class Kl extends jl{constructor(e){super(e.definition),this.idx=1,uo(this,Ka(e,n=>n!==void 0))}}class Jl extends jl{constructor(e){super(e.definition),this.idx=1,uo(this,Ka(e,n=>n!==void 0))}}class ii extends jl{constructor(e){super(e.definition),this.idx=1,uo(this,Ka(e,n=>n!==void 0))}}class Ja extends jl{constructor(e){super(e.definition),this.idx=1,uo(this,Ka(e,n=>n!==void 0))}}class Ya extends jl{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,uo(this,Ka(e,n=>n!==void 0))}}class yr{constructor(e){this.idx=1,uo(this,Ka(e,n=>n!==void 0))}accept(e){e.visit(this)}}function v5e(t){return Tt(t,Q5)}function Q5(t){function e(n){return Tt(n,Q5)}if(t instanceof ho){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Ns(t.label)&&(n.label=t.label),n}else{if(t instanceof Us)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Ds)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Kl)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Jl)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Q5(new yr({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ja)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Q5(new yr({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ii)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Ya)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof yr){const n={type:"Terminal",name:t.terminalType.name,label:g5e(t.terminalType),idx:t.idx};Ns(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Qc(r)?r.source:r),n}else{if(t instanceof Um)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class Gm{visit(e){const n=e;switch(n.constructor){case ho:return this.visitNonTerminal(n);case Us:return this.visitAlternative(n);case Ds:return this.visitOption(n);case Kl:return this.visitRepetitionMandatory(n);case Jl:return this.visitRepetitionMandatoryWithSeparator(n);case Ja:return this.visitRepetitionWithSeparator(n);case ii:return this.visitRepetition(n);case Ya:return this.visitAlternation(n);case yr:return this.visitTerminal(n);case Um:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function y5e(t){return t instanceof Us||t instanceof Ds||t instanceof ii||t instanceof Kl||t instanceof Jl||t instanceof Ja||t instanceof yr||t instanceof Um}function $6(t,e=[]){return t instanceof Ds||t instanceof ii||t instanceof Ja?!0:t instanceof Ya?ej(t.definition,r=>$6(r,e)):t instanceof ho&&As(e,t)?!1:t instanceof jl?(t instanceof ho&&e.push(t),Ra(t.definition,r=>$6(r,e))):!1}function x5e(t){return t instanceof Ya}function pl(t){if(t instanceof ho)return"SUBRULE";if(t instanceof Ds)return"OPTION";if(t instanceof Ya)return"OR";if(t instanceof Kl)return"AT_LEAST_ONE";if(t instanceof Jl)return"AT_LEAST_ONE_SEP";if(t instanceof Ja)return"MANY_SEP";if(t instanceof ii)return"MANY";if(t instanceof yr)return"CONSUME";throw Error("non exhaustive match")}class J8{walk(e,n=[]){Ft(e.definition,(r,i)=>{const s=wi(e.definition,i+1);if(r instanceof ho)this.walkProdRef(r,s,n);else if(r instanceof yr)this.walkTerminal(r,s,n);else if(r instanceof Us)this.walkFlat(r,s,n);else if(r instanceof Ds)this.walkOption(r,s,n);else if(r instanceof Kl)this.walkAtLeastOne(r,s,n);else if(r instanceof Jl)this.walkAtLeastOneSep(r,s,n);else if(r instanceof Ja)this.walkManySep(r,s,n);else if(r instanceof ii)this.walkMany(r,s,n);else if(r instanceof Ya)this.walkOr(r,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new Ds({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=TF(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new Ds({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=TF(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);Ft(e.definition,s=>{const o=new Us({definition:[s]});this.walk(o,i)})}}function TF(t,e,n){return[new Ds({definition:[new yr({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function mA(t){if(t instanceof ho)return mA(t.referencedRule);if(t instanceof yr)return C5e(t);if(y5e(t))return _5e(t);if(x5e(t))return E5e(t);throw Error("non exhaustive match")}function _5e(t){let e=[];const n=t.definition;let r=0,i=n.length>r,s,o=!0;for(;i&&o;)s=n[r],o=$6(s),e=e.concat(mA(s)),r=r+1,i=n.length>r;return TT(e)}function E5e(t){const e=Tt(t.definition,n=>mA(n));return TT(Ba(e))}function C5e(t){return[t.terminalType]}const ij="_~IN~_";class S5e extends J8{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=b5e(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(r),o=new Us({definition:s}),a=mA(o);this.follows[i]=a}}function w5e(t){const e={};return Ft(t,n=>{const r=new S5e(n).startWalking();uo(e,r)}),e}function b5e(t,e){return t.name+e+ij}function Ot(t){return t.charCodeAt(0)}function R7(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function Qg(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function Mp(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function I5e(){throw Error("Internal Error - Should never get here!")}function MF(t){return t.type==="Character"}const W6=[];for(let t=Ot("0");t<=Ot("9");t++)W6.push(t);const j6=[Ot("_")].concat(W6);for(let t=Ot("a");t<=Ot("z");t++)j6.push(t);for(let t=Ot("A");t<=Ot("Z");t++)j6.push(t);const BF=[Ot(" "),Ot("\f"),Ot(`
`),Ot("\r"),Ot("	"),Ot("\v"),Ot("	"),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot(""),Ot("\u2028"),Ot("\u2029"),Ot(""),Ot(""),Ot(""),Ot("\uFEFF")],T5e=/[0-9a-fA-F]/,Wy=/[0-9]/,M5e=/[1-9]/;class B5e{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Qg(r,"global");break;case"i":Qg(r,"ignoreCase");break;case"m":Qg(r,"multiLine");break;case"u":Qg(r,"unicode");break;case"y":Qg(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}Mp(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return I5e()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;Mp(n);break}if(!(e===!0&&n===void 0)&&Mp(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Mp(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Ot(`
`),Ot("\r"),Ot("\u2028"),Ot("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=W6;break;case"D":e=W6,n=!0;break;case"s":e=BF;break;case"S":e=BF,n=!0;break;case"w":e=j6;break;case"W":e=j6,n=!0;break}if(Mp(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Ot("\f");break;case"n":e=Ot(`
`);break;case"r":e=Ot("\r");break;case"t":e=Ot("	");break;case"v":e=Ot("\v");break}if(Mp(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Ot("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:Ot(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:Ot(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,MF(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,MF(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else R7(r.value,e),e.push(Ot("-")),R7(i.value,e)}else R7(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Ot("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(M5e.test(e)===!1)throw Error("Expecting a positive integer");for(;Wy.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(Wy.test(e)===!1)throw Error("Expecting an integer");for(;Wy.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Ot(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Wy.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let i=0;i<e;i++){const s=this.popChar();if(T5e.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class MT{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let H5={};const R5e=new B5e;function Y8(t){const e=t.toString();if(H5.hasOwnProperty(e))return H5[e];{const n=R5e.pattern(e);return H5[e]=n,n}}function P5e(){H5={}}const sj="Complement Sets are not supported for first char optimization",K6=`Unable to use "first char" lexer optimizations:
`;function D5e(t,e=!1){try{const n=Y8(t);return NS(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===sj)e&&tj(`${K6}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),OS(`${K6}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function NS(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)NS(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":jy(o.value,e,n);break;case"Set":if(o.complement===!0)throw Error(sj);Ft(o.value,l=>{if(typeof l=="number")jy(l,e,n);else{const c=l;if(n===!0)for(let u=c.from;u<=c.to;u++)jy(u,e,n);else{for(let u=c.from;u<=c.to&&u<f3;u++)jy(u,e,n);if(c.to>=f3){const u=c.from>=f3?c.from:f3,f=c.to,h=Bf(u),d=Bf(f);for(let m=h;m<=d;m++)e[m]=m}}}});break;case"Group":NS(o.value,e,n);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&US(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return ri(e)}function jy(t,e,n){const r=Bf(t);e[r]=r,n===!0&&L5e(t,e)}function L5e(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const i=Bf(r.charCodeAt(0));e[i]=i}else{const i=n.toLowerCase();if(i!==n){const s=Bf(i.charCodeAt(0));e[s]=s}}}function RF(t,e){return om(t.value,n=>{if(typeof n=="number")return As(e,n);{const r=n;return om(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function US(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?mn(t.value)?Ra(t.value,US):US(t.value):!1}class k5e extends MT{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){As(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?RF(e,this.targetCharCodes)===void 0&&(this.found=!0):RF(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function BT(t,e){if(e instanceof RegExp){const n=Y8(e),r=new k5e(t);return r.visit(n),r.found}else return om(e,n=>As(t,n.charCodeAt(0)))!==void 0}const _d="PATTERN",u3="defaultMode",Ky="modes";let oj=typeof new RegExp("(?:)").sticky=="boolean";function F5e(t,e){e=IT(e,{useSticky:oj,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(_,x)=>x()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{s6e()});let r;n("Reject Lexer.NA",()=>{r=K8(t,_=>_[_d]===qo.NA)});let i=!1,s;n("Transform Patterns",()=>{i=!1,s=Tt(r,_=>{const x=_[_d];if(Qc(x)){const E=x.source;return E.length===1&&E!=="^"&&E!=="$"&&E!=="."&&!x.ignoreCase?E:E.length===2&&E[0]==="\\"&&!As(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],E[1])?E[1]:e.useSticky?DF(x):PF(x)}else{if(ru(x))return i=!0,{exec:x};if(typeof x=="object")return i=!0,x;if(typeof x=="string"){if(x.length===1)return x;{const E=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),b=new RegExp(E);return e.useSticky?DF(b):PF(b)}}else throw Error("non exhaustive match")}})});let o,a,l,c,u;n("misc mapping",()=>{o=Tt(r,_=>_.tokenTypeIdx),a=Tt(r,_=>{const x=_.GROUP;if(x!==qo.SKIPPED){if(Ns(x))return x;if(Hc(x))return!1;throw Error("non exhaustive match")}}),l=Tt(r,_=>{const x=_.LONGER_ALT;if(x)return mn(x)?Tt(x,b=>bF(r,b)):[bF(r,x)]}),c=Tt(r,_=>_.PUSH_MODE),u=Tt(r,_=>Dt(_,"POP_MODE"))});let f;n("Line Terminator Handling",()=>{const _=cj(e.lineTerminatorCharacters);f=Tt(r,x=>!1),e.positionTracking!=="onlyOffset"&&(f=Tt(r,x=>Dt(x,"LINE_BREAKS")?!!x.LINE_BREAKS:lj(x,_)===!1&&BT(_,x.PATTERN)))});let h,d,m,A;n("Misc Mapping #2",()=>{h=Tt(r,aj),d=Tt(s,n6e),m=fo(r,(_,x)=>{const E=x.GROUP;return Ns(E)&&E!==qo.SKIPPED&&(_[E]=[]),_},{}),A=Tt(s,(_,x)=>({pattern:s[x],longerAlt:l[x],canLineTerminator:f[x],isCustom:h[x],short:d[x],group:a[x],push:c[x],pop:u[x],tokenTypeIdx:o[x],tokenType:r[x]}))});let v=!0,y=[];return e.safeMode||n("First Char Optimization",()=>{y=fo(r,(_,x,E)=>{if(typeof x.PATTERN=="string"){const b=x.PATTERN.charCodeAt(0),w=Bf(b);P7(_,w,A[E])}else if(mn(x.START_CHARS_HINT)){let b;Ft(x.START_CHARS_HINT,w=>{const T=typeof w=="string"?w.charCodeAt(0):w,C=Bf(T);b!==C&&(b=C,P7(_,C,A[E]))})}else if(Qc(x.PATTERN))if(x.PATTERN.unicode)v=!1,e.ensureOptimizations&&OS(`${K6}	Unable to analyze < ${x.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const b=D5e(x.PATTERN,e.ensureOptimizations);Vn(b)&&(v=!1),Ft(b,w=>{P7(_,w,A[E])})}else e.ensureOptimizations&&OS(`${K6}	TokenType: <${x.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return _},[])}),{emptyGroups:m,patternIdxToConfig:A,charCodeToPatternIdxToConfig:y,hasCustom:i,canBeOptimized:v}}function O5e(t,e){let n=[];const r=U5e(t);n=n.concat(r.errors);const i=G5e(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(N5e(s)),n=n.concat(K5e(s)),n=n.concat(J5e(s,e)),n=n.concat(Y5e(s)),n}function N5e(t){let e=[];const n=fa(t,r=>Qc(r[_d]));return e=e.concat(Q5e(n)),e=e.concat($5e(n)),e=e.concat(W5e(n)),e=e.concat(j5e(n)),e=e.concat(H5e(n)),e}function U5e(t){const e=fa(t,i=>!Dt(i,_d)),n=Tt(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Mr.MISSING_PATTERN,tokenTypes:[i]})),r=j8(t,e);return{errors:n,valid:r}}function G5e(t){const e=fa(t,i=>{const s=i[_d];return!Qc(s)&&!ru(s)&&!Dt(s,"exec")&&!Ns(s)}),n=Tt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Mr.INVALID_PATTERN,tokenTypes:[i]})),r=j8(t,e);return{errors:n,valid:r}}const z5e=/[^\\][$]/;function Q5e(t){class e extends MT{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=fa(t,i=>{const s=i.PATTERN;try{const o=Y8(s),a=new e;return a.visit(o),a.found}catch{return z5e.test(s.source)}});return Tt(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Mr.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function H5e(t){const e=fa(t,r=>r.PATTERN.test(""));return Tt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Mr.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const V5e=/[^\\[][\^]|^\^/;function $5e(t){class e extends MT{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=fa(t,i=>{const s=i.PATTERN;try{const o=Y8(s),a=new e;return a.visit(o),a.found}catch{return V5e.test(s.source)}});return Tt(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Mr.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function W5e(t){const e=fa(t,r=>{const i=r[_d];return i instanceof RegExp&&(i.multiline||i.global)});return Tt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Mr.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function j5e(t){const e=[];let n=Tt(t,s=>fo(t,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!As(e,a)&&a.PATTERN!==qo.NA&&(e.push(a),o.push(a)),o),[]));n=pA(n);const r=fa(n,s=>s.length>1);return Tt(r,s=>{const o=Tt(s,l=>l.name);return{message:`The same RegExp pattern ->${Na(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:Mr.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function K5e(t){const e=fa(t,r=>{if(!Dt(r,"GROUP"))return!1;const i=r.GROUP;return i!==qo.SKIPPED&&i!==qo.NA&&!Ns(i)});return Tt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Mr.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function J5e(t,e){const n=fa(t,i=>i.PUSH_MODE!==void 0&&!As(e,i.PUSH_MODE));return Tt(n,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Mr.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function Y5e(t){const e=[],n=fo(t,(r,i,s)=>{const o=i.PATTERN;return o===qo.NA||(Ns(o)?r.push({str:o,idx:s,tokenType:i}):Qc(o)&&q5e(o)&&r.push({str:o.source,idx:s,tokenType:i})),r},[]);return Ft(t,(r,i)=>{Ft(n,({str:s,idx:o,tokenType:a})=>{if(i<o&&X5e(s,r.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Mr.UNREACHABLE_PATTERN,tokenTypes:[r,a]})}})}),e}function X5e(t,e){if(Qc(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(ru(e))return e(t,0,[],{});if(Dt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function q5e(t){return om([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function PF(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function DF(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function Z5e(t,e,n){const r=[];return Dt(t,u3)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+u3+`> property in its definition
`,type:Mr.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Dt(t,Ky)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Ky+`> property in its definition
`,type:Mr.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Dt(t,Ky)&&Dt(t,u3)&&!Dt(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${u3}: <${t.defaultMode}>which does not exist
`,type:Mr.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Dt(t,Ky)&&Ft(t.modes,(i,s)=>{Ft(i,(o,a)=>{if(Hc(o))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:Mr.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Dt(o,"LONGER_ALT")){const l=mn(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];Ft(l,c=>{!Hc(c)&&!As(i,c)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${o.name}> outside of mode <${s}>
`,type:Mr.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function e6e(t,e,n){const r=[];let i=!1;const s=pA(Ba(ri(t.modes))),o=K8(s,l=>l[_d]===qo.NA),a=cj(n);return e&&Ft(o,l=>{const c=lj(l,a);if(c!==!1){const f={message:i6e(l,c),type:c.issue,tokenType:l};r.push(f)}else Dt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):BT(a,l.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Mr.NO_LINE_BREAKS_FLAGS}),r}function t6e(t){const e={},n=co(t);return Ft(n,r=>{const i=t[r];if(mn(i))e[r]=[];else throw Error("non exhaustive match")}),e}function aj(t){const e=t.PATTERN;if(Qc(e))return!1;if(ru(e))return!0;if(Dt(e,"exec"))return!0;if(Ns(e))return!1;throw Error("non exhaustive match")}function n6e(t){return Ns(t)&&t.length===1?t.charCodeAt(0):!1}const r6e={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function lj(t,e){if(Dt(t,"LINE_BREAKS"))return!1;if(Qc(t.PATTERN)){try{BT(e,t.PATTERN)}catch(n){return{issue:Mr.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Ns(t.PATTERN))return!1;if(aj(t))return{issue:Mr.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function i6e(t,e){if(e.issue===Mr.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Mr.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function cj(t){return Tt(t,n=>Ns(n)?n.charCodeAt(0):n)}function P7(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const f3=256;let V5=[];function Bf(t){return t<f3?t:V5[t]}function s6e(){if(Vn(V5)){V5=new Array(65536);for(let t=0;t<65536;t++)V5[t]=t>255?255+~~(t/255):t}}function gA(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function J6(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let LF=1;const uj={};function AA(t){const e=o6e(t);a6e(e),c6e(e),l6e(e),Ft(e,n=>{n.isParent=n.categoryMatches.length>0})}function o6e(t){let e=Yi(t),n=t,r=!0;for(;r;){n=pA(Ba(Tt(n,s=>s.CATEGORIES)));const i=j8(n,e);e=e.concat(i),Vn(i)?r=!1:n=i}return e}function a6e(t){Ft(t,e=>{hj(e)||(uj[LF]=e,e.tokenTypeIdx=LF++),kF(e)&&!mn(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),kF(e)||(e.CATEGORIES=[]),u6e(e)||(e.categoryMatches=[]),f6e(e)||(e.categoryMatchesMap={})})}function l6e(t){Ft(t,e=>{e.categoryMatches=[],Ft(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(uj[r].tokenTypeIdx)})})}function c6e(t){Ft(t,e=>{fj([],e)})}function fj(t,e){Ft(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),Ft(e.CATEGORIES,n=>{const r=t.concat(e);As(r,n)||fj(r,n)})}function hj(t){return Dt(t,"tokenTypeIdx")}function kF(t){return Dt(t,"CATEGORIES")}function u6e(t){return Dt(t,"categoryMatches")}function f6e(t){return Dt(t,"categoryMatchesMap")}function h6e(t){return Dt(t,"tokenTypeIdx")}const d6e={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var Mr;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Mr||(Mr={}));const h3={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:d6e,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(h3);class qo{constructor(e,n=h3){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${i}>`);const{time:a,value:l}=nj(s),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${o}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=uo({},h3,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===h3.lineTerminatorsPattern)this.config.lineTerminatorsPattern=r6e;else if(this.config.lineTerminatorCharacters===h3.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),mn(e)?i={modes:{defaultMode:Yi(e)},defaultMode:u3}:(s=!1,i=Yi(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Z5e(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(e6e(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Ft(i.modes,(a,l)=>{i.modes[l]=K8(a,c=>Hc(c))});const o=co(i.modes);if(Ft(i.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(O5e(a,o))}),Vn(this.lexerDefinitionErrors)){AA(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=F5e(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=uo({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Vn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=Tt(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}Ft(this.lexerDefinitionWarning,a=>{tj(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(oj?(this.chopInput=nm,this.match=this.matchWithTest):(this.updateLastIndex=ti,this.match=this.matchWithExec),s&&(this.handleModes=ti),this.trackStartLines===!1&&(this.computeNewColumn=nm),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ti),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=fo(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(n.ensureOptimizations&&!Vn(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{P5e()}),this.TRACE_INIT("toFastProperties",()=>{rj(this)})})}tokenize(e,n=this.defaultMode){if(!Vn(this.lexerDefinitionErrors)){const i=Tt(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,o,a,l,c,u,f,h,d,m,A,v,y;const _=e,x=_.length;let E=0,b=0;const w=this.hasCustom?0:Math.floor(e.length/10),T=new Array(w),C=[];let I=this.trackStartLines?1:void 0,B=this.trackStartLines?1:void 0;const R=t6e(this.emptyGroups),L=this.trackStartLines,z=this.config.lineTerminatorsPattern;let O=0,G=[],j=[];const J=[],N=[];Object.freeze(N);let V;function Q(){return G}function Z(oe){const Fe=Bf(oe),he=j[Fe];return he===void 0?N:he}const re=oe=>{if(J.length===1&&oe.tokenType.PUSH_MODE===void 0){const Fe=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(oe);C.push({offset:oe.startOffset,line:oe.startLine,column:oe.startColumn,length:oe.image.length,message:Fe})}else{J.pop();const Fe=sm(J);G=this.patternIdxToConfig[Fe],j=this.charCodeToPatternIdxToConfig[Fe],O=G.length;const he=this.canModeBeOptimized[Fe]&&this.config.safeMode===!1;j&&he?V=Z:V=Q}};function ge(oe){J.push(oe),j=this.charCodeToPatternIdxToConfig[oe],G=this.patternIdxToConfig[oe],O=G.length,O=G.length;const Fe=this.canModeBeOptimized[oe]&&this.config.safeMode===!1;j&&Fe?V=Z:V=Q}ge.call(this,n);let Ee;const be=this.config.recoveryEnabled;for(;E<x;){l=null;const oe=_.charCodeAt(E),Fe=V(oe),he=Fe.length;for(r=0;r<he;r++){Ee=Fe[r];const U=Ee.pattern;c=null;const W=Ee.short;if(W!==!1?oe===W&&(l=U):Ee.isCustom===!0?(y=U.exec(_,E,T,R),y!==null?(l=y[0],y.payload!==void 0&&(c=y.payload)):l=null):(this.updateLastIndex(U,E),l=this.match(U,e,E)),l!==null){if(a=Ee.longerAlt,a!==void 0){const Y=a.length;for(s=0;s<Y;s++){const ie=G[a[s]],te=ie.pattern;if(u=null,ie.isCustom===!0?(y=te.exec(_,E,T,R),y!==null?(o=y[0],y.payload!==void 0&&(u=y.payload)):o=null):(this.updateLastIndex(te,E),o=this.match(te,e,E)),o&&o.length>l.length){l=o,c=u,Ee=ie;break}}}break}}if(l!==null){if(f=l.length,h=Ee.group,h!==void 0&&(d=Ee.tokenTypeIdx,m=this.createTokenInstance(l,E,d,Ee.tokenType,I,B,f),this.handlePayload(m,c),h===!1?b=this.addToken(T,b,m):R[h].push(m)),e=this.chopInput(e,f),E=E+f,B=this.computeNewColumn(B,f),L===!0&&Ee.canLineTerminator===!0){let U=0,W,Y;z.lastIndex=0;do W=z.test(l),W===!0&&(Y=z.lastIndex-1,U++);while(W===!0);U!==0&&(I=I+U,B=f-Y,this.updateTokenEndLineColumnLocation(m,h,Y,U,I,B,f))}this.handleModes(Ee,re,ge,m)}else{const U=E,W=I,Y=B;let ie=be===!1;for(;ie===!1&&E<x;)for(e=this.chopInput(e,1),E++,i=0;i<O;i++){const te=G[i],de=te.pattern,Pe=te.short;if(Pe!==!1?_.charCodeAt(E)===Pe&&(ie=!0):te.isCustom===!0?ie=de.exec(_,E,T,R)!==null:(this.updateLastIndex(de,E),ie=de.exec(e)!==null),ie===!0)break}if(A=E-U,B=this.computeNewColumn(B,A),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(_,U,A,W,Y),C.push({offset:U,line:W,column:Y,length:A,message:v}),be===!1)break}}return this.hasCustom||(T.length=b),{tokens:T,groups:R,errors:C}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,o,a){let l,c;n!==void 0&&(l=r===a-1,c=l?-1:0,i===1&&l===!0||(e.endLine=s+c,e.endColumn=o-1+-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,o){return{image:e,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}qo.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";qo.NA=/NOT_APPLICABLE/;function U3(t){return dj(t)?t.LABEL:t.name}function dj(t){return Ns(t.LABEL)&&t.LABEL!==""}const p6e="parent",FF="categories",OF="label",NF="group",UF="push_mode",GF="pop_mode",zF="longer_alt",QF="line_breaks",HF="start_chars_hint";function pj(t){return m6e(t)}function m6e(t){const e=t.pattern,n={};if(n.name=t.name,Hc(e)||(n.PATTERN=e),Dt(t,p6e))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Dt(t,FF)&&(n.CATEGORIES=t[FF]),AA([n]),Dt(t,OF)&&(n.LABEL=t[OF]),Dt(t,NF)&&(n.GROUP=t[NF]),Dt(t,GF)&&(n.POP_MODE=t[GF]),Dt(t,UF)&&(n.PUSH_MODE=t[UF]),Dt(t,zF)&&(n.LONGER_ALT=t[zF]),Dt(t,QF)&&(n.LINE_BREAKS=t[QF]),Dt(t,HF)&&(n.START_CHARS_HINT=t[HF]),n}const Ed=pj({name:"EOF",pattern:qo.NA});AA([Ed]);function RT(t,e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function g6e(t,e){return gA(t,e)}const mj={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${dj(t)?`--> ${U3(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a=`
but found: '`+Na(e).image+"'";if(r)return s+r+a;{const l=fo(t,(h,d)=>h.concat(d),[]),c=Tt(l,h=>`[${Tt(h,d=>U3(d)).join(", ")}]`),f=`one of these possible Token sequences:
${Tt(c,(h,d)=>`  ${d+1}. ${h}`).join(`
`)}`;return s+f+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",o=`
but found: '`+Na(e).image+"'";if(n)return i+n+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Tt(t,c=>`[${Tt(c,u=>U3(u)).join(",")}]`).join(" ,")}>`;return i+l+o}}};Object.freeze(mj);const A6e={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Wh={buildDuplicateFoundError(t,e){function n(u){return u instanceof yr?u.terminalType.name:u instanceof ho?u.nonTerminalName:""}const r=t.name,i=Na(e),s=i.idx,o=pl(i),a=n(i),l=s>0;let c=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=Tt(t.prefixPath,i=>U3(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=Tt(t.prefixPath,i=>U3(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=pl(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=Tt(t.leftRecursionPath,s=>s.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof Um?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function v6e(t,e){const n=new y6e(t,e);return n.resolveRefs(),n.errors}class y6e extends Gm{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){Ft(ri(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:ps.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class x6e extends J8{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Yi(this.path.ruleStack).reverse(),this.occurrenceStack=Yi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Vn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class _6e extends x6e{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new Us({definition:i});this.possibleTokTypes=mA(s),this.found=!0}}}class X8 extends J8{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class E6e extends X8{walkMany(e,n,r){if(e.idx===this.occurrence){const i=Na(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof yr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class VF extends X8{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=Na(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof yr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class C6e extends X8{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=Na(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof yr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class $F extends X8{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=Na(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof yr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function GS(t,e,n=[]){n=Yi(n);let r=[],i=0;function s(a){return a.concat(wi(t,i+1))}function o(a){const l=GS(s(a),e,n);return r.concat(l)}for(;n.length<e&&i<t.length;){const a=t[i];if(a instanceof Us)return o(a.definition);if(a instanceof ho)return o(a.definition);if(a instanceof Ds)r=o(a.definition);else if(a instanceof Kl){const l=a.definition.concat([new ii({definition:a.definition})]);return o(l)}else if(a instanceof Jl){const l=[new Us({definition:a.definition}),new ii({definition:[new yr({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof Ja){const l=a.definition.concat([new ii({definition:[new yr({terminalType:a.separator})].concat(a.definition)})]);r=o(l)}else if(a instanceof ii){const l=a.definition.concat([new ii({definition:a.definition})]);r=o(l)}else{if(a instanceof Ya)return Ft(a.definition,l=>{Vn(l.definition)===!1&&(r=o(l.definition))}),r;if(a instanceof yr)n.push(a.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:wi(t,i)}),r}function gj(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,c=l-r-1,u=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Vn(f);){const h=f.pop();if(h===o){a&&sm(f).idx<=c&&f.pop();continue}const d=h.def,m=h.idx,A=h.ruleStack,v=h.occurrenceStack;if(Vn(d))continue;const y=d[0];if(y===i){const _={idx:m,def:wi(d),ruleStack:X1(A),occurrenceStack:X1(v)};f.push(_)}else if(y instanceof yr)if(m<l-1){const _=m+1,x=e[_];if(n(x,y.terminalType)){const E={idx:_,def:wi(d),ruleStack:A,occurrenceStack:v};f.push(E)}}else if(m===l-1)u.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:A,occurrenceStack:v}),a=!0;else throw Error("non exhaustive match");else if(y instanceof ho){const _=Yi(A);_.push(y.nonTerminalName);const x=Yi(v);x.push(y.idx);const E={idx:m,def:y.definition.concat(s,wi(d)),ruleStack:_,occurrenceStack:x};f.push(E)}else if(y instanceof Ds){const _={idx:m,def:wi(d),ruleStack:A,occurrenceStack:v};f.push(_),f.push(o);const x={idx:m,def:y.definition.concat(wi(d)),ruleStack:A,occurrenceStack:v};f.push(x)}else if(y instanceof Kl){const _=new ii({definition:y.definition,idx:y.idx}),x=y.definition.concat([_],wi(d)),E={idx:m,def:x,ruleStack:A,occurrenceStack:v};f.push(E)}else if(y instanceof Jl){const _=new yr({terminalType:y.separator}),x=new ii({definition:[_].concat(y.definition),idx:y.idx}),E=y.definition.concat([x],wi(d)),b={idx:m,def:E,ruleStack:A,occurrenceStack:v};f.push(b)}else if(y instanceof Ja){const _={idx:m,def:wi(d),ruleStack:A,occurrenceStack:v};f.push(_),f.push(o);const x=new yr({terminalType:y.separator}),E=new ii({definition:[x].concat(y.definition),idx:y.idx}),b=y.definition.concat([E],wi(d)),w={idx:m,def:b,ruleStack:A,occurrenceStack:v};f.push(w)}else if(y instanceof ii){const _={idx:m,def:wi(d),ruleStack:A,occurrenceStack:v};f.push(_),f.push(o);const x=new ii({definition:y.definition,idx:y.idx}),E=y.definition.concat([x],wi(d)),b={idx:m,def:E,ruleStack:A,occurrenceStack:v};f.push(b)}else if(y instanceof Ya)for(let _=y.definition.length-1;_>=0;_--){const x=y.definition[_],E={idx:m,def:x.definition.concat(wi(d)),ruleStack:A,occurrenceStack:v};f.push(E),f.push(o)}else if(y instanceof Us)f.push({idx:m,def:y.definition.concat(wi(d)),ruleStack:A,occurrenceStack:v});else if(y instanceof Um)f.push(S6e(y,m,A,v));else throw Error("non exhaustive match")}return u}function S6e(t,e,n,r){const i=Yi(n);i.push(t.name);const s=Yi(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var Ir;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Ir||(Ir={}));function Aj(t){if(t instanceof Ds||t==="Option")return Ir.OPTION;if(t instanceof ii||t==="Repetition")return Ir.REPETITION;if(t instanceof Kl||t==="RepetitionMandatory")return Ir.REPETITION_MANDATORY;if(t instanceof Jl||t==="RepetitionMandatoryWithSeparator")return Ir.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ja||t==="RepetitionWithSeparator")return Ir.REPETITION_WITH_SEPARATOR;if(t instanceof Ya||t==="Alternation")return Ir.ALTERNATION;throw Error("non exhaustive match")}function w6e(t,e,n,r,i,s){const o=PT(t,e,n),a=xj(o)?J6:gA;return s(o,r,a,i)}function b6e(t,e,n,r,i,s){const o=DT(t,e,i,n),a=xj(o)?J6:gA;return s(o[0],a,r)}function I6e(t,e,n,r){const i=t.length,s=Ra(t,o=>Ra(o,a=>a.length===1));if(e)return function(o){const a=Tt(o,l=>l.GATE);for(let l=0;l<i;l++){const c=t[l],u=c.length,f=a[l];if(!(f!==void 0&&f.call(this)===!1))e:for(let h=0;h<u;h++){const d=c[h],m=d.length;for(let A=0;A<m;A++){const v=this.LA(A+1);if(n(v,d[A])===!1)continue e}return l}}};if(s&&!r){const o=Tt(t,l=>Ba(l)),a=fo(o,(l,c,u)=>(Ft(c,f=>{Dt(l,f.tokenTypeIdx)||(l[f.tokenTypeIdx]=u),Ft(f.categoryMatches,h=>{Dt(l,h)||(l[h]=u)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<i;o++){const a=t[o],l=a.length;e:for(let c=0;c<l;c++){const u=a[c],f=u.length;for(let h=0;h<f;h++){const d=this.LA(h+1);if(n(d,u[h])===!1)continue e}return o}}}}function T6e(t,e,n){const r=Ra(t,s=>s.length===1),i=t.length;if(r&&!n){const s=Ba(t);if(s.length===1&&Vn(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=fo(s,(a,l,c)=>(a[l.tokenTypeIdx]=!0,Ft(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const o=t[s],a=o.length;for(let l=0;l<a;l++){const c=this.LA(l+1);if(e(c,o[l])===!1)continue e}return!0}return!1}}class M6e extends J8{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(i),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,Ir.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,Ir.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,Ir.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,Ir.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,Ir.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class vj extends Gm{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Ir.OPTION)}visitRepetition(e){this.checkIsTarget(e,Ir.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Ir.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Ir.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Ir.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Ir.ALTERNATION)}}function WF(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function D7(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const o=e[s];i.push(o+"_"+r.tokenTypeIdx);for(let a=0;a<r.categoryMatches.length;a++){const l="_"+r.categoryMatches[a];i.push(o+l)}}e=i}return e}function B6e(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++){const o=e[s];if(i[o]===!0)return!1}}return!0}function yj(t,e){const n=Tt(t,o=>GS([o],1)),r=WF(n.length),i=Tt(n,o=>{const a={};return Ft(o,l=>{const c=D7(l.partialPath);Ft(c,u=>{a[u]=!0})}),a});let s=n;for(let o=1;o<=e;o++){const a=s;s=WF(a.length);for(let l=0;l<a.length;l++){const c=a[l];for(let u=0;u<c.length;u++){const f=c[u].partialPath,h=c[u].suffixDef,d=D7(f);if(B6e(i,d,l)||Vn(h)||f.length===e){const A=r[l];if(zS(A,f)===!1){A.push(f);for(let v=0;v<d.length;v++){const y=d[v];i[l][y]=!0}}}else{const A=GS(h,o+1,f);s[l]=s[l].concat(A),Ft(A,v=>{const y=D7(v.partialPath);Ft(y,_=>{i[l][_]=!0})})}}}}return r}function PT(t,e,n,r){const i=new vj(t,Ir.ALTERNATION,r);return e.accept(i),yj(i.result,n)}function DT(t,e,n,r){const i=new vj(t,n);e.accept(i);const s=i.result,a=new M6e(e,t,n).startWalking(),l=new Us({definition:s}),c=new Us({definition:a});return yj([l,c],r)}function zS(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],o=r[i];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function R6e(t,e){return t.length<e.length&&Ra(t,(n,r)=>{const i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function xj(t){return Ra(t,e=>Ra(e,n=>Ra(n,r=>Vn(r.categoryMatches))))}function P6e(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return Tt(e,n=>Object.assign({type:ps.CUSTOM_LOOKAHEAD_VALIDATION},n))}function D6e(t,e,n,r){const i=Xo(t,l=>L6e(l,n)),s=W6e(t,e,n),o=Xo(t,l=>Q6e(l,n)),a=Xo(t,l=>O6e(l,t,r,n));return i.concat(s,o,a)}function L6e(t,e){const n=new F6e;t.accept(n);const r=n.allProductions,i=Vye(r,k6e),s=Ka(i,a=>a.length>1);return Tt(ri(s),a=>{const l=Na(a),c=e.buildDuplicateFoundError(t,a),u=pl(l),f={message:c,type:ps.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:l.idx},h=_j(l);return h&&(f.parameter=h),f})}function k6e(t){return`${pl(t)}_#_${t.idx}_#_${_j(t)}`}function _j(t){return t instanceof yr?t.terminalType.name:t instanceof ho?t.nonTerminalName:""}class F6e extends Gm{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function O6e(t,e,n,r){const i=[];if(fo(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:o,type:ps.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function N6e(t,e,n){const r=[];let i;return As(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:ps.INVALID_RULE_OVERRIDE,ruleName:t})),r}function Ej(t,e,n,r=[]){const i=[],s=$5(e.definition);if(Vn(s))return[];{const o=t.name;As(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:ps.LEFT_RECURSION,ruleName:o});const l=j8(s,r.concat([t])),c=Xo(l,u=>{const f=Yi(r);return f.push(u),Ej(t,u,n,f)});return i.concat(c)}}function $5(t){let e=[];if(Vn(t))return e;const n=Na(t);if(n instanceof ho)e.push(n.referencedRule);else if(n instanceof Us||n instanceof Ds||n instanceof Kl||n instanceof Jl||n instanceof Ja||n instanceof ii)e=e.concat($5(n.definition));else if(n instanceof Ya)e=Ba(Tt(n.definition,s=>$5(s.definition)));else if(!(n instanceof yr))throw Error("non exhaustive match");const r=$6(n),i=t.length>1;if(r&&i){const s=wi(t);return e.concat($5(s))}else return e}class LT extends Gm{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function U6e(t,e){const n=new LT;t.accept(n);const r=n.alternations;return Xo(r,s=>{const o=X1(s.definition);return Xo(o,(a,l)=>{const c=gj([a],[],gA,1);return Vn(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:ps.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function G6e(t,e,n){const r=new LT;t.accept(r);let i=r.alternations;return i=K8(i,o=>o.ignoreAmbiguities===!0),Xo(i,o=>{const a=o.idx,l=o.maxLookahead||e,c=PT(a,t,l,o),u=V6e(c,o,t,n),f=$6e(c,o,t,n);return u.concat(f)})}class z6e extends Gm{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function Q6e(t,e){const n=new LT;t.accept(n);const r=n.alternations;return Xo(r,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:ps.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function H6e(t,e,n){const r=[];return Ft(t,i=>{const s=new z6e;i.accept(s);const o=s.allProductions;Ft(o,a=>{const l=Aj(a),c=a.maxLookahead||e,u=a.idx,h=DT(u,i,l,c)[0];if(Vn(Ba(h))){const d=n.buildEmptyRepetitionError({topLevelRule:i,repetition:a});r.push({message:d,type:ps.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function V6e(t,e,n,r){const i=[],s=fo(t,(a,l,c)=>(e.definition[c].ignoreAmbiguities===!0||Ft(l,u=>{const f=[c];Ft(t,(h,d)=>{c!==d&&zS(h,u)&&e.definition[d].ignoreAmbiguities!==!0&&f.push(d)}),f.length>1&&!zS(i,u)&&(i.push(u),a.push({alts:f,path:u}))}),a),[]);return Tt(s,a=>{const l=Tt(a.alts,u=>u+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:ps.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function $6e(t,e,n,r){const i=fo(t,(o,a,l)=>{const c=Tt(a,u=>({idx:l,path:u}));return o.concat(c)},[]);return pA(Xo(i,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,c=o.path,u=fa(i,h=>e.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<l&&R6e(h.path,c));return Tt(u,h=>{const d=[h.idx+1,l+1],m=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:d,prefixPath:h.path}),type:ps.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:m,alternatives:d}})}))}function W6e(t,e,n){const r=[],i=Tt(e,s=>s.name);return Ft(t,s=>{const o=s.name;if(As(i,o)){const a=n.buildNamespaceConflictError(s);r.push({message:a,type:ps.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),r}function j6e(t){const e=IT(t,{errMsgProvider:A6e}),n={};return Ft(t.rules,r=>{n[r.name]=r}),v6e(n,e.errMsgProvider)}function K6e(t){return t=IT(t,{errMsgProvider:Wh}),D6e(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const Cj="MismatchedTokenException",Sj="NoViableAltException",wj="EarlyExitException",bj="NotAllInputParsedException",Ij=[Cj,Sj,wj,bj];Object.freeze(Ij);function Y6(t){return As(Ij,t.name)}class q8 extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Tj extends q8{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Cj}}class J6e extends q8{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Sj}}class Y6e extends q8{constructor(e,n){super(e,n),this.name=bj}}class X6e extends q8{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=wj}}const L7={},Mj="InRuleRecoveryException";class q6e extends Error{constructor(e){super(e),this.name=Mj}}class Z6e{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Dt(e,"recoveryEnabled")?e.recoveryEnabled:Rf.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=e4e)}getTokenToInsert(e){const n=RT(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,i){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const f=()=>{const h=this.LA(0),d=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:h,ruleName:this.getCurrRuleFullName()}),m=new Tj(d,c,this.LA(0));m.resyncedTokens=X1(a),this.SAVE_ERROR(m)};for(;!l;)if(this.tokenMatcher(u,i)){f();return}else if(r.call(this)){f(),e.apply(this,n);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new q6e("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||Vn(n))return!1;const r=this.LA(1);return om(n,s=>this.tokenMatcher(r,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return As(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const i=om(e,s=>g6e(n,s));if(i!==void 0)return i;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return L7;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Tt(e,(r,i)=>i===0?L7:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=Tt(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return Ba(e)}getFollowSetFromFollowKey(e){if(e===L7)return[Ed];const n=e.ruleName+e.idxInCallingRule+ij+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,Ed)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return X1(n)}attemptInRepetitionRecovery(e,n,r,i,s,o,a){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),i=Yi(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return Tt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function e4e(t,e,n,r,i,s,o){const a=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[a];if(l===void 0){const h=this.getCurrRuleFullName(),d=this.getGAstProductions()[h];l=new s(d,i).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const f=l.isEndOfRule;this.RULE_STACK.length===1&&f&&c===void 0&&(c=Ed,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(t,e,n,c)}const t4e=4,Xf=8,Bj=1<<Xf,Rj=2<<Xf,QS=3<<Xf,HS=4<<Xf,VS=5<<Xf,W5=6<<Xf;function k7(t,e,n){return n|e|t}class n4e{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:Rf.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(Vn(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return Xo(e,n=>Ej(n,n,Wh))}validateEmptyOrAlternatives(e){return Xo(e,n=>U6e(n,Wh))}validateAmbiguousAlternationAlternatives(e,n){return Xo(e,r=>G6e(r,n,Wh))}validateSomeNonEmptyLookaheadPath(e,n){return H6e(e,n,Wh)}buildLookaheadForAlternation(e){return w6e(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,I6e)}buildLookaheadForOptional(e){return b6e(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Aj(e.prodType),T6e)}}class r4e{initLooksAhead(e){this.dynamicTokensEnabled=Dt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Rf.dynamicTokensEnabled,this.maxLookahead=Dt(e,"maxLookahead")?e.maxLookahead:Rf.maxLookahead,this.lookaheadStrategy=Dt(e,"lookaheadStrategy")?e.lookaheadStrategy:new n4e({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Ft(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=s4e(n);Ft(r,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${pl(c)}${u}`,()=>{const f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:n,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),h=k7(this.fullRuleNameToShort[n.name],Bj,c.idx);this.setLaFuncCache(h,f)})}),Ft(i,c=>{this.computeLookaheadFunc(n,c.idx,QS,"Repetition",c.maxLookahead,pl(c))}),Ft(s,c=>{this.computeLookaheadFunc(n,c.idx,Rj,"Option",c.maxLookahead,pl(c))}),Ft(o,c=>{this.computeLookaheadFunc(n,c.idx,HS,"RepetitionMandatory",c.maxLookahead,pl(c))}),Ft(a,c=>{this.computeLookaheadFunc(n,c.idx,W5,"RepetitionMandatoryWithSeparator",c.maxLookahead,pl(c))}),Ft(l,c=>{this.computeLookaheadFunc(n,c.idx,VS,"RepetitionWithSeparator",c.maxLookahead,pl(c))})})})}computeLookaheadFunc(e,n,r,i,s,o){this.TRACE_INIT(`${o}${n===0?"":n}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=k7(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return k7(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class i4e extends Gm{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const Jy=new i4e;function s4e(t){Jy.reset(),t.accept(Jy);const e=Jy.dslMethods;return Jy.reset(),e}function jF(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function KF(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function o4e(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function a4e(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const l4e="name";function Pj(t,e){Object.defineProperty(t,l4e,{enumerable:!1,configurable:!0,writable:!1,value:e})}function c4e(t,e){const n=co(t),r=n.length;for(let i=0;i<r;i++){const s=n[i],o=t[s],a=o.length;for(let l=0;l<a;l++){const c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function u4e(t,e){const n=function(){};Pj(n,t+"BaseSemantics");const r={visit:function(i,s){if(mn(i)&&(i=i[0]),!Hc(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=h4e(this,e);if(!Vn(i)){const s=Tt(i,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function f4e(t,e,n){const r=function(){};Pj(r,t+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return Ft(e,s=>{i[s]=c4e}),r.prototype=i,r.prototype.constructor=r,r}var $S;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})($S||($S={}));function h4e(t,e){return d4e(t,e)}function d4e(t,e){const n=fa(e,i=>ru(t[i])===!1),r=Tt(n,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:$S.MISSING_METHOD,methodName:i}));return pA(r)}class p4e{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Dt(e,"nodeLocationTracking")?e.nodeLocationTracking:Rf.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ti,this.cstFinallyStateUpdate=ti,this.cstPostTerminal=ti,this.cstPostNonTerminal=ti,this.cstPostRule=ti;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=KF,this.setNodeLocationFromNode=KF,this.cstPostRule=ti,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ti,this.setNodeLocationFromNode=ti,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=jF,this.setNodeLocationFromNode=jF,this.cstPostRule=ti,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ti,this.setNodeLocationFromNode=ti,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ti,this.setNodeLocationFromNode=ti,this.cstPostRule=ti,this.setInitialNodeLocation=ti;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];o4e(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];a4e(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(Hc(this.baseCstVisitorConstructor)){const e=u4e(this.className,co(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Hc(this.baseCstVisitorWithDefaultsConstructor)){const e=f4e(this.className,co(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class m4e{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):q6}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?q6:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class g4e{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=Z6){if(As(this.definedRulesNames,e)){const o={message:Wh.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:ps.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const i=this.defineRule(e,n,r);return this[e]=i,i}OVERRIDE_RULE(e,n,r=Z6){const i=N6e(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,n,r);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if(Y6(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return v5e(ri(this.gastProductionsCache))}}class A4e{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=J6,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Dt(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(mn(e)){if(Vn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(mn(e))this.tokensMap=fo(e,(s,o)=>(s[o.name]=o,s),{});else if(Dt(e,"modes")&&Ra(Ba(ri(e.modes)),h6e)){const s=Ba(ri(e.modes)),o=TT(s);this.tokensMap=fo(o,(a,l)=>(a[l.name]=l,a),{})}else if(ia(e))this.tokensMap=Yi(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Ed;const r=Dt(e,"modes")?Ba(ri(e.modes)):ri(e),i=Ra(r,s=>Vn(s.categoryMatches));this.tokenMatcher=i?J6:gA,AA(ri(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Dt(r,"resyncEnabled")?r.resyncEnabled:Z6.resyncEnabled,s=Dt(r,"recoveryValueFunc")?r.recoveryValueFunc:Z6.recoveryValueFunc,o=this.ruleShortNameIdx<<t4e+Xf;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u);const f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}catch(f){return this.invokeRuleCatch(f,i,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u)}catch(f){return this.invokeRuleCatch(f,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const i=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(Y6(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(i)return this.moveToTerminatedState(),r(e);throw o}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(Rj,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(HS,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=n;if(i.call(this)===!0){let o=this.doSingleRepetition(s);for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,Ir.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],i,HS,e,C6e)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(W5,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,$F],a,W5,e,$F)}else throw this.raiseEarlyExitException(e,Ir.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(QS,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const l=i;i=()=>a.call(this)&&l.call(this)}}else s=n;let o=!0;for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],i,QS,e,E6e,o)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(VS,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,VF],a,VS,e,VF)}}repetitionSepSecondInternal(e,n,r,i,s){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,s],r,W5,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(Bj,n),i=mn(e)?e:e.DEF,o=this.getLaFuncFromCache(r).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Y6e(n,e))}}subruleInternal(e,n,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,n,r){throw Y6(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,n,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Tj(i,n,s))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===Mj?r:s}}else throw r}saveRecogState(){const e=this.errors,n=Yi(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Ed)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class v4e{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Dt(e,"errorMessageProvider")?e.errorMessageProvider:Rf.errorMessageProvider}SAVE_ERROR(e){if(Y6(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Yi(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Yi(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],a=DT(e,s,n,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new X6e(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=PT(e,i,this.maxLookahead),o=[];for(let c=1;c<=this.maxLookahead;c++)o.push(this.LA(c));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new J6e(l,this.LA(1),a))}}class y4e{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(Hc(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return gj([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=Na(e.ruleStack),i=this.getGAstProductions()[n];return new _6e(i,e).startWalking()}}const Z8={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Z8);const JF=!0,YF=Math.pow(2,Xf)-1,Dj=pj({name:"RECORDING_PHASE_TOKEN",pattern:qo.NA});AA([Dj]);const Lj=RT(Dj,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Lj);const x4e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class _4e{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return q6}topLevelRuleRecord(e,n){try{const r=new Um({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return Hg.call(this,Ds,e,n)}atLeastOneInternalRecord(e,n){Hg.call(this,Kl,n,e)}atLeastOneSepFirstInternalRecord(e,n){Hg.call(this,Jl,n,e,JF)}manyInternalRecord(e,n){Hg.call(this,ii,n,e)}manySepFirstInternalRecord(e,n){Hg.call(this,Ja,n,e,JF)}orInternalRecord(e,n){return E4e.call(this,e,n)}subruleInternalRecord(e,n,r){if(X6(n),!e||Dt(e,"ruleName")===!1){const a=new Error(`<SUBRULE${XF(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=sm(this.recordingProdStack),s=e.ruleName,o=new ho({idx:n,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?x4e:Z8}consumeInternalRecord(e,n,r){if(X6(n),!hj(e)){const o=new Error(`<CONSUME${XF(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=sm(this.recordingProdStack),s=new yr({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),Lj}}function Hg(t,e,n,r=!1){X6(n);const i=sm(this.recordingProdStack),s=ru(e)?e:e.DEF,o=new t({definition:[],idx:n});return r&&(o.separator=e.SEP),Dt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),i.definition.push(o),this.recordingProdStack.pop(),Z8}function E4e(t,e){X6(e);const n=sm(this.recordingProdStack),r=mn(t)===!1,i=r===!1?t:t.DEF,s=new Ya({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});Dt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const o=ej(i,a=>ru(a.GATE));return s.hasPredicates=o,n.definition.push(s),Ft(i,a=>{const l=new Us({definition:[]});s.definition.push(l),Dt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:Dt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),Z8}function XF(t){return t===0?"":`${t}`}function X6(t){if(t<0||t>YF){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${YF+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class C4e{initPerformanceTracer(e){if(Dt(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=Rf.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=nj(n),o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return n()}}function S4e(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=n.prototype[i]})})}const q6=RT(Ed,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(q6);const Rf=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:mj,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Z6=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ps;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(ps||(ps={}));class ex{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{rj(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Ft(this.definedRulesNames,i=>{const o=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=j6e({rules:ri(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(Vn(r)&&this.skipValidations===!1){const i=K6e({rules:ri(this.gastProductionsCache),tokenTypes:ri(this.tokensMap),errMsgProvider:Wh,grammarName:n}),s=P6e({lookaheadStrategy:this.lookaheadStrategy,rules:ri(this.gastProductionsCache),tokenTypes:ri(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,s)}}),Vn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=w5e(ri(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:ri(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ri(this.gastProductionsCache))})),!ex.DEFER_DEFINITION_ERRORS_HANDLING&&!Vn(this.definitionErrors))throw e=Tt(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Dt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Dt(n,"skipValidations")?n.skipValidations:Rf.skipValidations}}ex.DEFER_DEFINITION_ERRORS_HANDLING=!1;S4e(ex,[Z6e,r4e,p4e,m4e,A4e,g4e,v4e,y4e,_4e,C4e]);class w4e{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const r=this.workersResolve[e];if(r&&r(n),this.queue.length){const{resolve:i,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(r=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=r,this.workers[i].postMessage(e,n)):this.queue.push({resolve:r,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class b4e extends gd{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=hr}}const F7=new WeakMap;let O7=0,N7;const d3=class extends Di{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new w4e,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new oi(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new oi(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=d3.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(d3.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(d3.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(d3.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),l})}),O7>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),O7++}return this.transcoderPending}load(t,e,n,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new oi(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials),i.load(t,s=>{if(F7.has(s))return F7.get(s).promise.then(e).catch(r);this._createTexture(s).then(o=>e?e(o):null).catch(r)},n,r)}_createTextureFrom(t,e){const{mipmaps:n,width:r,height:i,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=t;if(o==="error")return Promise.reject(a);const u=e.layerCount>1?new b4e(n,r,i,e.layerCount,s,Ai):new gd(n,r,i,s,Ai);return u.minFilter=n.length===1?Cn:za,u.magFilter=Cn,u.generateMipmaps=!1,u.needsUpdate=!0,"colorSpace"in u?u.colorSpace=l===AS?"srgb":"srgb-linear":u.encoding=l===AS?3001:3e3,u.premultiplyAlpha=!!(c&rde),u}async _createTexture(t,e={}){const n=ade(new Uint8Array(t));if(n.vkFormat!==I$)return T4e(n);const r=e,i=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:r},[t])).then(s=>this._createTextureFrom(s.data,n));return F7.set(t,{promise:i}),i}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),O7--,this}};let tx=d3;xt(tx,"BasisFormat",{ETC1S:0,UASTC_4x4:1});xt(tx,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});xt(tx,"EngineFormat",{RGBAFormat:dr,RGBA_ASTC_4x4_Format:P1,RGBA_BPTC_Format:D1,RGBA_ETC2_EAC_Format:R1,RGBA_PVRTC_4BPPV1_Format:M1,RGBA_S3TC_DXT5_Format:_0,RGB_ETC1_Format:h8,RGB_ETC2_Format:B1,RGB_PVRTC_4BPPV1_Format:T1,RGB_S3TC_DXT1_Format:x0});xt(tx,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(m){const A=m.data;switch(A.type){case"init":t=A.config,o(A.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:v,height:y,hasAlpha:_,mipmaps:x,format:E,dfdTransferFn:b,dfdFlags:w}=a(A.buffer),T=[];for(let C=0;C<x.length;++C)T.push(x[C].data.buffer);self.postMessage({type:"transcode",id:A.id,width:v,height:y,hasAlpha:_,mipmaps:x,format:E,dfdTransferFn:b,dfdFlags:w},T)}catch(v){console.error(v),self.postMessage({type:"error",id:A.id,error:v.message})}});break}});function o(m){e=new Promise(A=>{n={wasmBinary:m,onRuntimeInitialized:A},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(m){const A=new n.KTX2File(new Uint8Array(m));function v(){A.close(),A.delete()}if(!A.isValid())throw v(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const y=A.isUASTC()?s.UASTC_4x4:s.ETC1S,_=A.getWidth(),x=A.getHeight(),E=A.getLayers()||1,b=A.getLevels(),w=A.getHasAlpha(),T=A.getDFDTransferFunc(),C=A.getDFDFlags(),{transcoderFormat:I,engineFormat:B}=f(y,_,x,w);if(!_||!x||!b)throw v(),new Error("THREE.KTX2Loader:	Invalid texture");if(!A.startTranscoding())throw v(),new Error("THREE.KTX2Loader: .startTranscoding failed");const R=[];for(let L=0;L<b;L++){const z=[];let O,G;for(let j=0;j<E;j++){const J=A.getImageLevelInfo(L,j,0);O=J.origWidth<4?J.origWidth:J.width,G=J.origHeight<4?J.origHeight:J.height;const N=new Uint8Array(A.getImageTranscodedSizeInBytes(L,j,0,I));if(!A.transcodeImage(N,L,j,0,I,0,-1,-1))throw v(),new Error("THREE.KTX2Loader: .transcodeImage failed.");z.push(N)}R.push({data:d(z),width:O,height:G})}return v(),{width:_,height:x,hasAlpha:w,mipmaps:R,format:B,dfdTransferFn:T,dfdFlags:C}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(m,A){return m.priorityETC1S-A.priorityETC1S}),u=l.sort(function(m,A){return m.priorityUASTC-A.priorityUASTC});function f(m,A,v,y){let _,x;const E=m===s.ETC1S?c:u;for(let b=0;b<E.length;b++){const w=E[b];if(t[w.if]&&w.basisFormat.includes(m)&&!(y&&w.transcoderFormat.length<2)&&!(w.needsPowerOfTwo&&!(h(A)&&h(v))))return _=w.transcoderFormat[y?1:0],x=w.engineFormat[y?1:0],{transcoderFormat:_,engineFormat:x}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),_=i.RGBA32,x=r.RGBAFormat,{transcoderFormat:_,engineFormat:x}}function h(m){return m<=2?!0:(m&m-1)===0&&m!==0}function d(m){let A=0;for(let _=0;_<m.length;_++){const x=m[_];A+=x.byteLength}const v=new Uint8Array(A);let y=0;for(let _=0;_<m.length;_++){const x=m[_];v.set(x,y),y+=x.byteLength}return v}});const qF={[F$]:dr,[D$]:dr,[B$]:dr,[rT]:dr,[k$]:t0,[P$]:t0,[M$]:t0,[nT]:t0,[L$]:Wu,[R$]:Wu,[tT]:Wu,[T$]:Wu},U7={[F$]:Yr,[D$]:wn,[B$]:Ai,[rT]:Ai,[k$]:Yr,[P$]:wn,[M$]:Ai,[nT]:Ai,[L$]:Yr,[R$]:wn,[tT]:Ai,[T$]:Ai},I4e={[rT]:3001,[nT]:3001,[tT]:3001};async function T4e(t){const{vkFormat:e,pixelWidth:n,pixelHeight:r,pixelDepth:i}=t;if(qF[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===b$)o=s.levelData;else if(t.supercompressionScheme===Xhe)N7||(N7=new Promise(async c=>{const u=new lde;await u.init(),c(u)})),o=(await N7).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");U7[e]===Yr?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):U7[e]===wn?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=i===0?new Il(a,n,r):new qge(a,n,r,i);return l.type=U7[e],l.format=qF[e],l.encoding=I4e[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}class M4e extends UI{constructor(e){super(e),this.type=wn}parse(e){const a=function(x,E){switch(x){case 1:console.error("THREE.RGBELoader Read Error: "+(E||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(E||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(E||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(E||""))}return-1},f=`
`,h=function(x,E,b){E=E||1024;let T=x.pos,C=-1,I=0,B="",R=String.fromCharCode.apply(null,new Uint16Array(x.subarray(T,T+128)));for(;0>(C=R.indexOf(f))&&I<E&&T<x.byteLength;)B+=R,I+=R.length,T+=128,R+=String.fromCharCode.apply(null,new Uint16Array(x.subarray(T,T+128)));return-1<C?(b!==!1&&(x.pos+=I+C+1),B+R.slice(0,C)):!1},d=function(x){const E=/^#\?(\S+)/,b=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,w=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,T=/^\s*FORMAT=(\S+)\s*$/,C=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,I={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let B,R;if(x.pos>=x.byteLength||!(B=h(x)))return a(1,"no header found");if(!(R=B.match(E)))return a(3,"bad initial token");for(I.valid|=1,I.programtype=R[1],I.string+=B+`
`;B=h(x),B!==!1;){if(I.string+=B+`
`,B.charAt(0)==="#"){I.comments+=B+`
`;continue}if((R=B.match(b))&&(I.gamma=parseFloat(R[1])),(R=B.match(w))&&(I.exposure=parseFloat(R[1])),(R=B.match(T))&&(I.valid|=2,I.format=R[1]),(R=B.match(C))&&(I.valid|=4,I.height=parseInt(R[1],10),I.width=parseInt(R[2],10)),I.valid&2&&I.valid&4)break}return I.valid&2?I.valid&4?I:a(3,"missing image size specifier"):a(3,"missing format specifier")},m=function(x,E,b){const w=E;if(w<8||w>32767||x[0]!==2||x[1]!==2||x[2]&128)return new Uint8Array(x);if(w!==(x[2]<<8|x[3]))return a(3,"wrong scanline width");const T=new Uint8Array(4*E*b);if(!T.length)return a(4,"unable to allocate buffer space");let C=0,I=0;const B=4*w,R=new Uint8Array(4),L=new Uint8Array(B);let z=b;for(;z>0&&I<x.byteLength;){if(I+4>x.byteLength)return a(1);if(R[0]=x[I++],R[1]=x[I++],R[2]=x[I++],R[3]=x[I++],R[0]!=2||R[1]!=2||(R[2]<<8|R[3])!=w)return a(3,"bad rgbe scanline format");let O=0,G;for(;O<B&&I<x.byteLength;){G=x[I++];const J=G>128;if(J&&(G-=128),G===0||O+G>B)return a(3,"bad scanline data");if(J){const N=x[I++];for(let V=0;V<G;V++)L[O++]=N}else L.set(x.subarray(I,I+G),O),O+=G,I+=G}const j=w;for(let J=0;J<j;J++){let N=0;T[C]=L[J+N],N+=w,T[C+1]=L[J+N],N+=w,T[C+2]=L[J+N],N+=w,T[C+3]=L[J+N],C+=4}z--}return T},A=function(x,E,b,w){const T=x[E+3],C=Math.pow(2,T-128)/255;b[w+0]=x[E+0]*C,b[w+1]=x[E+1]*C,b[w+2]=x[E+2]*C,b[w+3]=1},v=function(x,E,b,w){const T=x[E+3],C=Math.pow(2,T-128)/255;b[w+0]=Vh.toHalfFloat(Math.min(x[E+0]*C,65504)),b[w+1]=Vh.toHalfFloat(Math.min(x[E+1]*C,65504)),b[w+2]=Vh.toHalfFloat(Math.min(x[E+2]*C,65504)),b[w+3]=Vh.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const _=d(y);if(_!==-1){const x=_.width,E=_.height,b=m(y.subarray(y.pos),x,E);if(b!==-1){let w,T,C;switch(this.type){case Yr:C=b.length/4;const I=new Float32Array(C*4);for(let R=0;R<C;R++)A(b,R*4,I,R*4);w=I,T=Yr;break;case wn:C=b.length/4;const B=new Uint16Array(C*4);for(let R=0;R<C;R++)v(b,R*4,B,R*4);w=B,T=wn;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:x,height:E,data:w,header:_.string,gamma:_.gamma,exposure:_.exposure,type:T}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case Yr:case wn:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=Cn,o.magFilter=Cn,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const Vg="colorSpace"in new qn;class B4e extends UI{constructor(e){super(e),this.type=wn}parse(e){const I=Math.pow(2.7182818,2.2);function B(F,$){for(var ne=0,ue=0;ue<65536;++ue)(ue==0||F[ue>>3]&1<<(ue&7))&&($[ne++]=ue);for(var Ae=ne-1;ne<65536;)$[ne++]=0;return Ae}function R(F){for(var $=0;$<16384;$++)F[$]={},F[$].len=0,F[$].lit=0,F[$].p=null}const L={l:0,c:0,lc:0};function z(F,$,ne,ue,Ae){for(;ne<F;)$=$<<8|mt(ue,Ae),ne+=8;ne-=F,L.l=$>>ne&(1<<F)-1,L.c=$,L.lc=ne}const O=new Array(59);function G(F){for(var $=0;$<=58;++$)O[$]=0;for(var $=0;$<65537;++$)O[F[$]]+=1;for(var ne=0,$=58;$>0;--$){var ue=ne+O[$]>>1;O[$]=ne,ne=ue}for(var $=0;$<65537;++$){var Ae=F[$];Ae>0&&(F[$]=Ae|O[Ae]++<<6)}}function j(F,$,ne,ue,Ae,me,Be){for(var Re=ne,He=0,Ve=0;Ae<=me;Ae++){if(Re.value-ne.value>ue)return!1;z(6,He,Ve,F,Re);var We=L.l;if(He=L.c,Ve=L.lc,Be[Ae]=We,We==63){if(Re.value-ne.value>ue)throw"Something wrong with hufUnpackEncTable";z(8,He,Ve,F,Re);var ze=L.l+6;if(He=L.c,Ve=L.lc,Ae+ze>me+1)throw"Something wrong with hufUnpackEncTable";for(;ze--;)Be[Ae++]=0;Ae--}else if(We>=59){var ze=We-59+2;if(Ae+ze>me+1)throw"Something wrong with hufUnpackEncTable";for(;ze--;)Be[Ae++]=0;Ae--}}G(Be)}function J(F){return F&63}function N(F){return F>>6}function V(F,$,ne,ue){for(;$<=ne;$++){var Ae=N(F[$]),me=J(F[$]);if(Ae>>me)throw"Invalid table entry";if(me>14){var Be=ue[Ae>>me-14];if(Be.len)throw"Invalid table entry";if(Be.lit++,Be.p){var Re=Be.p;Be.p=new Array(Be.lit);for(var He=0;He<Be.lit-1;++He)Be.p[He]=Re[He]}else Be.p=new Array(1);Be.p[Be.lit-1]=$}else if(me)for(var Ve=0,He=1<<14-me;He>0;He--){var Be=ue[(Ae<<14-me)+Ve];if(Be.len||Be.p)throw"Invalid table entry";Be.len=me,Be.lit=$,Ve++}}return!0}const Q={c:0,lc:0};function Z(F,$,ne,ue){F=F<<8|mt(ne,ue),$+=8,Q.c=F,Q.lc=$}const re={c:0,lc:0};function ge(F,$,ne,ue,Ae,me,Be,Re,He,Ve){if(F==$){ue<8&&(Z(ne,ue,Ae,Be),ne=Q.c,ue=Q.lc),ue-=8;var We=ne>>ue,We=new Uint8Array([We])[0];if(He.value+We>Ve)return!1;for(var ze=Re[He.value-1];We-- >0;)Re[He.value++]=ze}else if(He.value<Ve)Re[He.value++]=F;else return!1;re.c=ne,re.lc=ue}function Ee(F){return F&65535}function be(F){var $=Ee(F);return $>32767?$-65536:$}const oe={a:0,b:0};function Fe(F,$){var ne=be(F),ue=be($),Ae=ue,me=ne+(Ae&1)+(Ae>>1),Be=me,Re=me-Ae;oe.a=Be,oe.b=Re}function he(F,$){var ne=Ee(F),ue=Ee($),Ae=ne-(ue>>1)&65535,me=ue+Ae-32768&65535;oe.a=me,oe.b=Ae}function U(F,$,ne,ue,Ae,me,Be){for(var Re=Be<16384,He=ne>Ae?Ae:ne,Ve=1,We;Ve<=He;)Ve<<=1;for(Ve>>=1,We=Ve,Ve>>=1;Ve>=1;){for(var ze=0,Et=ze+me*(Ae-We),at=me*Ve,Ze=me*We,bt=ue*Ve,Rt=ue*We,Xt,en,yt,Lt;ze<=Et;ze+=Ze){for(var tn=ze,Jt=ze+ue*(ne-We);tn<=Jt;tn+=Rt){var Vt=tn+bt,Rn=tn+at,Xr=Rn+bt;Re?(Fe(F[tn+$],F[Rn+$]),Xt=oe.a,yt=oe.b,Fe(F[Vt+$],F[Xr+$]),en=oe.a,Lt=oe.b,Fe(Xt,en),F[tn+$]=oe.a,F[Vt+$]=oe.b,Fe(yt,Lt),F[Rn+$]=oe.a,F[Xr+$]=oe.b):(he(F[tn+$],F[Rn+$]),Xt=oe.a,yt=oe.b,he(F[Vt+$],F[Xr+$]),en=oe.a,Lt=oe.b,he(Xt,en),F[tn+$]=oe.a,F[Vt+$]=oe.b,he(yt,Lt),F[Rn+$]=oe.a,F[Xr+$]=oe.b)}if(ne&Ve){var Rn=tn+at;Re?Fe(F[tn+$],F[Rn+$]):he(F[tn+$],F[Rn+$]),Xt=oe.a,F[Rn+$]=oe.b,F[tn+$]=Xt}}if(Ae&Ve)for(var tn=ze,Jt=ze+ue*(ne-We);tn<=Jt;tn+=Rt){var Vt=tn+bt;Re?Fe(F[tn+$],F[Vt+$]):he(F[tn+$],F[Vt+$]),Xt=oe.a,F[Vt+$]=oe.b,F[tn+$]=Xt}We=Ve,Ve>>=1}return ze}function W(F,$,ne,ue,Ae,me,Be,Re,He,Ve){for(var We=0,ze=0,Et=Re,at=Math.trunc(Ae.value+(me+7)/8);Ae.value<at;)for(Z(We,ze,ne,Ae),We=Q.c,ze=Q.lc;ze>=14;){var Ze=We>>ze-14&16383,bt=$[Ze];if(bt.len)ze-=bt.len,ge(bt.lit,Be,We,ze,ne,ue,Ae,He,Ve,Et),We=re.c,ze=re.lc;else{if(!bt.p)throw"hufDecode issues";var Rt;for(Rt=0;Rt<bt.lit;Rt++){for(var Xt=J(F[bt.p[Rt]]);ze<Xt&&Ae.value<at;)Z(We,ze,ne,Ae),We=Q.c,ze=Q.lc;if(ze>=Xt&&N(F[bt.p[Rt]])==(We>>ze-Xt&(1<<Xt)-1)){ze-=Xt,ge(bt.p[Rt],Be,We,ze,ne,ue,Ae,He,Ve,Et),We=re.c,ze=re.lc;break}}if(Rt==bt.lit)throw"hufDecode issues"}}var en=8-me&7;for(We>>=en,ze-=en;ze>0;){var bt=$[We<<14-ze&16383];if(bt.len)ze-=bt.len,ge(bt.lit,Be,We,ze,ne,ue,Ae,He,Ve,Et),We=re.c,ze=re.lc;else throw"hufDecode issues"}return!0}function Y(F,$,ne,ue,Ae,me){var Be={value:0},Re=ne.value,He=st($,ne),Ve=st($,ne);ne.value+=4;var We=st($,ne);if(ne.value+=4,He<0||He>=65537||Ve<0||Ve>=65537)throw"Something wrong with HUF_ENCSIZE";var ze=new Array(65537),Et=new Array(16384);R(Et);var at=ue-(ne.value-Re);if(j(F,$,ne,at,He,Ve,ze),We>8*(ue-(ne.value-Re)))throw"Something wrong with hufUncompress";V(ze,He,Ve,Et),W(ze,Et,F,$,ne,We,Ve,me,Ae,Be)}function ie(F,$,ne){for(var ue=0;ue<ne;++ue)$[ue]=F[$[ue]]}function te(F){for(var $=1;$<F.length;$++){var ne=F[$-1]+F[$]-128;F[$]=ne}}function de(F,$){for(var ne=0,ue=Math.floor((F.length+1)/2),Ae=0,me=F.length-1;!(Ae>me||($[Ae++]=F[ne++],Ae>me));)$[Ae++]=F[ue++]}function Pe(F){for(var $=F.byteLength,ne=new Array,ue=0,Ae=new DataView(F);$>0;){var me=Ae.getInt8(ue++);if(me<0){var Be=-me;$-=Be+1;for(var Re=0;Re<Be;Re++)ne.push(Ae.getUint8(ue++))}else{var Be=me;$-=2;for(var He=Ae.getUint8(ue++),Re=0;Re<Be+1;Re++)ne.push(He)}}return ne}function ke(F,$,ne,ue,Ae,me){var Vt=new DataView(me.buffer),Be=ne[F.idx[0]].width,Re=ne[F.idx[0]].height,He=3,Ve=Math.floor(Be/8),We=Math.ceil(Be/8),ze=Math.ceil(Re/8),Et=Be-(We-1)*8,at=Re-(ze-1)*8,Ze={value:0},bt=new Array(He),Rt=new Array(He),Xt=new Array(He),en=new Array(He),yt=new Array(He);for(let Sn=0;Sn<He;++Sn)yt[Sn]=$[F.idx[Sn]],bt[Sn]=Sn<1?0:bt[Sn-1]+We*ze,Rt[Sn]=new Float32Array(64),Xt[Sn]=new Uint16Array(64),en[Sn]=new Uint16Array(We*64);for(let Sn=0;Sn<ze;++Sn){var Lt=8;Sn==ze-1&&(Lt=at);var tn=8;for(let Mn=0;Mn<We;++Mn){Mn==We-1&&(tn=Et);for(let gn=0;gn<He;++gn)Xt[gn].fill(0),Xt[gn][0]=Ae[bt[gn]++],Ye(Ze,ue,Xt[gn]),nt(Xt[gn],Rt[gn]),Je(Rt[gn]);pt(Rt);for(let gn=0;gn<He;++gn)Ct(Rt[gn],en[gn],Mn*64)}let qr=0;for(let Mn=0;Mn<He;++Mn){const gn=ne[F.idx[Mn]].type;for(let Zn=8*Sn;Zn<8*Sn+Lt;++Zn){qr=yt[Mn][Zn];for(let Xl=0;Xl<Ve;++Xl){const es=Xl*64+(Zn&7)*8;Vt.setUint16(qr+0*2*gn,en[Mn][es+0],!0),Vt.setUint16(qr+1*2*gn,en[Mn][es+1],!0),Vt.setUint16(qr+2*2*gn,en[Mn][es+2],!0),Vt.setUint16(qr+3*2*gn,en[Mn][es+3],!0),Vt.setUint16(qr+4*2*gn,en[Mn][es+4],!0),Vt.setUint16(qr+5*2*gn,en[Mn][es+5],!0),Vt.setUint16(qr+6*2*gn,en[Mn][es+6],!0),Vt.setUint16(qr+7*2*gn,en[Mn][es+7],!0),qr+=8*2*gn}}if(Ve!=We)for(let Zn=8*Sn;Zn<8*Sn+Lt;++Zn){const Xl=yt[Mn][Zn]+8*Ve*2*gn,es=Ve*64+(Zn&7)*8;for(let Za=0;Za<tn;++Za)Vt.setUint16(Xl+Za*2*gn,en[Mn][es+Za],!0)}}}for(var Jt=new Uint16Array(Be),Vt=new DataView(me.buffer),Rn=0;Rn<He;++Rn){ne[F.idx[Rn]].decoded=!0;var Xr=ne[F.idx[Rn]].type;if(ne[Rn].type==2)for(var zr=0;zr<Re;++zr){const Sn=yt[Rn][zr];for(var Ci=0;Ci<Be;++Ci)Jt[Ci]=Vt.getUint16(Sn+Ci*2*Xr,!0);for(var Ci=0;Ci<Be;++Ci)Vt.setFloat32(Sn+Ci*2*Xr,ae(Jt[Ci]),!0)}}}function Ye(F,$,ne){for(var ue,Ae=1;Ae<64;)ue=$[F.value],ue==65280?Ae=64:ue>>8==255?Ae+=ue&255:(ne[Ae]=ue,Ae++),F.value++}function nt(F,$){$[0]=ae(F[0]),$[1]=ae(F[1]),$[2]=ae(F[5]),$[3]=ae(F[6]),$[4]=ae(F[14]),$[5]=ae(F[15]),$[6]=ae(F[27]),$[7]=ae(F[28]),$[8]=ae(F[2]),$[9]=ae(F[4]),$[10]=ae(F[7]),$[11]=ae(F[13]),$[12]=ae(F[16]),$[13]=ae(F[26]),$[14]=ae(F[29]),$[15]=ae(F[42]),$[16]=ae(F[3]),$[17]=ae(F[8]),$[18]=ae(F[12]),$[19]=ae(F[17]),$[20]=ae(F[25]),$[21]=ae(F[30]),$[22]=ae(F[41]),$[23]=ae(F[43]),$[24]=ae(F[9]),$[25]=ae(F[11]),$[26]=ae(F[18]),$[27]=ae(F[24]),$[28]=ae(F[31]),$[29]=ae(F[40]),$[30]=ae(F[44]),$[31]=ae(F[53]),$[32]=ae(F[10]),$[33]=ae(F[19]),$[34]=ae(F[23]),$[35]=ae(F[32]),$[36]=ae(F[39]),$[37]=ae(F[45]),$[38]=ae(F[52]),$[39]=ae(F[54]),$[40]=ae(F[20]),$[41]=ae(F[22]),$[42]=ae(F[33]),$[43]=ae(F[38]),$[44]=ae(F[46]),$[45]=ae(F[51]),$[46]=ae(F[55]),$[47]=ae(F[60]),$[48]=ae(F[21]),$[49]=ae(F[34]),$[50]=ae(F[37]),$[51]=ae(F[47]),$[52]=ae(F[50]),$[53]=ae(F[56]),$[54]=ae(F[59]),$[55]=ae(F[61]),$[56]=ae(F[35]),$[57]=ae(F[36]),$[58]=ae(F[48]),$[59]=ae(F[49]),$[60]=ae(F[57]),$[61]=ae(F[58]),$[62]=ae(F[62]),$[63]=ae(F[63])}function Je(F){const $=.5*Math.cos(.7853975),ne=.5*Math.cos(3.14159/16),ue=.5*Math.cos(3.14159/8),Ae=.5*Math.cos(3*3.14159/16),me=.5*Math.cos(5*3.14159/16),Be=.5*Math.cos(3*3.14159/8),Re=.5*Math.cos(7*3.14159/16);for(var He=new Array(4),Ve=new Array(4),We=new Array(4),ze=new Array(4),Et=0;Et<8;++Et){var at=Et*8;He[0]=ue*F[at+2],He[1]=Be*F[at+2],He[2]=ue*F[at+6],He[3]=Be*F[at+6],Ve[0]=ne*F[at+1]+Ae*F[at+3]+me*F[at+5]+Re*F[at+7],Ve[1]=Ae*F[at+1]-Re*F[at+3]-ne*F[at+5]-me*F[at+7],Ve[2]=me*F[at+1]-ne*F[at+3]+Re*F[at+5]+Ae*F[at+7],Ve[3]=Re*F[at+1]-me*F[at+3]+Ae*F[at+5]-ne*F[at+7],We[0]=$*(F[at+0]+F[at+4]),We[3]=$*(F[at+0]-F[at+4]),We[1]=He[0]+He[3],We[2]=He[1]-He[2],ze[0]=We[0]+We[1],ze[1]=We[3]+We[2],ze[2]=We[3]-We[2],ze[3]=We[0]-We[1],F[at+0]=ze[0]+Ve[0],F[at+1]=ze[1]+Ve[1],F[at+2]=ze[2]+Ve[2],F[at+3]=ze[3]+Ve[3],F[at+4]=ze[3]-Ve[3],F[at+5]=ze[2]-Ve[2],F[at+6]=ze[1]-Ve[1],F[at+7]=ze[0]-Ve[0]}for(var Ze=0;Ze<8;++Ze)He[0]=ue*F[16+Ze],He[1]=Be*F[16+Ze],He[2]=ue*F[48+Ze],He[3]=Be*F[48+Ze],Ve[0]=ne*F[8+Ze]+Ae*F[24+Ze]+me*F[40+Ze]+Re*F[56+Ze],Ve[1]=Ae*F[8+Ze]-Re*F[24+Ze]-ne*F[40+Ze]-me*F[56+Ze],Ve[2]=me*F[8+Ze]-ne*F[24+Ze]+Re*F[40+Ze]+Ae*F[56+Ze],Ve[3]=Re*F[8+Ze]-me*F[24+Ze]+Ae*F[40+Ze]-ne*F[56+Ze],We[0]=$*(F[Ze]+F[32+Ze]),We[3]=$*(F[Ze]-F[32+Ze]),We[1]=He[0]+He[3],We[2]=He[1]-He[2],ze[0]=We[0]+We[1],ze[1]=We[3]+We[2],ze[2]=We[3]-We[2],ze[3]=We[0]-We[1],F[0+Ze]=ze[0]+Ve[0],F[8+Ze]=ze[1]+Ve[1],F[16+Ze]=ze[2]+Ve[2],F[24+Ze]=ze[3]+Ve[3],F[32+Ze]=ze[3]-Ve[3],F[40+Ze]=ze[2]-Ve[2],F[48+Ze]=ze[1]-Ve[1],F[56+Ze]=ze[0]-Ve[0]}function pt(F){for(var $=0;$<64;++$){var ne=F[0][$],ue=F[1][$],Ae=F[2][$];F[0][$]=ne+1.5747*Ae,F[1][$]=ne-.1873*ue-.4682*Ae,F[2][$]=ne+1.8556*ue}}function Ct(F,$,ne){for(var ue=0;ue<64;++ue)$[ne+ue]=Vh.toHalfFloat(X(F[ue]))}function X(F){return F<=1?Math.sign(F)*Math.pow(Math.abs(F),2.2):Math.sign(F)*Math.pow(I,Math.abs(F)-1)}function H(F){return new DataView(F.array.buffer,F.offset.value,F.size)}function ce(F){var $=F.viewer.buffer.slice(F.offset.value,F.offset.value+F.size),ne=new Uint8Array(Pe($)),ue=new Uint8Array(ne.length);return te(ne),de(ne,ue),new DataView(ue.buffer)}function De(F){var $=F.array.slice(F.offset.value,F.offset.value+F.size),ne=ky($),ue=new Uint8Array(ne.length);return te(ne),de(ne,ue),new DataView(ue.buffer)}function Oe(F){for(var $=F.viewer,ne={value:F.offset.value},ue=new Uint16Array(F.width*F.scanlineBlockSize*(F.channels*F.type)),Ae=new Uint8Array(8192),me=0,Be=new Array(F.channels),Re=0;Re<F.channels;Re++)Be[Re]={},Be[Re].start=me,Be[Re].end=Be[Re].start,Be[Re].nx=F.width,Be[Re].ny=F.lines,Be[Re].size=F.type,me+=Be[Re].nx*Be[Re].ny*Be[Re].size;var He=Ne($,ne),Ve=Ne($,ne);if(Ve>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(He<=Ve)for(var Re=0;Re<Ve-He+1;Re++)Ae[Re+He]=Nt($,ne);var We=new Uint16Array(65536),ze=B(Ae,We),Et=st($,ne);Y(F.array,$,ne,Et,ue,me);for(var Re=0;Re<F.channels;++Re)for(var at=Be[Re],Ze=0;Ze<Be[Re].size;++Ze)U(ue,at.start+Ze,at.nx,at.size,at.ny,at.nx*at.size,ze);ie(We,ue,me);for(var bt=0,Rt=new Uint8Array(ue.buffer.byteLength),Xt=0;Xt<F.lines;Xt++)for(var en=0;en<F.channels;en++){var at=Be[en],yt=at.nx*at.size,Lt=new Uint8Array(ue.buffer,at.end*2,yt*2);Rt.set(Lt,bt),bt+=yt*2,at.end+=yt}return new DataView(Rt.buffer)}function Ge(F){var $=F.array.slice(F.offset.value,F.offset.value+F.size),ne=ky($);const ue=F.lines*F.channels*F.width,Ae=F.type==1?new Uint16Array(ue):new Uint32Array(ue);let me=0,Be=0;const Re=new Array(4);for(let He=0;He<F.lines;He++)for(let Ve=0;Ve<F.channels;Ve++){let We=0;switch(F.type){case 1:Re[0]=me,Re[1]=Re[0]+F.width,me=Re[1]+F.width;for(let ze=0;ze<F.width;++ze){const Et=ne[Re[0]++]<<8|ne[Re[1]++];We+=Et,Ae[Be]=We,Be++}break;case 2:Re[0]=me,Re[1]=Re[0]+F.width,Re[2]=Re[1]+F.width,me=Re[2]+F.width;for(let ze=0;ze<F.width;++ze){const Et=ne[Re[0]++]<<24|ne[Re[1]++]<<16|ne[Re[2]++]<<8;We+=Et,Ae[Be]=We,Be++}break}}return new DataView(Ae.buffer)}function _t(F){var $=F.viewer,ne={value:F.offset.value},ue=new Uint8Array(F.width*F.lines*(F.channels*F.type*2)),Ae={version:Gt($,ne),unknownUncompressedSize:Gt($,ne),unknownCompressedSize:Gt($,ne),acCompressedSize:Gt($,ne),dcCompressedSize:Gt($,ne),rleCompressedSize:Gt($,ne),rleUncompressedSize:Gt($,ne),rleRawSize:Gt($,ne),totalAcUncompressedCount:Gt($,ne),totalDcUncompressedCount:Gt($,ne),acCompression:Gt($,ne)};if(Ae.version<2)throw"EXRLoader.parse: "+ye.compression+" version "+Ae.version+" is unsupported";for(var me=new Array,Be=Ne($,ne)-2;Be>0;){var Re=$e($.buffer,ne),He=Nt($,ne),Ve=He>>2&3,We=(He>>4)-1,ze=new Int8Array([We])[0],Et=Nt($,ne);me.push({name:Re,index:ze,type:Et,compression:Ve}),Be-=Re.length+3}for(var at=ye.channels,Ze=new Array(F.channels),bt=0;bt<F.channels;++bt){var Rt=Ze[bt]={},Xt=at[bt];Rt.name=Xt.name,Rt.compression=0,Rt.decoded=!1,Rt.type=Xt.pixelType,Rt.pLinear=Xt.pLinear,Rt.width=F.width,Rt.height=F.lines}for(var en={idx:new Array(3)},yt=0;yt<F.channels;++yt)for(var Rt=Ze[yt],bt=0;bt<me.length;++bt){var Lt=me[bt];Rt.name==Lt.name&&(Rt.compression=Lt.compression,Lt.index>=0&&(en.idx[Lt.index]=yt),Rt.offset=yt)}if(Ae.acCompressedSize>0)switch(Ae.acCompression){case 0:var Vt=new Uint16Array(Ae.totalAcUncompressedCount);Y(F.array,$,ne,Ae.acCompressedSize,Vt,Ae.totalAcUncompressedCount);break;case 1:var tn=F.array.slice(ne.value,ne.value+Ae.totalAcUncompressedCount),Jt=ky(tn),Vt=new Uint16Array(Jt.buffer);ne.value+=Ae.totalAcUncompressedCount;break}if(Ae.dcCompressedSize>0){var Rn={array:F.array,offset:ne,size:Ae.dcCompressedSize},Xr=new Uint16Array(De(Rn).buffer);ne.value+=Ae.dcCompressedSize}if(Ae.rleRawSize>0){var tn=F.array.slice(ne.value,ne.value+Ae.rleCompressedSize),Jt=ky(tn),zr=Pe(Jt.buffer);ne.value+=Ae.rleCompressedSize}for(var Ci=0,Sn=new Array(Ze.length),bt=0;bt<Sn.length;++bt)Sn[bt]=new Array;for(var qr=0;qr<F.lines;++qr)for(var Mn=0;Mn<Ze.length;++Mn)Sn[Mn].push(Ci),Ci+=Ze[Mn].width*F.type*2;ke(en,Sn,Ze,Vt,Xr,ue);for(var bt=0;bt<Ze.length;++bt){var Rt=Ze[bt];if(!Rt.decoded)switch(Rt.compression){case 2:for(var gn=0,Zn=0,qr=0;qr<F.lines;++qr){for(var Xl=Sn[bt][gn],es=0;es<Rt.width;++es){for(var Za=0;Za<2*Rt.type;++Za)ue[Xl++]=zr[Zn+Za*Rt.width*Rt.height];Zn++}gn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ue.buffer)}function $e(F,$){for(var ne=new Uint8Array(F),ue=0;ne[$.value+ue]!=0;)ue+=1;var Ae=new TextDecoder().decode(ne.slice($.value,$.value+ue));return $.value=$.value+ue+1,Ae}function Te(F,$,ne){var ue=new TextDecoder().decode(new Uint8Array(F).slice($.value,$.value+ne));return $.value=$.value+ne,ue}function lt(F,$){var ne=it(F,$),ue=st(F,$);return[ne,ue]}function vt(F,$){var ne=st(F,$),ue=st(F,$);return[ne,ue]}function it(F,$){var ne=F.getInt32($.value,!0);return $.value=$.value+4,ne}function st(F,$){var ne=F.getUint32($.value,!0);return $.value=$.value+4,ne}function mt(F,$){var ne=F[$.value];return $.value=$.value+1,ne}function Nt(F,$){var ne=F.getUint8($.value);return $.value=$.value+1,ne}const Gt=function(F,$){let ne;return"getBigInt64"in DataView.prototype?ne=Number(F.getBigInt64($.value,!0)):ne=F.getUint32($.value+4,!0)+Number(F.getUint32($.value,!0)<<32),$.value+=8,ne};function zt(F,$){var ne=F.getFloat32($.value,!0);return $.value+=4,ne}function le(F,$){return Vh.toHalfFloat(zt(F,$))}function ae(F){var $=(F&31744)>>10,ne=F&1023;return(F>>15?-1:1)*($?$===31?ne?NaN:1/0:Math.pow(2,$-15)*(1+ne/1024):6103515625e-14*(ne/1024))}function Ne(F,$){var ne=F.getUint16($.value,!0);return $.value+=2,ne}function et(F,$){return ae(Ne(F,$))}function St(F,$,ne,ue){for(var Ae=ne.value,me=[];ne.value<Ae+ue-1;){var Be=$e($,ne),Re=it(F,ne),He=Nt(F,ne);ne.value+=3;var Ve=it(F,ne),We=it(F,ne);me.push({name:Be,pixelType:Re,pLinear:He,xSampling:Ve,ySampling:We})}return ne.value+=1,me}function an(F,$){var ne=zt(F,$),ue=zt(F,$),Ae=zt(F,$),me=zt(F,$),Be=zt(F,$),Re=zt(F,$),He=zt(F,$),Ve=zt(F,$);return{redX:ne,redY:ue,greenX:Ae,greenY:me,blueX:Be,blueY:Re,whiteX:He,whiteY:Ve}}function sr(F,$){var ne=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ue=Nt(F,$);return ne[ue]}function Gr(F,$){var ne=st(F,$),ue=st(F,$),Ae=st(F,$),me=st(F,$);return{xMin:ne,yMin:ue,xMax:Ae,yMax:me}}function xo(F,$){var ne=["INCREASING_Y"],ue=Nt(F,$);return ne[ue]}function Tn(F,$){var ne=zt(F,$),ue=zt(F,$);return[ne,ue]}function vs(F,$){var ne=zt(F,$),ue=zt(F,$),Ae=zt(F,$);return[ne,ue,Ae]}function Li(F,$,ne,ue,Ae){if(ue==="string"||ue==="stringvector"||ue==="iccProfile")return Te($,ne,Ae);if(ue==="chlist")return St(F,$,ne,Ae);if(ue==="chromaticities")return an(F,ne);if(ue==="compression")return sr(F,ne);if(ue==="box2i")return Gr(F,ne);if(ue==="lineOrder")return xo(F,ne);if(ue==="float")return zt(F,ne);if(ue==="v2f")return Tn(F,ne);if(ue==="v3f")return vs(F,ne);if(ue==="int")return it(F,ne);if(ue==="rational")return lt(F,ne);if(ue==="timecode")return vt(F,ne);if(ue==="preview")return ne.value+=Ae,"skipped";ne.value+=Ae}function jd(F,$,ne){const ue={};if(F.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ue.version=F.getUint8(4);const Ae=F.getUint8(5);ue.spec={singleTile:!!(Ae&2),longName:!!(Ae&4),deepFormat:!!(Ae&8),multiPart:!!(Ae&16)},ne.value=8;for(var me=!0;me;){var Be=$e($,ne);if(Be==0)me=!1;else{var Re=$e($,ne),He=st(F,ne),Ve=Li(F,$,ne,Re,He);Ve===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Re}'.`):ue[Be]=Ve}}if(Ae!=0)throw console.error("EXRHeader:",ue),"THREE.EXRLoader: provided file is currently unsupported.";return ue}function Xm(F,$,ne,ue,Ae){const me={size:0,viewer:$,array:ne,offset:ue,width:F.dataWindow.xMax-F.dataWindow.xMin+1,height:F.dataWindow.yMax-F.dataWindow.yMin+1,channels:F.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:F.channels[0].pixelType,uncompress:null,getter:null,format:null,[Vg?"colorSpace":"encoding"]:null};switch(F.compression){case"NO_COMPRESSION":me.lines=1,me.uncompress=H;break;case"RLE_COMPRESSION":me.lines=1,me.uncompress=ce;break;case"ZIPS_COMPRESSION":me.lines=1,me.uncompress=De;break;case"ZIP_COMPRESSION":me.lines=16,me.uncompress=De;break;case"PIZ_COMPRESSION":me.lines=32,me.uncompress=Oe;break;case"PXR24_COMPRESSION":me.lines=16,me.uncompress=Ge;break;case"DWAA_COMPRESSION":me.lines=32,me.uncompress=_t;break;case"DWAB_COMPRESSION":me.lines=256,me.uncompress=_t;break;default:throw"EXRLoader.parse: "+F.compression+" is unsupported"}if(me.scanlineBlockSize=me.lines,me.type==1)switch(Ae){case Yr:me.getter=et,me.inputSize=2;break;case wn:me.getter=Ne,me.inputSize=2;break}else if(me.type==2)switch(Ae){case Yr:me.getter=zt,me.inputSize=4;break;case wn:me.getter=le,me.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+me.type+" for "+F.compression+".";me.blockCount=(F.dataWindow.yMax+1)/me.scanlineBlockSize;for(var Be=0;Be<me.blockCount;Be++)Gt($,ue);me.outputChannels=me.channels==3?4:me.channels;const Re=me.width*me.height*me.outputChannels;switch(Ae){case Yr:me.byteArray=new Float32Array(Re),me.channels<me.outputChannels&&me.byteArray.fill(1,0,Re);break;case wn:me.byteArray=new Uint16Array(Re),me.channels<me.outputChannels&&me.byteArray.fill(15360,0,Re);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ae);break}return me.bytesPerLine=me.width*me.inputSize*me.channels,me.outputChannels==4?me.format=dr:me.format=Wu,Vg?me.colorSpace="srgb-linear":me.encoding=3e3,me}const Yl=new DataView(e),th=new Uint8Array(e),q={value:0},ye=jd(Yl,e,q),xe=Xm(ye,Yl,th,q,this.type),ve={value:0},Le={R:0,G:1,B:2,A:3,Y:0};for(let F=0;F<xe.height/xe.scanlineBlockSize;F++){const $=st(Yl,q);xe.size=st(Yl,q),xe.lines=$+xe.scanlineBlockSize>xe.height?xe.height-$:xe.scanlineBlockSize;const ue=xe.size<xe.lines*xe.bytesPerLine?xe.uncompress(xe):H(xe);q.value+=xe.size;for(let Ae=0;Ae<xe.scanlineBlockSize;Ae++){const me=Ae+F*xe.scanlineBlockSize;if(me>=xe.height)break;for(let Be=0;Be<xe.channels;Be++){const Re=Le[ye.channels[Be].name];for(let He=0;He<xe.width;He++){ve.value=(Ae*(xe.channels*xe.width)+Be*xe.width+He)*xe.inputSize;const Ve=(xe.height-1-me)*(xe.width*xe.outputChannels)+He*xe.outputChannels+Re;xe.byteArray[Ve]=xe.getter(ue,ve)}}}}return{header:ye,width:xe.width,height:xe.height,data:xe.byteArray,format:xe.format,[Vg?"colorSpace":"encoding"]:xe[Vg?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){Vg?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=Cn,o.magFilter=Cn,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}const G7=new WeakMap,p3=class extends Di{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerLimit=t,this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(t,e,n,r){const i=new oi(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const s=new gd;return i.load(t,o=>{if(G7.has(o))return G7.get(o).promise.then(e).catch(r);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(r)},n,r),s}parseInternalAsync(t){const{levels:e}=t,n=new Set;for(let r=0;r<e.length;r++)n.add(e[r].data.buffer);return this._createTexture(Array.from(n),{...t,lowLevel:!0})}_createTexture(t,e={}){let n,r;const i=e;let s=0;for(let a=0;a<t.length;a++)s+=t[a].byteLength;const o=this._allocateWorker(s).then(a=>(n=a,r=this.workerNextTaskID++,new Promise((l,c)=>{n._callbacks[r]={resolve:l,reject:c},n.postMessage({type:"transcode",id:r,buffers:t,taskConfig:i},t)}))).then(a=>{const{mipmaps:l,width:c,height:u,format:f}=a,h=new gd(l,c,u,f,Ai);return h.minFilter=l.length===1?Cn:za,h.magFilter=Cn,h.generateMipmaps=!1,h.needsUpdate=!0,h});return o.catch(()=>!0).then(()=>{n&&r&&(n._taskLoad-=s,delete n._callbacks[r])}),G7.set(t[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const t=new oi(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=new Promise((i,s)=>{t.load("basis_transcoder.js",i,void 0,s)}),n=new oi(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=new Promise((i,s)=>{n.load("basis_transcoder.wasm",i,void 0,s)});this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=p3.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(p3.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(p3.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(p3.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(t){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),n.onmessage=function(r){const i=r.data;switch(i.type){case"transcode":n._callbacks[i.id].resolve(i);break;case"error":n._callbacks[i.id].reject(i);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,r){return n._taskLoad>r._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=t,e})}dispose(){for(let t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}};let nx=p3;xt(nx,"BasisFormat",{ETC1S:0,UASTC_4x4:1});xt(nx,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});xt(nx,"EngineFormat",{RGBAFormat:dr,RGBA_ASTC_4x4_Format:P1,RGBA_BPTC_Format:D1,RGBA_ETC2_EAC_Format:R1,RGBA_PVRTC_4BPPV1_Format:M1,RGBA_S3TC_DXT5_Format:_0,RGB_ETC1_Format:h8,RGB_ETC2_Format:B1,RGB_PVRTC_4BPPV1_Format:T1,RGB_S3TC_DXT1_Format:x0});xt(nx,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;onmessage=function(_){const x=_.data;switch(x.type){case"init":t=x.config,o(x.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:E,height:b,hasAlpha:w,mipmaps:T,format:C}=x.taskConfig.lowLevel?a(x.taskConfig):l(x.buffers[0]),I=[];for(let B=0;B<T.length;++B)I.push(T[B].data.buffer);self.postMessage({type:"transcode",id:x.id,width:E,height:b,hasAlpha:w,mipmaps:T,format:C},I)}catch(E){console.error(E),self.postMessage({type:"error",id:x.id,error:E.message})}});break}};function o(_){e=new Promise(x=>{n={wasmBinary:_,onRuntimeInitialized:x},BASIS(n)}).then(()=>{n.initializeBasis()})}function a(_){const{basisFormat:x,width:E,height:b,hasAlpha:w}=_,{transcoderFormat:T,engineFormat:C}=h(x,E,b,w),I=n.getBytesPerBlockOrPixel(T);d(n.isFormatSupported(T),"THREE.BasisTextureLoader: Unsupported format.");const B=[];if(x===s.ETC1S){const R=new n.LowLevelETC1SImageTranscoder,{endpointCount:L,endpointsData:z,selectorCount:O,selectorsData:G,tablesData:j}=_.globalData;try{let J;J=R.decodePalettes(L,z,O,G),d(J,"THREE.BasisTextureLoader: decodePalettes() failed."),J=R.decodeTables(j),d(J,"THREE.BasisTextureLoader: decodeTables() failed.");for(let N=0;N<_.levels.length;N++){const V=_.levels[N],Q=_.globalData.imageDescs[N],Z=v(T,V.width,V.height),re=new Uint8Array(Z);J=R.transcodeImage(T,re,Z/I,V.data,m(T,V.width),A(T,V.height),V.width,V.height,V.index,Q.rgbSliceByteOffset,Q.rgbSliceByteLength,Q.alphaSliceByteOffset,Q.alphaSliceByteLength,Q.imageFlags,w,!1,0,0),d(J,"THREE.BasisTextureLoader: transcodeImage() failed for level "+V.index+"."),B.push({data:re,width:V.width,height:V.height})}}finally{R.delete()}}else for(let R=0;R<_.levels.length;R++){const L=_.levels[R],z=v(T,L.width,L.height),O=new Uint8Array(z),G=n.transcodeUASTCImage(T,O,z/I,L.data,m(T,L.width),A(T,L.height),L.width,L.height,L.index,0,L.data.byteLength,0,w,!1,0,0,-1,-1);d(G,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+L.index+"."),B.push({data:O,width:L.width,height:L.height})}return{width:E,height:b,hasAlpha:w,mipmaps:B,format:C}}function l(_){const x=new n.BasisFile(new Uint8Array(_)),E=x.isUASTC()?s.UASTC_4x4:s.ETC1S,b=x.getImageWidth(0,0),w=x.getImageHeight(0,0),T=x.getNumLevels(0),C=x.getHasAlpha();function I(){x.close(),x.delete()}const{transcoderFormat:B,engineFormat:R}=h(E,b,w,C);if(!b||!w||!T)throw I(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!x.startTranscoding())throw I(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const L=[];for(let z=0;z<T;z++){const O=x.getImageWidth(0,z),G=x.getImageHeight(0,z),j=new Uint8Array(x.getImageTranscodedSizeInBytes(0,z,B));if(!x.transcodeImage(j,0,z,B,0,C))throw I(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");L.push({data:j,width:O,height:G})}return I(),{width:b,height:w,hasAlpha:C,mipmaps:L,format:R}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(_,x){return _.priorityETC1S-x.priorityETC1S}),f=c.sort(function(_,x){return _.priorityUASTC-x.priorityUASTC});function h(_,x,E,b){let w,T;const C=_===s.ETC1S?u:f;for(let I=0;I<C.length;I++){const B=C[I];if(t[B.if]&&B.basisFormat.includes(_)&&!(B.needsPowerOfTwo&&!(y(x)&&y(E))))return w=B.transcoderFormat[b?1:0],T=B.engineFormat[b?1:0],{transcoderFormat:w,engineFormat:T}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),w=i.RGBA32,T=r.RGBAFormat,{transcoderFormat:w,engineFormat:T}}function d(_,x){if(!_)throw new Error(x)}function m(_,x){return Math.ceil(x/n.getFormatBlockWidth(_))}function A(_,x){return Math.ceil(x/n.getFormatBlockHeight(_))}function v(_,x,E){const b=n.getBytesPerBlockOrPixel(_);if(n.formatIsUncompressed(_))return x*E*b;if(_===i.PVRTC1_4_RGB||_===i.PVRTC1_4_RGBA){const w=x+3&-4,T=E+3&-4;return(Math.max(8,w)*Math.max(8,T)*4+7)/8}return m(_,x)*A(_,E)*b}function y(_){return _<=2?!0:(_&_-1)===0&&_!==0}});const z7=new WeakMap;class R4e extends Di{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new oi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(z7.has(e)){const l=z7.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),z7.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Ht;e.index&&n.setIndex(new xn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new xn(o,a))}return n}_loadLibrary(e,n){const r=new oi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=P4e.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function P4e(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,h=new f.Decoder,d=new f.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{const m=n(f,h,d,c),A=m.attributes.map(v=>v.array.buffer);m.index&&A.push(m.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:m},A)}catch(m){console.error(m),self.postMessage({type:"error",id:a.id,error:m.message})}finally{f.destroy(d),f.destroy(h)}});break}};function n(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let h,d;const m=a.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)h=new o.Mesh,d=a.DecodeBufferToMesh(l,h);else if(m===o.POINT_CLOUD)h=new o.PointCloud,d=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const A={index:null,attributes:[]};for(const v in u){const y=self[f[v]];let _,x;if(c.useUniqueIDs)x=u[v],_=a.GetAttributeByUniqueId(h,x);else{if(x=a.GetAttributeId(h,o[u[v]]),x===-1)continue;_=a.GetAttribute(h,x)}A.attributes.push(i(o,a,h,v,y,_))}return m===o.TRIANGULAR_MESH&&(A.index=r(o,a,h)),o.destroy(h),A}function r(o,a,l){const u=l.num_faces()*3,f=u*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const d=new Uint32Array(o.HEAPF32.buffer,h,u).slice();return o._free(h),{array:d,itemSize:1}}function i(o,a,l,c,u,f){const h=f.num_components(),m=l.num_points()*h,A=m*u.BYTES_PER_ELEMENT,v=s(o,u),y=o._malloc(A);a.GetAttributeDataArrayForAllPoints(l,f,v,A,y);const _=new u(o.HEAPF32.buffer,y,m).slice();return o._free(y),{name:c,array:_,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Yy;const Q7=()=>{if(Yy)return Yy;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let m=0;m<f.length;++m){const A=f.charCodeAt(m);h[m]=A>96?A-71:A>64?A-65:A>47?A+4:A>46?63:62}let d=0;for(let m=0;m<f.length;++m)h[d++]=h[m]<60?r[h[m]]:(h[m]-60)*64+h[++m];return h.buffer.slice(0,d)}function l(f,h,d,m,A,v){const y=s.exports.sbrk,_=d+3&-4,x=y(_*m),E=y(A.length),b=new Uint8Array(s.exports.memory.buffer);b.set(A,E);const w=f(x,d,m,E,A.length);if(w===0&&v&&v(x,_,m),h.set(b.subarray(x,x+d*m)),y(x-y(0)),w!==0)throw new Error(`Malformed buffer data: ${w}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Yy={ready:o,supported:!0,decodeVertexBuffer(f,h,d,m,A){l(s.exports.meshopt_decodeVertexBuffer,f,h,d,m,s.exports[c[A]])},decodeIndexBuffer(f,h,d,m){l(s.exports.meshopt_decodeIndexBuffer,f,h,d,m)},decodeIndexSequence(f,h,d,m){l(s.exports.meshopt_decodeIndexSequence,f,h,d,m)},decodeGltfBuffer(f,h,d,m,A,v){l(s.exports[u[A]],f,h,d,m,s.exports[c[v]])}},Yy};function vA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}let Xy=null,kj="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function Fj(t,e,n){return r=>{n&&n(r),t&&(Xy||(Xy=new R4e),Xy.setDecoderPath(typeof t=="string"?t:kj),r.setDRACOLoader(Xy)),e&&r.setMeshoptDecoder(typeof Q7=="function"?Q7():Q7)}}function qf(t,e=!0,n=!0,r){return Fm(fT,t,Fj(e,n,r))}qf.preload=(t,e=!0,n=!0,r)=>Fm.preload(fT,t,Fj(e,n,r));qf.clear=t=>Fm.clear(fT,t);qf.setDecoderPath=t=>{kj=t};const H7={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},D4e="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",ZF=t=>Array.isArray(t);function Oj({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var s;let o=null,a=!1,l;if(n){if(!(n in H7))throw new Error("Preset must be one of: "+Object.keys(H7).join(", "));t=H7[n],e=D4e}if(a=ZF(t),l=ZF(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(s=t.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),o=a?BV:l==="hdr"?M4e:l==="exr"?B4e:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=Fm(o,a?[t]:t,d=>{d.setPath==null||d.setPath(e),i&&i(d)}),u=a?c[0]:c;u.mapping=a?Gc:W0;const f=3001,h=3e3;return"colorSpace"in u?u.colorSpace=r??a?"srgb":"srgb-linear":u.encoding=r??a?f:h,u}const L4e=t=>t.current&&t.current.isScene,k4e=t=>L4e(t)?t.current:t;function kT(t,e,n,r,i=0){const s=k4e(e||n),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return t!=="only"&&(s.environment=r),t&&(s.background=r),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{t!=="only"&&(s.environment=a),t&&(s.background=o),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function FT({scene:t,background:e=!1,blur:n,map:r}){const i=La(s=>s.scene);return D.useLayoutEffect(()=>{if(r)return kT(e,t,i,r,n)},[i,t,r,e,n]),null}function Nj({background:t=!1,scene:e,blur:n,...r}){const i=Oj(r),s=La(o=>o.scene);return D.useLayoutEffect(()=>kT(t,e,s,i,n),[i,t,e,s,n]),null}function F4e({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:f=void 0,extensions:h}){const d=La(x=>x.gl),m=La(x=>x.scene),A=D.useRef(null),[v]=D.useState(()=>new N1),y=D.useMemo(()=>{const x=new AI(r);return x.texture.type=wn,x},[r]);D.useLayoutEffect(()=>(i===1&&A.current.update(d,v),kT(o,l,m,y.texture,a)),[t,v,y.texture,l,m,o,i,d]);let _=1;return Fd(()=>{(i===1/0||_<i)&&(A.current.update(d,v),_++)}),D.createElement(D.Fragment,null,pfe(D.createElement(D.Fragment,null,t,D.createElement("cubeCamera",{ref:A,args:[e,n,y]}),c||f?D.createElement(Nj,{background:!0,files:c,preset:f,path:u,extensions:h}):s?D.createElement(FT,{background:!0,map:s,extensions:h}):null),v))}function O4e(t){var e,n,r,i;const s=Oj(t),o=t.map||s;D.useMemo(()=>R8({GroundProjectedEnvImpl:hge}),[]);const a=D.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return D.createElement(D.Fragment,null,D.createElement(FT,_r({},t,{map:o})),D.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function N4e(t){return t.ground?D.createElement(O4e,t):t.map?D.createElement(FT,t):t.children?D.createElement(F4e,t):D.createElement(Nj,t)}var Uj={exports:{}},U4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G4e=U4e,z4e=G4e;function Gj(){}function zj(){}zj.resetWarningCache=Gj;var Q4e=function(){function t(r,i,s,o,a,l){if(l!==z4e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zj,resetWarningCache:Gj};return n.PropTypes=n,n};Uj.exports=Q4e();var H4e=Uj.exports;const Gn=ca(H4e);function dc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var so={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},am={duration:.5,overwrite:!1,delay:0},OT,Wi,Tr,Wo=1e8,Un=1/Wo,WS=Math.PI*2,V4e=WS/4,$4e=0,Hj=Math.sqrt,W4e=Math.cos,j4e=Math.sin,Ei=function(e){return typeof e=="string"},Rr=function(e){return typeof e=="function"},Vc=function(e){return typeof e=="number"},NT=function(e){return typeof e>"u"},Nl=function(e){return typeof e=="object"},Ls=function(e){return e!==!1},UT=function(){return typeof window<"u"},qy=function(e){return Rr(e)||Ei(e)},Vj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ji=Array.isArray,jS=/(?:-?\.?\d|\.)+/gi,$j=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,a0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,V7=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Wj=/[+-]=-?[.\d]+/,jj=/[^,'"\[\]\s]+/gi,K4e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,fr,Lo,KS,GT,po={},e4={},Kj,Jj=function(e){return(e4=Cd(e,po))&&Gs},zT=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},t4=function(e,n){return!n&&console.warn(e)},Yj=function(e,n){return e&&(po[e]=n)&&e4&&(e4[e]=n)||po},q1=function(){return 0},J4e={suppressEvents:!0,isStart:!0,kill:!1},j5={suppressEvents:!0,kill:!1},Y4e={suppressEvents:!0},QT={},mf=[],JS={},Xj,Js={},$7={},eO=30,K5=[],HT="",VT=function(e){var n=e[0],r,i;if(Nl(n)||Rr(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=K5.length;i--&&!K5[i].targetTest(n););r=K5[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new _K(e[i],r)))||e.splice(i,1);return e},rd=function(e){return e._gsap||VT(jo(e))[0]._gsap},qj=function(e,n,r){return(r=e[n])&&Rr(r)?e[n]():NT(r)&&e.getAttribute&&e.getAttribute(n)||r},ks=function(e,n){return(e=e.split(",")).forEach(n)||e},Fr=function(e){return Math.round(e*1e5)/1e5||0},Mi=function(e){return Math.round(e*1e7)/1e7||0},w0=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},X4e=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},n4=function(){var e=mf.length,n=mf.slice(0),r,i;for(JS={},mf.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Zj=function(e,n,r,i){mf.length&&!Wi&&n4(),e.render(n,r,i||Wi&&n<0&&(e._initted||e._startAt)),mf.length&&!Wi&&n4()},eK=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(jj).length<2?n:Ei(e)?e.trim():e},tK=function(e){return e},sa=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},q4e=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},Cd=function(e,n){for(var r in n)e[r]=n[r];return e},tO=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Nl(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},r4=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},G3=function(e){var n=e.parent||fr,r=e.keyframes?q4e(ji(e.keyframes)):sa;if(Ls(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Z4e=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},nK=function(e,n,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},rx=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Pf=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},id=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},e8e=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},YS=function(e,n,r,i){return e._startAt&&(Wi?e._startAt.revert(j5):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},t8e=function t(e){return!e||e._ts&&t(e.parent)},nO=function(e){return e._repeat?lm(e._tTime,e=e.duration()+e._rDelay)*e:0},lm=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},i4=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},ix=function(e){return e._end=Mi(e._start+(e._tDur/Math.abs(e._ts||e._rts||Un)||0))},sx=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Mi(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),ix(e),r._dirty||id(r,e)),e},rK=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=i4(e.rawTime(),n),(!n._dur||yA(0,n.totalDuration(),r)-n._tTime>Un)&&n.render(r,!0)),id(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Un}},vl=function(e,n,r,i){return n.parent&&Pf(n),n._start=Mi((Vc(r)?r:r||e!==fr?Po(e,r,n):e._time)+n._delay),n._end=Mi(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),nK(e,n,"_first","_last",e._sort?"_start":0),XS(n)||(e._recent=n),i||rK(e,n),e._ts<0&&sx(e,e._tTime),e},iK=function(e,n){return(po.ScrollTrigger||zT("scrollTrigger",n))&&po.ScrollTrigger.create(n,e)},sK=function(e,n,r,i,s){if(WT(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!Wi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Xj!==qs.frame)return mf.push(e),e._lazy=[s,i],1},n8e=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},XS=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},r8e=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&n8e(e)&&!(!e._initted&&XS(e))||(e._ts<0||e._dp._ts<0)&&!XS(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=yA(0,e._tDur,n),u=lm(l,a),e._yoyo&&u&1&&(o=1-o),u!==lm(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Wi||i||e._zTime===Un||!n&&e._zTime){if(!e._initted&&sK(e,n,i,r,l))return;for(f=e._zTime,e._zTime=n||(r?Un:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&YS(e,n,r,!0),e._onUpdate&&!r&&Ko(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Ko(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Pf(e,1),!r&&!Wi&&(Ko(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},i8e=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},cm=function(e,n,r,i){var s=e._repeat,o=Mi(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Mi(o*(s+1)+e._rDelay*s):o,a>0&&!i&&sx(e,e._tTime=e._tDur*a),e.parent&&ix(e),r||id(e.parent,e),e},rO=function(e){return e instanceof ws?id(e):cm(e,e._dur)},s8e={_start:0,endTime:q1,totalDuration:q1},Po=function t(e,n,r){var i=e.labels,s=e._recent||s8e,o=e.duration()>=Wo?s.endTime(!1):e._dur,a,l,c;return Ei(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),c=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),c&&r&&(l=l/100*(ji(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},z3=function(e,n,r){var i=Vc(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ls(l.vars.inherit)&&l.parent;o.immediateRender=Ls(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Wr(n[0],o,n[s+1])},Zf=function(e,n){return e||e===0?n(e):n},yA=function(e,n,r){return r<e?e:r>n?n:r},Vi=function(e,n){return!Ei(e)||!(n=K4e.exec(e))?"":n[1]},o8e=function(e,n,r){return Zf(r,function(i){return yA(e,n,i)})},qS=[].slice,oK=function(e,n){return e&&Nl(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Nl(e[0]))&&!e.nodeType&&e!==Lo},a8e=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Ei(i)&&!n||oK(i,1)?(s=r).push.apply(s,jo(i)):r.push(i)})||r},jo=function(e,n,r){return Tr&&!n&&Tr.selector?Tr.selector(e):Ei(e)&&!r&&(KS||!um())?qS.call((n||GT).querySelectorAll(e),0):ji(e)?a8e(e,r):oK(e)?qS.call(e,0):e?[e]:[]},ZS=function(e){return e=jo(e)[0]||t4("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return jo(n,r.querySelectorAll?r:r===e?t4("Invalid scope")||GT.createElement("div"):e)}},aK=function(e){return e.sort(function(){return .5-Math.random()})},lK=function(e){if(Rr(e))return e;var n=Nl(e)?e:{each:e},r=sd(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=n.axis,u=i,f=i;return Ei(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(h,d,m){var A=(m||n).length,v=o[A],y,_,x,E,b,w,T,C,I;if(!v){if(I=n.grid==="auto"?0:(n.grid||[1,Wo])[1],!I){for(T=-Wo;T<(T=m[I++].getBoundingClientRect().left)&&I<A;);I--}for(v=o[A]=[],y=l?Math.min(I,A)*u-.5:i%I,_=I===Wo?0:l?A*f/I-.5:i/I|0,T=0,C=Wo,w=0;w<A;w++)x=w%I-y,E=_-(w/I|0),v[w]=b=c?Math.abs(c==="y"?E:x):Hj(x*x+E*E),b>T&&(T=b),b<C&&(C=b);i==="random"&&aK(v),v.max=T-C,v.min=C,v.v=A=(parseFloat(n.amount)||parseFloat(n.each)*(I>A?A-1:c?c==="y"?A/I:I:Math.max(I,A/I))||0)*(i==="edges"?-1:1),v.b=A<0?s-A:s,v.u=Vi(n.amount||n.each)||0,r=r&&A<0?vK(r):r}return A=(v[h]-v.min)/v.max||0,Mi(v.b+(r?r(A):A)*v.v)+v.u}},ew=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Mi(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(Vc(r)?0:Vi(r))}},cK=function(e,n){var r=ji(e),i,s;return!r&&Nl(e)&&(i=r=e.radius||Wo,e.values?(e=jo(e.values),(s=!Vc(e[0]))&&(i*=i)):e=ew(e.increment)),Zf(n,r?Rr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Wo,u=0,f=e.length,h,d;f--;)s?(h=e[f].x-a,d=e[f].y-l,h=h*h+d*d):h=Math.abs(e[f]-a),h<c&&(c=h,u=f);return u=!i||c<=i?e[u]:o,s||u===o||Vc(o)?u:u+Vi(o)}:ew(e))},uK=function(e,n,r,i){return Zf(ji(e)?!n:r===!0?!!(r=0):!i,function(){return ji(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},l8e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},c8e=function(e,n){return function(r){return e(parseFloat(r))+(n||Vi(r))}},u8e=function(e,n,r){return hK(e,n,0,1,r)},fK=function(e,n,r){return Zf(r,function(i){return e[~~n(i)]})},f8e=function t(e,n,r){var i=n-e;return ji(e)?fK(e,t(0,e.length),n):Zf(r,function(s){return(i+(s-e)%i)%i+e})},h8e=function t(e,n,r){var i=n-e,s=i*2;return ji(e)?fK(e,t(0,e.length-1),n):Zf(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Z1=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?jj:jS),r+=e.substr(n,i-n)+uK(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},hK=function(e,n,r,i,s){var o=n-e,a=i-r;return Zf(s,function(l){return r+((l-e)/o*a||0)})},d8e=function t(e,n,r,i){var s=isNaN(e+n)?0:function(d){return(1-d)*e+d*n};if(!s){var o=Ei(e),a={},l,c,u,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(ji(e)&&!ji(n)){for(u=[],f=e.length,h=f-2,c=1;c<f;c++)u.push(t(e[c-1],e[c]));f--,s=function(m){m*=f;var A=Math.min(h,~~m);return u[A](m-A)},r=n}else i||(e=Cd(ji(e)?[]:{},e));if(!u){for(l in n)$T.call(a,e,l,"get",n[l]);s=function(m){return JT(m,a)||(o?e.p:e)}}}return Zf(r,s)},iO=function(e,n,r){var i=e.labels,s=Wo,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ko=function(e,n,r){var i=e.vars,s=i[n],o=Tr,a=e._ctx,l,c,u;if(s)return l=i[n+"Params"],c=i.callbackScope||e,r&&mf.length&&n4(),a&&(Tr=a),u=l?s.apply(c,l):s.call(c),Tr=o,u},m3=function(e){return Pf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Wi),e.progress()<1&&Ko(e,"onInterrupt"),e},l0,dK=[],pK=function(e){if(UT()&&e){e=!e.name&&e.default||e;var n=e.name,r=Rr(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:q1,render:JT,add:$T,kill:M8e,modifier:T8e,rawVars:0},o={targetTest:0,get:0,getSetter:KT,aliases:{},register:0};if(um(),e!==i){if(Js[n])return;sa(i,sa(r4(e,s),o)),Cd(i.prototype,Cd(s,r4(e,o))),Js[i.prop=n]=i,e.targetTest&&(K5.push(i),QT[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Yj(n,i),e.register&&e.register(Gs,i,Fs)}else e&&dK.push(e)},On=255,g3={aqua:[0,On,On],lime:[0,On,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,On],navy:[0,0,128],white:[On,On,On],olive:[128,128,0],yellow:[On,On,0],orange:[On,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[On,0,0],pink:[On,192,203],cyan:[0,On,On],transparent:[On,On,On,0]},W7=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*On+.5|0},mK=function(e,n,r){var i=e?Vc(e)?[e>>16,e>>8&On,e&On]:0:g3.black,s,o,a,l,c,u,f,h,d,m;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),g3[e])i=g3[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&On,i&On,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&On,e&On]}else if(e.substr(0,3)==="hsl"){if(i=m=e.match(jS),!n)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=W7(l+1/3,s,o),i[1]=W7(l,s,o),i[2]=W7(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match($j),r&&i.length<4&&(i[3]=1),i}else i=e.match(jS)||g3.transparent;i=i.map(Number)}return n&&!m&&(s=i[0]/On,o=i[1]/On,a=i[2]/On,f=Math.max(s,o,a),h=Math.min(s,o,a),u=(f+h)/2,f===h?l=c=0:(d=f-h,c=u>.5?d/(2-f-h):d/(f+h),l=f===s?(o-a)/d+(o<a?6:0):f===o?(a-s)/d+2:(s-o)/d+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},gK=function(e){var n=[],r=[],i=-1;return e.split(gf).forEach(function(s){var o=s.match(a0)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},sO=function(e,n,r){var i="",s=(e+i).match(gf),o=n?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(h){return(h=mK(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(u=gK(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(gf,"1").split(a0),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(gf),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},gf=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in g3)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),p8e=/hsl[a]?\(/,AK=function(e){var n=e.join(" "),r;if(gf.lastIndex=0,gf.test(n))return r=p8e.test(n),e[1]=sO(e[1],r),e[0]=sO(e[0],r,gK(e[1])),!0},e2,qs=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,h,d,m=function A(v){var y=t()-i,_=v===!0,x,E,b,w;if(y>e&&(r+=y-n),i+=y,b=i-r,x=b-o,(x>0||_)&&(w=++f.frame,h=b-f.time*1e3,f.time=b=b/1e3,o+=x+(x>=s?4:s-x),E=1),_||(l=c(A)),E)for(d=0;d<a.length;d++)a[d](b,h,w,v)};return f={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){Kj&&(!KS&&UT()&&(Lo=KS=window,GT=Lo.document||{},po.gsap=Gs,(Lo.gsapVersions||(Lo.gsapVersions=[])).push(Gs.version),Jj(e4||Lo.GreenSockGlobals||!Lo.gsap&&Lo||{}),u=Lo.requestAnimationFrame,dK.forEach(pK)),l&&f.sleep(),c=u||function(v){return setTimeout(v,o-f.time*1e3+1|0)},e2=1,m(2))},sleep:function(){(u?Lo.cancelAnimationFrame:clearTimeout)(l),e2=0,c=q1},lagSmoothing:function(v,y){e=v||1/0,n=Math.min(y||33,e)},fps:function(v){s=1e3/(v||240),o=f.time*1e3+s},add:function(v,y,_){var x=y?function(E,b,w,T){v(E,b,w,T),f.remove(x)}:v;return f.remove(v),a[_?"unshift":"push"](x),um(),x},remove:function(v,y){~(y=a.indexOf(v))&&a.splice(y,1)&&d>=y&&d--},_listeners:a},f}(),um=function(){return!e2&&qs.wake()},cn={},m8e=/^[\d.\-M][\d.\-,\s]/,g8e=/["']/g,A8e=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),n[i]=isNaN(c)?c.replace(g8e,"").trim():+c,i=l.substr(a+1).trim();return n},v8e=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},y8e=function(e){var n=(e+"").split("("),r=cn[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[A8e(n[1])]:v8e(e).split(",").map(eK)):cn._CE&&m8e.test(e)?cn._CE("",e):r},vK=function(e){return function(n){return 1-e(1-n)}},yK=function t(e,n){for(var r=e._first,i;r;)r instanceof ws?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},sd=function(e,n){return e&&(Rr(e)?e:cn[e]||y8e(e))||n},Gd=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return ks(e,function(a){cn[a]=po[a]=s,cn[o=a.toLowerCase()]=r;for(var l in s)cn[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=cn[a+"."+l]=s[l]}),s},xK=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},j7=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/WS*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*j4e((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:xK(a);return s=WS/s,l.config=function(c,u){return t(e,c,u)},l},K7=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:xK(r);return i.config=function(s){return t(e,s)},i};ks("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Gd(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});cn.Linear.easeNone=cn.none=cn.Linear.easeIn;Gd("Elastic",j7("in"),j7("out"),j7());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Gd("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Gd("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Gd("Circ",function(t){return-(Hj(1-t*t)-1)});Gd("Sine",function(t){return t===1?1:-W4e(t*V4e)+1});Gd("Back",K7("in"),K7("out"),K7());cn.SteppedEase=cn.steps=po.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Un;return function(a){return((i*yA(0,o,a)|0)+s)*r}}};am.ease=cn["quad.out"];ks("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return HT+=t+","+t+"Params,"});var _K=function(e,n){this.id=$4e++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:qj,this.set=n?n.getSetter:KT},t2=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,cm(this,+n.duration,1,1),this.data=n.data,Tr&&(this._ctx=Tr,Tr.data.push(this)),e2||qs.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,cm(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(um(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(sx(this,r),!s._dp||s.parent||rK(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&vl(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Un||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Zj(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+nO(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+nO(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?lm(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-Un?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?i4(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Un?0:this._rts,this.totalTime(yA(-Math.abs(this._delay),this._tDur,i),!0),ix(this),e8e(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(um(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Un&&(this._tTime-=Un)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&vl(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Ls(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?i4(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Y4e);var i=Wi;return Wi=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Wi=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,rO(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,rO(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Po(this,r),Ls(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Ls(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Un:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Un,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Un)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Rr(r)?r:tK,a=function(){var c=i.then;i.then=null,Rr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){m3(this)},t}();sa(t2.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Un,_prom:0,_ps:!1,_rts:1});var ws=function(t){Qj(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Ls(r.sortChildren),fr&&vl(r.parent||fr,dc(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&iK(dc(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return z3(0,arguments,this),this},n.from=function(i,s,o){return z3(1,arguments,this),this},n.fromTo=function(i,s,o,a){return z3(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,G3(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Wr(i,s,Po(this,o),1),this},n.call=function(i,s,o){return vl(this,Wr.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Wr(i,o,Po(this,l)),this},n.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,G3(o).immediateRender=Ls(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},n.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,G3(a).immediateRender=Ls(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Mi(i),f=this._zTime<0!=i<0&&(this._initted||!c),h,d,m,A,v,y,_,x,E,b,w,T;if(this!==fr&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),h=u,E=this._start,x=this._ts,y=!x,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(w=this._yoyo,v=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(h=Mi(u%v),u===l?(A=this._repeat,h=c):(A=~~(u/v),A&&A===u/v&&(h=c,A--),h>c&&(h=c)),b=lm(this._tTime,v),!a&&this._tTime&&b!==A&&this._tTime-b*v-this._dur<=0&&(b=A),w&&A&1&&(h=c-h,T=1),A!==b&&!this._lock){var C=w&&b&1,I=C===(w&&A&1);if(A<b&&(C=!C),a=C?0:u%c?c:u,this._lock=1,this.render(a||(T?0:Mi(A*v)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Ko(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,I&&(this._lock=2,a=C?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;yK(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=i8e(this,Mi(a),Mi(h)),_&&(u-=h-(h=_._start))),this._tTime=u,this._time=h,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!A&&(Ko(this,"onStart"),this._tTime!==u))return this;if(h>=a&&i>=0)for(d=this._first;d;){if(m=d._next,(d._act||h>=d._start)&&d._ts&&_!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(h-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(h-d._start)*d._ts,s,o),h!==this._time||!this._ts&&!y){_=0,m&&(u+=this._zTime=-Un);break}}d=m}else{d=this._last;for(var B=i<0?i:h;d;){if(m=d._prev,(d._act||B<=d._end)&&d._ts&&_!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(B-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(B-d._start)*d._ts,s,o||Wi&&(d._initted||d._startAt)),h!==this._time||!this._ts&&!y){_=0,m&&(u+=this._zTime=B?-Un:Un);break}}d=m}}if(_&&!s&&(this.pause(),_.render(h>=a?0:-Un)._zTime=h>=a?1:-1,this._ts))return this._start=E,ix(this),this.render(i,s,o);this._onUpdate&&!s&&Ko(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(E===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Pf(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(Ko(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(Vc(s)||(s=Po(this,s,i)),!(i instanceof t2)){if(ji(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Ei(i))return this.addLabel(i,s);if(Rr(i))i=Wr.delayedCall(0,i);else return this}return this!==i?vl(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Wo);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Wr?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return Ei(i)?this.removeLabel(i):Rr(i)?this.killTweensOf(i):(rx(this,i),i===this._recent&&(this._recent=this._last),id(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Mi(qs.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=Po(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Wr.delayedCall(0,s||q1,o);return a.data="isPause",this._hasPause=1,vl(this,a,Po(this,i))},n.removePause=function(i){var s=this._first;for(i=Po(this,i);s;)s._start===i&&s.data==="isPause"&&Pf(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Yu!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=jo(i),l=this._first,c=Vc(s),u;l;)l instanceof Wr?X4e(l._targets,a)&&(c?(!Yu||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=Po(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,h=l.immediateRender,d,m=Wr.to(o,sa({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Un,onStart:function(){if(o.pause(),!d){var v=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());m._dur!==v&&cm(m,v,0,1).render(m._time,!0,!0),d=1}u&&u.apply(m,f||[])}},s));return h?m.render(0):m},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,sa({startAt:{time:Po(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),iO(this,Po(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),iO(this,Po(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Un)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return id(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),id(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=Wo,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,vl(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;cm(o,o===fr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(fr._ts&&(Zj(fr,i4(i,fr)),Xj=qs.frame),qs.frame>=eO){eO+=so.autoSleep||120;var s=fr._first;if((!s||!s._ts)&&so.autoSleep&&qs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||qs.sleep()}}},e}(t2);sa(ws.prototype,{_lock:0,_hasPause:0,_forcing:0});var x8e=function(e,n,r,i,s,o,a){var l=new Fs(this._pt,e,n,0,1,IK,null,s),c=0,u=0,f,h,d,m,A,v,y,_;for(l.b=r,l.e=i,r+="",i+="",(y=~i.indexOf("random("))&&(i=Z1(i)),o&&(_=[r,i],o(_,e,n),r=_[0],i=_[1]),h=r.match(V7)||[];f=V7.exec(i);)m=f[0],A=i.substring(c,f.index),d?d=(d+1)%5:A.substr(-5)==="rgba("&&(d=1),m!==h[u++]&&(v=parseFloat(h[u-1])||0,l._pt={_next:l._pt,p:A||u===1?A:",",s:v,c:m.charAt(1)==="="?w0(v,m)-v:parseFloat(m)-v,m:d&&d<4?Math.round:0},c=V7.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(Wj.test(i)||y)&&(l.e=0),this._pt=l,l},$T=function(e,n,r,i,s,o,a,l,c,u){Rr(i)&&(i=i(s||0,e,o));var f=e[n],h=r!=="get"?r:Rr(f)?c?e[n.indexOf("set")||!Rr(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():f,d=Rr(f)?c?w8e:wK:jT,m;if(Ei(i)&&(~i.indexOf("random(")&&(i=Z1(i)),i.charAt(1)==="="&&(m=w0(h,i)+(Vi(h)||0),(m||m===0)&&(i=m))),!u||h!==i||tw)return!isNaN(h*i)&&i!==""?(m=new Fs(this._pt,e,n,+h||0,i-(h||0),typeof f=="boolean"?I8e:bK,0,d),c&&(m.fp=c),a&&m.modifier(a,this,e),this._pt=m):(!f&&!(n in e)&&zT(n,i),x8e.call(this,e,n,h,i,d,l||so.stringFilter,c))},_8e=function(e,n,r,i,s){if(Rr(e)&&(e=Q3(e,s,n,r,i)),!Nl(e)||e.style&&e.nodeType||ji(e)||Vj(e))return Ei(e)?Q3(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=Q3(e[a],s,n,r,i);return o},EK=function(e,n,r,i,s,o){var a,l,c,u;if(Js[e]&&(a=new Js[e]).init(s,a.rawVars?n[e]:_8e(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Fs(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==l0))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Yu,tw,WT=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.onUpdateParams,f=i.callbackScope,h=i.runBackwards,d=i.yoyoEase,m=i.keyframes,A=i.autoRevert,v=e._dur,y=e._startAt,_=e._targets,x=e.parent,E=x&&x.data==="nested"?x.vars.targets:_,b=e._overwrite==="auto"&&!OT,w=e.timeline,T,C,I,B,R,L,z,O,G,j,J,N,V;if(w&&(!m||!s)&&(s="none"),e._ease=sd(s,am.ease),e._yEase=d?vK(sd(d===!0?s:d,am.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!w&&!!i.runBackwards,!w||m&&!i.stagger){if(O=_[0]?rd(_[0]).harness:0,N=O&&i[O.prop],T=r4(i,QT),y&&(y._zTime<0&&y.progress(1),n<0&&h&&a&&!A?y.render(-1,!0):y.revert(h&&v?j5:J4e),y._lazy=0),o){if(Pf(e._startAt=Wr.set(_,sa({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!y&&Ls(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Wi||!a&&!A)&&e._startAt.revert(j5),a&&v&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(h&&v&&!y){if(n&&(a=!1),I=sa({overwrite:!1,data:"isFromStart",lazy:a&&!y&&Ls(l),immediateRender:a,stagger:0,parent:x},T),N&&(I[O.prop]=N),Pf(e._startAt=Wr.set(_,I)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Wi?e._startAt.revert(j5):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Un,Un);else if(!n)return}for(e._pt=e._ptCache=0,l=v&&Ls(l)||l&&!v,C=0;C<_.length;C++){if(R=_[C],z=R._gsap||VT(_)[C]._gsap,e._ptLookup[C]=j={},JS[z.id]&&mf.length&&n4(),J=E===_?C:E.indexOf(R),O&&(G=new O).init(R,N||T,e,J,E)!==!1&&(e._pt=B=new Fs(e._pt,R,G.name,0,1,G.render,G,0,G.priority),G._props.forEach(function(Q){j[Q]=B}),G.priority&&(L=1)),!O||N)for(I in T)Js[I]&&(G=EK(I,T,e,J,R,E))?G.priority&&(L=1):j[I]=B=$T.call(e,R,I,"get",T[I],J,E,0,i.stringFilter);e._op&&e._op[C]&&e.kill(R,e._op[C]),b&&e._pt&&(Yu=e,fr.killTweensOf(R,j,e.globalTime(n)),V=!e.parent,Yu=0),e._pt&&l&&(JS[z.id]=1)}L&&TK(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!V,m&&n<=0&&w.render(Wo,!0,!0)},E8e=function(e,n,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,u,f,h;if(!l)for(l=e._ptCache[n]=[],f=e._ptLookup,h=e._targets.length;h--;){if(c=f[h][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return tw=1,e.vars[n]="+=0",WT(e,a),tw=0,1;l.push(c)}for(h=l.length;h--;)u=l[h],c=u._pt||u,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,u.e&&(u.e=Fr(r)+Vi(u.e)),u.b&&(u.b=c.s+Vi(u.b))},C8e=function(e,n){var r=e[0]?rd(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=Cd({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},S8e=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(ji(n))a=r[e]||(r[e]=[]),n.forEach(function(l,c){return a.push({t:c/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},Q3=function(e,n,r,i,s){return Rr(e)?e.call(n,r,i,s):Ei(e)&&~e.indexOf("random(")?Z1(e):e},CK=HT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",SK={};ks(CK+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return SK[t]=1});var Wr=function(t){Qj(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:G3(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,h=l.stagger,d=l.overwrite,m=l.keyframes,A=l.defaults,v=l.scrollTrigger,y=l.yoyoEase,_=i.parent||fr,x=(ji(r)||Vj(r)?Vc(r[0]):"length"in i)?[r]:jo(r),E,b,w,T,C,I,B,R;if(a._targets=x.length?VT(x):t4("GSAP target "+r+" not found. https://greensock.com",!so.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,m||h||qy(c)||qy(u)){if(i=a.vars,E=a.timeline=new ws({data:"nested",defaults:A||{},targets:_&&_.data==="nested"?_.vars.targets:x}),E.kill(),E.parent=E._dp=dc(a),E._start=0,h||qy(c)||qy(u)){if(T=x.length,B=h&&lK(h),Nl(h))for(C in h)~CK.indexOf(C)&&(R||(R={}),R[C]=h[C]);for(b=0;b<T;b++)w=r4(i,SK),w.stagger=0,y&&(w.yoyoEase=y),R&&Cd(w,R),I=x[b],w.duration=+Q3(c,dc(a),b,I,x),w.delay=(+Q3(u,dc(a),b,I,x)||0)-a._delay,!h&&T===1&&w.delay&&(a._delay=u=w.delay,a._start+=u,w.delay=0),E.to(I,w,B?B(b,I,x):0),E._ease=cn.none;E.duration()?c=u=0:a.timeline=0}else if(m){G3(sa(E.vars.defaults,{ease:"none"})),E._ease=sd(m.ease||i.ease||"none");var L=0,z,O,G;if(ji(m))m.forEach(function(j){return E.to(x,j,">")}),E.duration();else{w={};for(C in m)C==="ease"||C==="easeEach"||S8e(C,m[C],w,m.easeEach);for(C in w)for(z=w[C].sort(function(j,J){return j.t-J.t}),L=0,b=0;b<z.length;b++)O=z[b],G={ease:O.e,duration:(O.t-(b?z[b-1].t:0))/100*c},G[C]=O.v,E.to(x,G,L),L+=G.duration;E.duration()<c&&E.to({},{duration:c-E.duration()})}}c||a.duration(c=E.duration())}else a.timeline=0;return d===!0&&!OT&&(Yu=dc(a),fr.killTweensOf(x),Yu=0),vl(_,dc(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!m&&a._start===Mi(_._time)&&Ls(f)&&t8e(dc(a))&&_.data!=="nested")&&(a._tTime=-Un,a.render(Math.max(0,-u)||0)),v&&iK(dc(a),v),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-Un&&!u?l:i<Un?0:i,h,d,m,A,v,y,_,x,E;if(!c)r8e(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,x=this.timeline,this._repeat){if(A=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(A*100+i,s,o);if(h=Mi(f%A),f===l?(m=this._repeat,h=c):(m=~~(f/A),m&&m===f/A&&(h=c,m--),h>c&&(h=c)),y=this._yoyo&&m&1,y&&(E=this._yEase,h=c-h),v=lm(this._tTime,A),h===a&&!o&&this._initted)return this._tTime=f,this;m!==v&&(x&&this._yEase&&yK(x,y),this.vars.repeatRefresh&&!y&&!this._lock&&(this._lock=o=1,this.render(Mi(A*m),!0).invalidate()._lock=0))}if(!this._initted){if(sK(this,u?i:h,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(E||this._ease)(h/c),this._from&&(this.ratio=_=1-_),h&&!a&&!s&&!m&&(Ko(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(_,d.d),d=d._next;x&&x.render(i<0?i:!h&&y?-Un:x._dur*x._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&YS(this,i,s,o),Ko(this,"onUpdate")),this._repeat&&m!==v&&this.vars.onRepeat&&!s&&this.parent&&Ko(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&YS(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Pf(this,1),!s&&!(u&&!a)&&(f||a||y)&&(Ko(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a){e2||qs.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||WT(this,l),c=this._ease(l/this._dur),E8e(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(sx(this,0),this.parent||nK(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?m3(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Yu&&Yu.vars.overwrite!==!0)._first||m3(this),this.parent&&o!==this.timeline.totalDuration()&&cm(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?jo(i):a,c=this._ptLookup,u=this._pt,f,h,d,m,A,v,y;if((!s||s==="all")&&Z4e(a,l))return s==="all"&&(this._pt=0),m3(this);for(f=this._op=this._op||[],s!=="all"&&(Ei(s)&&(A={},ks(s,function(_){return A[_]=1}),s=A),s=C8e(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){h=c[y],s==="all"?(f[y]=s,m=h,d={}):(d=f[y]=f[y]||{},m=s);for(A in m)v=h&&h[A],v&&((!("kill"in v.d)||v.d.kill(A)===!0)&&rx(this,v,"_pt"),delete h[A]),d!=="all"&&(d[A]=1)}return this._initted&&!this._pt&&u&&m3(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return z3(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return z3(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return fr.killTweensOf(i,s,o)},e}(t2);sa(Wr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ks("staggerTo,staggerFrom,staggerFromTo",function(t){Wr[t]=function(){var e=new ws,n=qS.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var jT=function(e,n,r){return e[n]=r},wK=function(e,n,r){return e[n](r)},w8e=function(e,n,r,i){return e[n](i.fp,r)},b8e=function(e,n,r){return e.setAttribute(n,r)},KT=function(e,n){return Rr(e[n])?wK:NT(e[n])&&e.setAttribute?b8e:jT},bK=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},I8e=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},IK=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},JT=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},T8e=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},M8e=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?rx(this,n,"_pt"):n.dep||(r=1),n=i;return!r},B8e=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},TK=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},Fs=function(){function t(n,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||bK,this.d=l||this,this.set=c||jT,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=B8e,this.m=r,this.mt=s,this.tween=i},t}();ks(HT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return QT[t]=1});po.TweenMax=po.TweenLite=Wr;po.TimelineLite=po.TimelineMax=ws;fr=new ws({sortChildren:!1,defaults:am,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});so.stringFilter=AK;var od=[],J5={},R8e=[],oO=0,P8e=0,J7=function(e){return(J5[e]||R8e).map(function(n){return n()})},nw=function(){var e=Date.now(),n=[];e-oO>2&&(J7("matchMediaInit"),od.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Lo.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&n.push(r))}),J7("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r)}),oO=e,J7("matchMedia"))},MK=function(){function t(n,r){this.selector=r&&ZS(r),this.data=[],this._r=[],this.isReverted=!1,this.id=P8e++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){Rr(r)&&(s=i,i=r,r=Rr);var o=this,a=function(){var c=Tr,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=ZS(s)),Tr=o,f=i.apply(o,arguments),Rr(f)&&o._r.push(f),Tr=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Rr?a(o):r?o[r]=a:a},e.ignore=function(r){var i=Tr;Tr=null,r(this),Tr=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Wr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof Wr)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=od.length;a--;)od[a].id===this.id&&od.splice(a,1)},e.revert=function(r){this.kill(r||{})},t}(),D8e=function(){function t(n){this.contexts=[],this.scope=n}var e=t.prototype;return e.add=function(r,i,s){Nl(r)||(r={matches:r});var o=new MK(0,s||this.scope),a=o.conditions={},l,c,u;Tr&&!o.selector&&(o.selector=Tr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Lo.matchMedia(r[c]),l&&(od.indexOf(o)<0&&od.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(nw):l.addEventListener("change",nw)));return u&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),s4={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return pK(i)})},timeline:function(e){return new ws(e)},getTweensOf:function(e,n){return fr.getTweensOf(e,n)},getProperty:function(e,n,r,i){Ei(e)&&(e=jo(e)[0]);var s=rd(e||{}).get,o=r?tK:eK;return r==="native"&&(r=""),e&&(n?o((Js[n]&&Js[n].get||s)(e,n,r,i)):function(a,l,c){return o((Js[a]&&Js[a].get||s)(e,a,l,c))})},quickSetter:function(e,n,r){if(e=jo(e),e.length>1){var i=e.map(function(u){return Gs.quickSetter(u,n,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=Js[n],a=rd(e),l=a.harness&&(a.harness.aliases||{})[n]||n,c=o?function(u){var f=new o;l0._pt=0,f.init(e,r?u+r:u,l0,0,[e]),f.render(1,f),l0._pt&&JT(1,l0)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,n,r){var i,s=Gs.to(e,Cd((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(n,l,c,u)};return o.tween=s,o},isTweening:function(e){return fr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=sd(e.ease,am.ease)),tO(am,e||{})},config:function(e){return tO(so,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Js[a]&&!po[a]&&t4(n+" effect requires "+a+" plugin.")}),$7[n]=function(a,l,c){return r(jo(a),sa(l||{},s),c)},o&&(ws.prototype[n]=function(a,l,c){return this.add($7[n](a,Nl(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,n){cn[e]=sd(n)},parseEase:function(e,n){return arguments.length?sd(e,n):cn},getById:function(e){return fr.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new ws(e),i,s;for(r.smoothChildTiming=Ls(e.smoothChildTiming),fr.remove(r),r._dp=0,r._time=r._tTime=fr._time,i=fr._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Wr&&i.vars.onComplete===i._targets[0]))&&vl(r,i,i._start-i._delay),i=s;return vl(fr,r,0),r},context:function(e,n){return e?new MK(e,n):Tr},matchMedia:function(e){return new D8e(e)},matchMediaRefresh:function(){return od.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||nw()},addEventListener:function(e,n){var r=J5[e]||(J5[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=J5[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:f8e,wrapYoyo:h8e,distribute:lK,random:uK,snap:cK,normalize:u8e,getUnit:Vi,clamp:o8e,splitColor:mK,toArray:jo,selector:ZS,mapRange:hK,pipe:l8e,unitize:c8e,interpolate:d8e,shuffle:aK},install:Jj,effects:$7,ticker:qs,updateRoot:ws.updateRoot,plugins:Js,globalTimeline:fr,core:{PropTween:Fs,globals:Yj,Tween:Wr,Timeline:ws,Animation:t2,getCache:rd,_removeLinkedListItem:rx,reverting:function(){return Wi},context:function(e){return e&&Tr&&(Tr.data.push(e),e._ctx=Tr),Tr},suppressOverwrites:function(e){return OT=e}}};ks("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return s4[t]=Wr[t]});qs.add(ws.updateRoot);l0=s4.to({},{duration:0});var L8e=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},k8e=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=L8e(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},Y7=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Ei(s)&&(l={},ks(s,function(u){return l[u]=1}),s=l),n){l={};for(c in s)l[c]=n(s[c]);s=l}k8e(a,s)}}}},Gs=s4.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)Wi?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Y7("roundProps",ew),Y7("modifiers"),Y7("snap",cK))||s4;Wr.version=ws.version=Gs.version="3.12.2";Kj=1;UT()&&um();cn.Power0;cn.Power1;cn.Power2;cn.Power3;cn.Power4;cn.Linear;cn.Quad;cn.Cubic;cn.Quart;cn.Quint;cn.Strong;cn.Elastic;cn.Back;cn.SteppedEase;cn.Bounce;cn.Sine;cn.Expo;cn.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var aO,Xu,b0,YT,jh,lO,XT,F8e=function(){return typeof window<"u"},$c={},Rh=180/Math.PI,I0=Math.PI/180,Bp=Math.atan2,cO=1e8,qT=/([A-Z])/g,O8e=/(left|right|width|margin|padding|x)/i,N8e=/[\s,\(]\S/,El={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rw=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},U8e=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},G8e=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},z8e=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},BK=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},RK=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Q8e=function(e,n,r){return e.style[n]=r},H8e=function(e,n,r){return e.style.setProperty(n,r)},V8e=function(e,n,r){return e._gsap[n]=r},$8e=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},W8e=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},j8e=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},gr="transform",Pa=gr+"Origin",K8e=function t(e,n){var r=this,i=this.target,s=i.style;if(e in $c&&s){if(this.tfm=this.tfm||{},e!=="transform")e=El[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=gc(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:gc(i,e);else return El.transform.split(",").forEach(function(o){return t.call(r,o,n)});if(this.props.indexOf(gr)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Pa,n,"")),e=gr}(s||n)&&this.props.push(e,n,s[e])},PK=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},J8e=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(qT,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=XT(),(!s||!s.isStart)&&!r[gr]&&(PK(r),i.uncache=1)}},DK=function(e,n){var r={target:e,props:[],revert:J8e,save:K8e};return e._gsap||Gs.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},LK,iw=function(e,n){var r=Xu.createElementNS?Xu.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Xu.createElement(e);return r.style?r:Xu.createElement(e)},Dl=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(qT,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,fm(n)||n,1)||""},uO="O,Moz,ms,Ms,Webkit".split(","),fm=function(e,n,r){var i=n||jh,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(uO[o]+e in s););return o<0?null:(o===3?"ms":o>=0?uO[o]:"")+e},sw=function(){F8e()&&window.document&&(aO=window,Xu=aO.document,b0=Xu.documentElement,jh=iw("div")||{style:{}},iw("div"),gr=fm(gr),Pa=gr+"Origin",jh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",LK=!!fm("perspective"),XT=Gs.core.reverting,YT=1)},X7=function t(e){var n=iw("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(b0.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),b0.removeChild(n),this.style.cssText=s,o},fO=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},kK=function(e){var n;try{n=e.getBBox()}catch{n=X7.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===X7||(n=X7.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+fO(e,["x","cx","x1"])||0,y:+fO(e,["y","cy","y1"])||0,width:0,height:0}:n},FK=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&kK(e))},n2=function(e,n){if(n){var r=e.style;n in $c&&n!==Pa&&(n=gr),r.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(n.replace(qT,"-$1").toLowerCase())):r.removeAttribute(n)}},qu=function(e,n,r,i,s,o){var a=new Fs(e._pt,n,r,0,1,o?RK:BK);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},hO={deg:1,rad:1,turn:1},Y8e={grid:1,flex:1},Df=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=jh.style,l=O8e.test(n),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,h=i==="px",d=i==="%",m,A,v,y;return i===o||!s||hO[i]||hO[o]?s:(o!=="px"&&!h&&(s=t(e,n,r,"px")),y=e.getCTM&&FK(e),(d||o==="%")&&($c[n]||~n.indexOf("adius"))?(m=y?e.getBBox()[l?"width":"height"]:e[u],Fr(d?s/m*f:s/100*m)):(a[l?"width":"height"]=f+(h?o:i),A=~n.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(A=(e.ownerSVGElement||{}).parentNode),(!A||A===Xu||!A.appendChild)&&(A=Xu.body),v=A._gsap,v&&d&&v.width&&l&&v.time===qs.time&&!v.uncache?Fr(s/v.width*f):((d||o==="%")&&!Y8e[Dl(A,"display")]&&(a.position=Dl(e,"position")),A===e&&(a.position="static"),A.appendChild(jh),m=jh[u],A.removeChild(jh),a.position="absolute",l&&d&&(v=rd(A),v.time=qs.time,v.width=A[u]),Fr(h?m*s/f:m&&s?f/m*s:0))))},gc=function(e,n,r,i){var s;return YT||sw(),n in El&&n!=="transform"&&(n=El[n],~n.indexOf(",")&&(n=n.split(",")[0])),$c[n]&&n!=="transform"?(s=i2(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:a4(Dl(e,Pa))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=o4[n]&&o4[n](e,n,r)||Dl(e,n)||qj(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Df(e,n,s,r)+r:s},X8e=function(e,n,r,i){if(!r||r==="none"){var s=fm(n,e,1),o=s&&Dl(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=Dl(e,"borderTopColor"))}var a=new Fs(this._pt,e.style,n,0,1,IK),l=0,c=0,u,f,h,d,m,A,v,y,_,x,E,b;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[n]=i,i=Dl(e,n)||i,e.style[n]=r),u=[r,i],AK(u),r=u[0],i=u[1],h=r.match(a0)||[],b=i.match(a0)||[],b.length){for(;f=a0.exec(i);)v=f[0],_=i.substring(l,f.index),m?m=(m+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(m=1),v!==(A=h[c++]||"")&&(d=parseFloat(A)||0,E=A.substr((d+"").length),v.charAt(1)==="="&&(v=w0(d,v)+E),y=parseFloat(v),x=v.substr((y+"").length),l=a0.lastIndex-x.length,x||(x=x||so.units[n]||E,l===i.length&&(i+=x,a.e+=x)),E!==x&&(d=Df(e,n,A,x)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:d,c:y-d,m:m&&m<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?RK:BK;return Wj.test(i)&&(a.e=0),this._pt=a,a},dO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},q8e=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=dO[r]||r,n[1]=dO[i]||i,n.join(" ")},Z8e=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],$c[a]&&(l=1,a=a==="transformOrigin"?Pa:gr),n2(r,a);l&&(n2(r,gr),o&&(o.svg&&r.removeAttribute("transform"),i2(r,1),o.uncache=1,PK(i)))}},o4={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Fs(e._pt,n,r,0,0,Z8e);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},r2=[1,0,0,1,0,0],OK={},NK=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},pO=function(e){var n=Dl(e,gr);return NK(n)?r2:n.substr(7).match($j).map(Fr)},ZT=function(e,n){var r=e._gsap||rd(e),i=e.style,s=pO(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?r2:s):(s===r2&&!e.offsetParent&&e!==b0&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,b0.appendChild(e)),s=pO(e),l?i.display=l:n2(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):b0.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},ow=function(e,n,r,i,s,o){var a=e._gsap,l=s||ZT(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,d=l[0],m=l[1],A=l[2],v=l[3],y=l[4],_=l[5],x=n.split(" "),E=parseFloat(x[0])||0,b=parseFloat(x[1])||0,w,T,C,I;r?l!==r2&&(T=d*v-m*A)&&(C=E*(v/T)+b*(-A/T)+(A*_-v*y)/T,I=E*(-m/T)+b*(d/T)-(d*_-m*y)/T,E=C,b=I):(w=kK(e),E=w.x+(~x[0].indexOf("%")?E/100*w.width:E),b=w.y+(~(x[1]||x[0]).indexOf("%")?b/100*w.height:b)),i||i!==!1&&a.smooth?(y=E-c,_=b-u,a.xOffset=f+(y*d+_*A)-y,a.yOffset=h+(y*m+_*v)-_):a.xOffset=a.yOffset=0,a.xOrigin=E,a.yOrigin=b,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[Pa]="0px 0px",o&&(qu(o,a,"xOrigin",c,E),qu(o,a,"yOrigin",u,b),qu(o,a,"xOffset",f,a.xOffset),qu(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",E+" "+b)},i2=function(e,n){var r=e._gsap||new _K(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Dl(e,Pa)||"0",u,f,h,d,m,A,v,y,_,x,E,b,w,T,C,I,B,R,L,z,O,G,j,J,N,V,Q,Z,re,ge,Ee,be;return u=f=h=A=v=y=_=x=E=0,d=m=1,r.svg=!!(e.getCTM&&FK(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[gr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[gr]!=="none"?l[gr]:"")),i.scale=i.rotate=i.translate="none"),T=ZT(e,r.svg),r.svg&&(r.uncache?(N=e.getBBox(),c=r.xOrigin-N.x+"px "+(r.yOrigin-N.y)+"px",J=""):J=!n&&e.getAttribute("data-svg-origin"),ow(e,J||c,!!J||r.originIsAbsolute,r.smooth!==!1,T)),b=r.xOrigin||0,w=r.yOrigin||0,T!==r2&&(R=T[0],L=T[1],z=T[2],O=T[3],u=G=T[4],f=j=T[5],T.length===6?(d=Math.sqrt(R*R+L*L),m=Math.sqrt(O*O+z*z),A=R||L?Bp(L,R)*Rh:0,_=z||O?Bp(z,O)*Rh+A:0,_&&(m*=Math.abs(Math.cos(_*I0))),r.svg&&(u-=b-(b*R+w*z),f-=w-(b*L+w*O))):(be=T[6],ge=T[7],Q=T[8],Z=T[9],re=T[10],Ee=T[11],u=T[12],f=T[13],h=T[14],C=Bp(be,re),v=C*Rh,C&&(I=Math.cos(-C),B=Math.sin(-C),J=G*I+Q*B,N=j*I+Z*B,V=be*I+re*B,Q=G*-B+Q*I,Z=j*-B+Z*I,re=be*-B+re*I,Ee=ge*-B+Ee*I,G=J,j=N,be=V),C=Bp(-z,re),y=C*Rh,C&&(I=Math.cos(-C),B=Math.sin(-C),J=R*I-Q*B,N=L*I-Z*B,V=z*I-re*B,Ee=O*B+Ee*I,R=J,L=N,z=V),C=Bp(L,R),A=C*Rh,C&&(I=Math.cos(C),B=Math.sin(C),J=R*I+L*B,N=G*I+j*B,L=L*I-R*B,j=j*I-G*B,R=J,G=N),v&&Math.abs(v)+Math.abs(A)>359.9&&(v=A=0,y=180-y),d=Fr(Math.sqrt(R*R+L*L+z*z)),m=Fr(Math.sqrt(j*j+be*be)),C=Bp(G,j),_=Math.abs(C)>2e-4?C*Rh:0,E=Ee?1/(Ee<0?-Ee:Ee):0),r.svg&&(J=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!NK(Dl(e,gr)),J&&e.setAttribute("transform",J))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(d*=-1,_+=A<=0?180:-180,A+=A<=0?180:-180):(m*=-1,_+=_<=0?180:-180)),n=n||r.uncache,r.x=u-((r.xPercent=u&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=Fr(d),r.scaleY=Fr(m),r.rotation=Fr(A)+a,r.rotationX=Fr(v)+a,r.rotationY=Fr(y)+a,r.skewX=_+a,r.skewY=x+a,r.transformPerspective=E+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[Pa]=a4(c)),r.xOffset=r.yOffset=0,r.force3D=so.force3D,r.renderTransform=r.svg?txe:LK?UK:exe,r.uncache=0,r},a4=function(e){return(e=e.split(" "))[0]+" "+e[1]},q7=function(e,n,r){var i=Vi(n);return Fr(parseFloat(n)+parseFloat(Df(e,"x",r+"px",i)))+i},exe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,UK(e,n)},_h="0deg",$g="0px",Eh=") ",UK=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,h=r.skewX,d=r.skewY,m=r.scaleX,A=r.scaleY,v=r.transformPerspective,y=r.force3D,_=r.target,x=r.zOrigin,E="",b=y==="auto"&&e&&e!==1||y===!0;if(x&&(f!==_h||u!==_h)){var w=parseFloat(u)*I0,T=Math.sin(w),C=Math.cos(w),I;w=parseFloat(f)*I0,I=Math.cos(w),o=q7(_,o,T*I*-x),a=q7(_,a,-Math.sin(w)*-x),l=q7(_,l,C*I*-x+x)}v!==$g&&(E+="perspective("+v+Eh),(i||s)&&(E+="translate("+i+"%, "+s+"%) "),(b||o!==$g||a!==$g||l!==$g)&&(E+=l!==$g||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Eh),c!==_h&&(E+="rotate("+c+Eh),u!==_h&&(E+="rotateY("+u+Eh),f!==_h&&(E+="rotateX("+f+Eh),(h!==_h||d!==_h)&&(E+="skew("+h+", "+d+Eh),(m!==1||A!==1)&&(E+="scale("+m+", "+A+Eh),_.style[gr]=E||"translate(0, 0)"},txe=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,h=r.scaleY,d=r.target,m=r.xOrigin,A=r.yOrigin,v=r.xOffset,y=r.yOffset,_=r.forceCSS,x=parseFloat(o),E=parseFloat(a),b,w,T,C,I;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=I0,c*=I0,b=Math.cos(l)*f,w=Math.sin(l)*f,T=Math.sin(l-c)*-h,C=Math.cos(l-c)*h,c&&(u*=I0,I=Math.tan(c-u),I=Math.sqrt(1+I*I),T*=I,C*=I,u&&(I=Math.tan(u),I=Math.sqrt(1+I*I),b*=I,w*=I)),b=Fr(b),w=Fr(w),T=Fr(T),C=Fr(C)):(b=f,C=h,w=T=0),(x&&!~(o+"").indexOf("px")||E&&!~(a+"").indexOf("px"))&&(x=Df(d,"x",o,"px"),E=Df(d,"y",a,"px")),(m||A||v||y)&&(x=Fr(x+m-(m*b+A*T)+v),E=Fr(E+A-(m*w+A*C)+y)),(i||s)&&(I=d.getBBox(),x=Fr(x+i/100*I.width),E=Fr(E+s/100*I.height)),I="matrix("+b+","+w+","+T+","+C+","+x+","+E+")",d.setAttribute("transform",I),_&&(d.style[gr]=I)},nxe=function(e,n,r,i,s){var o=360,a=Ei(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Rh:1),c=l-i,u=i+c+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*cO)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*cO)%o-~~(c/o)*o)),e._pt=h=new Fs(e._pt,n,r,i,c,U8e),h.e=u,h.u="deg",e._props.push(r),h},mO=function(e,n){for(var r in n)e[r]=n[r];return e},rxe=function(e,n,r){var i=mO({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,h,d,m;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[gr]=n,a=i2(r,1),n2(r,gr),r.setAttribute("transform",c)):(c=getComputedStyle(r)[gr],o[gr]=n,a=i2(r,1),o[gr]=c);for(l in $c)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(d=Vi(c),m=Vi(u),f=d!==m?Df(r,l,c,m):parseFloat(c),h=parseFloat(u),e._pt=new Fs(e._pt,a,l,f,h-f,rw),e._pt.u=m||0,e._props.push(l));mO(a,i)};ks("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});o4[e>1?"border"+t:t]=function(a,l,c,u,f){var h,d;if(arguments.length<4)return h=o.map(function(m){return gc(a,m,c)}),d=h.join(" "),d.split(h[0]).length===5?h[0]:d;h=(u+"").split(" "),d={},o.forEach(function(m,A){return d[m]=h[A]=h[A]||h[(A-1)/2|0]}),a.init(l,d,f)}});var GK={name:"css",register:sw,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,h,d,m,A,v,y,_,x,E,b,w,T,C;YT||sw(),this.styles=this.styles||DK(e),C=this.styles.props,this.tween=r;for(A in n)if(A!=="autoRound"&&(u=n[A],!(Js[A]&&EK(A,n,r,i,e,s)))){if(d=typeof u,m=o4[A],d==="function"&&(u=u.call(r,i,e,s),d=typeof u),d==="string"&&~u.indexOf("random(")&&(u=Z1(u)),m)m(this,e,A,u,r)&&(T=1);else if(A.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(A)+"").trim(),u+="",gf.lastIndex=0,gf.test(c)||(v=Vi(c),y=Vi(u)),y?v!==y&&(c=Df(e,A,c,y)+y):v&&(u+=v),this.add(a,"setProperty",c,u,i,s,0,0,A),o.push(A),C.push(A,0,a[A]);else if(d!=="undefined"){if(l&&A in l?(c=typeof l[A]=="function"?l[A].call(r,i,e,s):l[A],Ei(c)&&~c.indexOf("random(")&&(c=Z1(c)),Vi(c+"")||(c+=so.units[A]||Vi(gc(e,A))||""),(c+"").charAt(1)==="="&&(c=gc(e,A))):c=gc(e,A),h=parseFloat(c),_=d==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),f=parseFloat(u),A in El&&(A==="autoAlpha"&&(h===1&&gc(e,"visibility")==="hidden"&&f&&(h=0),C.push("visibility",0,a.visibility),qu(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),A!=="scale"&&A!=="transform"&&(A=El[A],~A.indexOf(",")&&(A=A.split(",")[0]))),x=A in $c,x){if(this.styles.save(A),E||(b=e._gsap,b.renderTransform&&!n.parseTransform||i2(e,n.parseTransform),w=n.smoothOrigin!==!1&&b.smooth,E=this._pt=new Fs(this._pt,a,gr,0,1,b.renderTransform,b,0,-1),E.dep=1),A==="scale")this._pt=new Fs(this._pt,b,"scaleY",b.scaleY,(_?w0(b.scaleY,_+f):f)-b.scaleY||0,rw),this._pt.u=0,o.push("scaleY",A),A+="X";else if(A==="transformOrigin"){C.push(Pa,0,a[Pa]),u=q8e(u),b.svg?ow(e,u,0,w,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==b.zOrigin&&qu(this,b,"zOrigin",b.zOrigin,y),qu(this,a,A,a4(c),a4(u)));continue}else if(A==="svgOrigin"){ow(e,u,1,w,0,this);continue}else if(A in OK){nxe(this,b,A,h,_?w0(h,_+u):u);continue}else if(A==="smoothOrigin"){qu(this,b,"smooth",b.smooth,u);continue}else if(A==="force3D"){b[A]=u;continue}else if(A==="transform"){rxe(this,u,e);continue}}else A in a||(A=fm(A)||A);if(x||(f||f===0)&&(h||h===0)&&!N8e.test(u)&&A in a)v=(c+"").substr((h+"").length),f||(f=0),y=Vi(u)||(A in so.units?so.units[A]:v),v!==y&&(h=Df(e,A,c,y)),this._pt=new Fs(this._pt,x?b:a,A,h,(_?w0(h,_+f):f)-h,!x&&(y==="px"||A==="zIndex")&&n.autoRound!==!1?z8e:rw),this._pt.u=y||0,v!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=G8e);else if(A in a)X8e.call(this,e,A,c,_?_+u:u);else if(A in e)this.add(e,A,c||e[A],_?_+u:u,i,s);else if(A!=="parseTransform"){zT(A,u);continue}x||(A in a?C.push(A,0,a[A]):C.push(A,1,c||e[A])),o.push(A)}}T&&TK(this)},render:function(e,n){if(n.tween._time||!XT())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:gc,aliases:El,getSetter:function(e,n,r){var i=El[n];return i&&i.indexOf(",")<0&&(n=i),n in $c&&n!==Pa&&(e._gsap.x||gc(e,"x"))?r&&lO===r?n==="scale"?$8e:V8e:(lO=r||{})&&(n==="scale"?W8e:j8e):e.style&&!NT(e.style[n])?Q8e:~n.indexOf("-")?H8e:KT(e,n)},core:{_removeProperty:n2,_getMatrix:ZT}};Gs.utils.checkPrefix=fm;Gs.core.getStyleSaver=DK;(function(t,e,n,r){var i=ks(t+","+e+","+n,function(s){$c[s]=1});ks(e,function(s){so.units[s]="deg",OK[s]=1}),El[i[13]]=t+","+e,ks(r,function(s){var o=s.split(":");El[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ks("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){so.units[t]="px"});Gs.registerPlugin(GK);var zK=Gs.registerPlugin(GK)||Gs;zK.core.Tween;function ixe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function QK(...t){return e=>t.forEach(n=>ixe(n,e))}function zm(...t){return D.useCallback(QK(...t),t)}const HK=D.forwardRef((t,e)=>{const{children:n,...r}=t,i=D.Children.toArray(n),s=i.find(sxe);if(s){const o=s.props.children,a=i.map(l=>l===s?D.Children.count(o)>1?D.Children.only(null):D.isValidElement(o)?o.props.children:null:l);return D.createElement(aw,_r({},r,{ref:e}),D.isValidElement(o)?D.cloneElement(o,void 0,a):null)}return D.createElement(aw,_r({},r,{ref:e}),n)});HK.displayName="Slot";const aw=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.isValidElement(n)?D.cloneElement(n,{...oxe(r,n.props),ref:e?QK(e,n.ref):n.ref}):D.Children.count(n)>1?D.Children.only(null):null});aw.displayName="SlotClone";const VK=({children:t})=>D.createElement(D.Fragment,null,t);function sxe(t){return D.isValidElement(t)&&t.type===VK}function oxe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const axe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zd=axe.reduce((t,e)=>{const n=D.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?HK:e;return D.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),D.createElement(a,_r({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lxe(t,e){t&&wm.flushSync(()=>t.dispatchEvent(e))}const cxe=D.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?lH.createPortal(D.createElement(zd.div,_r({},i,{ref:e})),r):null}),uxe=cxe;var gO=Object.prototype.hasOwnProperty;function s2(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&s2(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(gO.call(t,n)&&++r&&!gO.call(e,n)||!(n in e)||!s2(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var ox=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};ox.prototype._test=function(e){var n=this.fn;try{T0(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return T0(this.modifiers.slice(),n,this)(e)}catch{return!1}};ox.prototype._check=function(e){try{T0(this.modifiers.slice(),this.fn,this)(e)}catch{if(T0(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!T0(this.modifiers.slice(),this.fn,this)(e))throw null};ox.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){WK(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function $K(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function T0(t,e,n){if(t.length){var r=t.shift(),i=T0(t,e,n);return r.perform(i,n)}else return $K(e)}function WK(t,e,n){if(t.length){var r=t.shift(),i=WK(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve($K(e,"async")(s))}}var fxe=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},eM=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Ul=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};Ul.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new ox(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Ul.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new fxe(n,e.simple,e.async)),this};Ul.prototype._clone=function(){return new Ul(this.chain.slice(),this.nextRuleModifiers.slice())};Ul.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};Ul.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new eM(r,e,i))}}),n};Ul.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new eM(n,e,r)}})};Ul.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){jK(e,n.chain.slice(),r,i)})};function jK(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){jK(t,e,n,r)},function(s){r(new eM(i,t,s))})}else n(t)}var AO=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function hxe(t,e){return e===void 0&&(e=!1),{simple:function(n){return AO(n,e)||t.check(n)===void 0},async:function(n){return AO(n,e)||t.testAsync(n)}}}function Is(){return typeof Proxy<"u"?KK(new Ul):lw(new Ul)}var o2={};Is.extend=function(t){Object.assign(o2,t)};Is.clearCustomRules=function(){o2={}};function KK(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=KK(t._clone());if(r in l4)return i._applyModifier(l4[r],r);if(r in o2)return i._applyRule(o2[r],r);if(r in cw)return i._applyRule(cw[r],r)}})}function lw(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=lw(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},n=e(cw,t),r=e(o2,n);return Object.keys(l4).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=lw(r._clone());return s._applyModifier(l4[i],i)}})}),r}var l4={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Zy(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Zy(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Zy(e).every(t)}},async:function(t){return function(e){return Promise.all(Zy(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return vO(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return vO(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function vO(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Zy(t){return typeof t=="string"?t.split(""):t}var cw={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||dxe;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Rp("string")},boolean:function(){return Rp("boolean")},undefined:function(){return Rp("undefined")},null:function(){return Rp("null")},array:function(){return Rp("array")},object:function(){return Rp("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return pxe(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:hxe};function Rp(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function dxe(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function pxe(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var Pn="colors",ss="sizes",ft="space",mxe={gap:ft,gridGap:ft,columnGap:ft,gridColumnGap:ft,rowGap:ft,gridRowGap:ft,inset:ft,insetBlock:ft,insetBlockEnd:ft,insetBlockStart:ft,insetInline:ft,insetInlineEnd:ft,insetInlineStart:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,marginBlock:ft,marginBlockEnd:ft,marginBlockStart:ft,marginInline:ft,marginInlineEnd:ft,marginInlineStart:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,paddingBlock:ft,paddingBlockEnd:ft,paddingBlockStart:ft,paddingInline:ft,paddingInlineEnd:ft,paddingInlineStart:ft,top:ft,right:ft,bottom:ft,left:ft,scrollMargin:ft,scrollMarginTop:ft,scrollMarginRight:ft,scrollMarginBottom:ft,scrollMarginLeft:ft,scrollMarginX:ft,scrollMarginY:ft,scrollMarginBlock:ft,scrollMarginBlockEnd:ft,scrollMarginBlockStart:ft,scrollMarginInline:ft,scrollMarginInlineEnd:ft,scrollMarginInlineStart:ft,scrollPadding:ft,scrollPaddingTop:ft,scrollPaddingRight:ft,scrollPaddingBottom:ft,scrollPaddingLeft:ft,scrollPaddingX:ft,scrollPaddingY:ft,scrollPaddingBlock:ft,scrollPaddingBlockEnd:ft,scrollPaddingBlockStart:ft,scrollPaddingInline:ft,scrollPaddingInlineEnd:ft,scrollPaddingInlineStart:ft,fontSize:"fontSizes",background:Pn,backgroundColor:Pn,backgroundImage:Pn,borderImage:Pn,border:Pn,borderBlock:Pn,borderBlockEnd:Pn,borderBlockStart:Pn,borderBottom:Pn,borderBottomColor:Pn,borderColor:Pn,borderInline:Pn,borderInlineEnd:Pn,borderInlineStart:Pn,borderLeft:Pn,borderLeftColor:Pn,borderRight:Pn,borderRightColor:Pn,borderTop:Pn,borderTopColor:Pn,caretColor:Pn,color:Pn,columnRuleColor:Pn,fill:Pn,outline:Pn,outlineColor:Pn,stroke:Pn,textDecorationColor:Pn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ss,minBlockSize:ss,maxBlockSize:ss,inlineSize:ss,minInlineSize:ss,maxInlineSize:ss,width:ss,minWidth:ss,maxWidth:ss,height:ss,minHeight:ss,maxHeight:ss,flexBasis:ss,gridTemplateColumns:ss,gridTemplateRows:ss,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},gxe=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Qm=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,gxe))(e);return i in t?t[i]:t[i]=n(e,...r)}},ad=Symbol.for("sxs.internal"),tM=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),yO=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Axe}=Object.prototype,uw=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),vxe=/\s+(?![^()]*\))/,Pp=t=>e=>t(...typeof e=="string"?String(e).split(vxe):[e]),xO={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Pp((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Pp((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Pp((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Pp((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Pp((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Pp((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},Z7=/([\d.]+)([^]*)/,yxe=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,xxe=(t,e)=>t in _xe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${uw(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${uw(t)}:${r}fit-content`)+s):String(e),_xe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Wc=t=>t?t+"-":"",JK=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Wc(e)+(a.includes("$")?"":Wc(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Exe=/\s*,\s*(?![^()]*\))/,Cxe=Object.prototype.toString,c0=(t,e,n,r,i)=>{let s,o,a;const l=(c,u,f)=>{let h,d;const m=A=>{for(h in A){const _=h.charCodeAt(0)===64,x=_&&Array.isArray(A[h])?A[h]:[A[h]];for(d of x){const E=/[A-Z]/.test(y=h)?y:y.replace(/-[^]/g,w=>w[1].toUpperCase()),b=typeof d=="object"&&d&&d.toString===Cxe&&(!r.utils[E]||!u.length);if(E in r.utils&&!b){const w=r.utils[E];if(w!==o){o=w,m(w(d)),o=null;continue}}else if(E in xO){const w=xO[E];if(w!==a){a=w,m(w(d)),a=null;continue}}if(_&&(v=h.slice(1)in r.media?"@media "+r.media[h.slice(1)]:h,h=v.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(w,T,C,I,B,R)=>{const L=Z7.test(T),z=.0625*(L?-1:1),[O,G]=L?[I,T]:[T,I];return"("+(C[0]==="="?"":C[0]===">"===L?"max-":"min-")+O+":"+(C[0]!=="="&&C.length===1?G.replace(Z7,(j,J,N)=>Number(J)+z*(C===">"?1:-1)+N):G)+(B?") and ("+(B[0]===">"?"min-":"max-")+O+":"+(B.length===1?R.replace(Z7,(j,J,N)=>Number(J)+z*(B===">"?-1:1)+N):R):"")+")"})),b){const w=_?f.concat(h):[...f],T=_?[...u]:yxe(u,h.split(Exe));s!==void 0&&i(_O(...s)),s=void 0,l(d,T,w)}else s===void 0&&(s=[[],u,f]),h=_||h.charCodeAt(0)!==36?h:`--${Wc(r.prefix)}${h.slice(1).replace(/\$/g,"-")}`,d=b?d:typeof d=="number"?d&&E in Sxe?String(d)+"px":String(d):JK(xxe(E,d??""),r.prefix,r.themeMap[E]),s[0].push(`${_?`${h} `:`${uw(h)}:`}${d}`)}}var v,y};m(c),s!==void 0&&i(_O(...s)),s=void 0};l(t,e,n)},_O=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,Sxe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},EO=t=>String.fromCharCode(t+(t>25?39:97)),ld=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=EO(n%52)+r;return EO(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),A3=["themed","global","styled","onevar","resonevar","allvar","inline"],wxe=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},bxe=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(t).styleSheets||[];for(const a of i)if(wxe(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:h}=u;if(!h.startsWith("--sxs"))continue;const d=h.slice(14,-3).trim().split(/\s+/),m=A3[d[0]];m&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[m]={group:f,index:l,cache:new Set(d)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=A3.length-1;a>=0;--a){const l=A3[a];if(!o[l]){const c=A3[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}Ixe(o[l])}};return r(),e},Ixe=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Wg=Symbol(),Txe=Qm(),CO=(t,e)=>Txe(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[ad]){r.type==null&&(r.type=i[ad].type);for(const s of i[ad].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Mxe(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Bxe(t,r,e)}),Mxe=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${Wc(i.prefix)}c-${ld(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const h in n)l[h]=String(n[h]);if(typeof t=="object"&&t)for(const h in t){u=l,f=h,Axe.call(u,f)||(l[h]="undefined");const d=t[h];for(const m in d){const A={[h]:String(m)};String(m)==="undefined"&&c.push(h);const v=d[m],y=[A,v,!yO(v)];o.push(y)}}var u,f;if(typeof e=="object"&&e)for(const h of e){let{css:d,...m}=h;d=typeof d=="object"&&d||{};for(const v in m)m[v]=String(m[v]);const A=[m,d,!yO(d)];a.push(A)}return[s,r,o,a,l,c]},Bxe=(t,e,n)=>{const[r,i,s,o]=Rxe(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function h(){for(let d=0;d<h[Wg].length;d++){const[m,A]=h[Wg][d];f.rules[m].apply(A)}return h[Wg]=[],null}return h[Wg]=[],h.rules={},A3.forEach(d=>h.rules[d]={apply:m=>h[Wg].push([d,m])}),h})(n):null,l=(a||n).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||Pxe;const{css:h,...d}=f,m={};for(const y in s)if(delete d[y],y in f){let _=f[y];typeof _=="object"&&_?m[y]={"@initial":s[y],..._}:(_=String(_),m[y]=_!=="undefined"||o.has(y)?_:s[y])}else m[y]=s[y];const A=new Set([...i]);for(const[y,_,x,E]of e.composers){n.rules.styled.cache.has(y)||(n.rules.styled.cache.add(y),c0(_,[`.${y}`],[],t,T=>{l.styled.apply(T)}));const b=SO(x,m,t.media),w=SO(E,m,t.media,!0);for(const T of b)if(T!==void 0)for(const[C,I,B]of T){const R=`${y}-${ld(I)}-${C}`;A.add(R);const L=(B?n.rules.resonevar:n.rules.onevar).cache,z=B?l.resonevar:l.onevar;L.has(R)||(L.add(R),c0(I,[`.${R}`],[],t,O=>{z.apply(O)}))}for(const T of w)if(T!==void 0)for(const[C,I]of T){const B=`${y}-${ld(I)}-${C}`;A.add(B),n.rules.allvar.cache.has(B)||(n.rules.allvar.cache.add(B),c0(I,[`.${B}`],[],t,R=>{l.allvar.apply(R)}))}}if(typeof h=="object"&&h){const y=`${r}-i${ld(h)}-css`;A.add(y),n.rules.inline.cache.has(y)||(n.rules.inline.cache.add(y),c0(h,[`.${y}`],[],t,_=>{l.inline.apply(_)}))}for(const y of String(f.className||"").trim().split(/\s+/))y&&A.add(y);const v=d.className=[...A].join(" ");return{type:e.type,className:v,selector:c,props:d,toString:()=>v,deferredInjector:a}};return tM(u,{className:r,selector:c,[ad]:e,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},Rxe=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,n,r,new Set(i)]},SO=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let h=e[l];if(h!==f){if(typeof h!="object"||!h)continue e;{let d,m,A=0;for(const v in h){if(f===String(h[v])){if(v!=="@initial"){const y=v.slice(1);(m=m||[]).push(y in n?n[y]:v.replace(/^@media ?/,"")),u=!0}c+=A,d=!0}++A}if(m&&m.length&&(o={["@media "+m.join(", ")]:o}),!d)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},Pxe={},Dxe=Qm(),Lxe=(t,e)=>Dxe(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=ld(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}c0(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return tM(r,{toString:r})}),kxe=Qm(),Fxe=(t,e)=>kxe(t,()=>n=>{const r=`${Wc(t.prefix)}k-${ld(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];c0(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return tM(i,{get name(){return i()},toString:i})}),Oxe=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Wc(this.prefix)+Wc(this.scale)+this.token}toString(){return this.computedValue}},Nxe=Qm(),Uxe=(t,e)=>Nxe(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${Wc(t.prefix)}t-${ld(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Wc(t.prefix)}${l}-${c}`,f=JK(String(r[l][c]),t.prefix,l);s[l][c]=new Oxe(c,f,l,t.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),Gxe=Qm(),zxe=Qm(),Qxe=t=>{const e=(n=>{let r=!1;const i=Gxe(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...mxe},utils:typeof s.utils=="object"&&s.utils||{}},f=bxe(l),h={css:CO(u,f),globalCss:Lxe(u,f),keyframes:Fxe(u,f),createTheme:Uxe(u,f),reset(){f.reset(),h.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(h.theme=h.createTheme(c)),h});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>zxe(n,()=>{const i=CO(n,r);return(...s)=>{const o=i(...s),a=o[ad].type,l=se.forwardRef((c,u)=>{const f=c&&c.as||a,{props:h,deferredInjector:d}=o(c);return delete h.as,h.ref=u,d?se.createElement(se.Fragment,null,se.createElement(f,h),se.createElement(d,null)):se.createElement(f,h)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[ad]=o[ad],l}}))(e),e};function Ac(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function YK(t,e=[]){let n=[];function r(s,o){const a=D.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:d,...m}=f,A=(h==null?void 0:h[t][l])||a,v=D.useMemo(()=>m,Object.values(m));return D.createElement(A.Provider,{value:v},d)}function u(f,h){const d=(h==null?void 0:h[t][l])||a,m=D.useContext(d);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>D.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return D.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Hxe(i,...e)]}function Hxe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hm(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Vxe(t,e=globalThis==null?void 0:globalThis.document){const n=Hm(t);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const fw="dismissableLayer.update",$xe="dismissableLayer.pointerDownOutside",Wxe="dismissableLayer.focusOutside";let wO;const jxe=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kxe=D.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=D.useContext(jxe),[f,h]=D.useState(null),d=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=D.useState({}),A=zm(e,C=>h(C)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(y),x=f?v.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,b=x>=_,w=Jxe(C=>{const I=C.target,B=[...u.branches].some(R=>R.contains(I));!b||B||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},d),T=Yxe(C=>{const I=C.target;[...u.branches].some(R=>R.contains(I))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},d);return Vxe(C=>{x===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},d),D.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wO=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),bO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=wO)}},[f,d,r,u]),D.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),bO())},[f,u]),D.useEffect(()=>{const C=()=>m({});return document.addEventListener(fw,C),()=>document.removeEventListener(fw,C)},[]),D.createElement(zd.div,_r({},c,{ref:A,style:{pointerEvents:E?b?"auto":"none":void 0,...t.style},onFocusCapture:Ac(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Ac(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ac(t.onPointerDownCapture,w.onPointerDownCapture)}))});function Jxe(t,e=globalThis==null?void 0:globalThis.document){const n=Hm(t),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){XK($xe,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Yxe(t,e=globalThis==null?void 0:globalThis.document){const n=Hm(t),r=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!r.current&&XK(Wxe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bO(){const t=new CustomEvent(fw);document.dispatchEvent(t)}function XK(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lxe(i,s):i.dispatchEvent(s)}const hm=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},Xxe=o6["useId".toString()]||(()=>{});let qxe=0;function Zxe(t){const[e,n]=D.useState(Xxe());return hm(()=>{t||n(r=>r??String(qxe++))},[t]),t||(e?`radix-${e}`:"")}const e_e=["top","right","bottom","left"],Lf=Math.min,Ys=Math.max,c4=Math.round,e5=Math.floor,kf=t=>({x:t,y:t}),t_e={left:"right",right:"left",bottom:"top",top:"bottom"},n_e={start:"end",end:"start"};function hw(t,e,n){return Ys(t,Lf(e,n))}function jc(t,e){return typeof t=="function"?t(e):t}function Kc(t){return t.split("-")[0]}function Vm(t){return t.split("-")[1]}function nM(t){return t==="x"?"y":"x"}function rM(t){return t==="y"?"height":"width"}function $m(t){return["top","bottom"].includes(Kc(t))?"y":"x"}function iM(t){return nM($m(t))}function r_e(t,e,n){n===void 0&&(n=!1);const r=Vm(t),i=iM(t),s=rM(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=u4(o)),[o,u4(o)]}function i_e(t){const e=u4(t);return[dw(t),e,dw(e)]}function dw(t){return t.replace(/start|end/g,e=>n_e[e])}function s_e(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function o_e(t,e,n,r){const i=Vm(t);let s=s_e(Kc(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(dw)))),s}function u4(t){return t.replace(/left|right|bottom|top/g,e=>t_e[e])}function a_e(t){return{top:0,right:0,bottom:0,left:0,...t}}function qK(t){return typeof t!="number"?a_e(t):{top:t,right:t,bottom:t,left:t}}function f4(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function IO(t,e,n){let{reference:r,floating:i}=t;const s=$m(e),o=iM(e),a=rM(o),l=Kc(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(Vm(e)){case"start":d[o]-=h*(n&&c?-1:1);break;case"end":d[o]+=h*(n&&c?-1:1);break}return d}const l_e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=IO(c,r,l),h=r,d={},m=0;for(let A=0;A<a.length;A++){const{name:v,fn:y}=a[A],{x:_,y:x,data:E,reset:b}=await y({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:d,rects:c,platform:o,elements:{reference:t,floating:e}});if(u=_??u,f=x??f,d={...d,[v]:{...d[v],...E}},b&&m<=50){m++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):b.rects),{x:u,y:f}=IO(c,h,l)),A=-1;continue}}return{x:u,y:f,placement:h,strategy:i,middlewareData:d}};async function a2(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=jc(e,t),m=qK(d),v=a[h?f==="floating"?"reference":"floating":f],y=f4(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{...o.floating,x:r,y:i}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},b=f4(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:x,strategy:l}):_);return{top:(y.top-b.top+m.top)/E.y,bottom:(b.bottom-y.bottom+m.bottom)/E.y,left:(y.left-b.left+m.left)/E.x,right:(b.right-y.right+m.right)/E.x}}const TO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=jc(t,e)||{};if(c==null)return{};const f=qK(u),h={x:n,y:r},d=iM(i),m=rM(d),A=await o.getDimensions(c),v=d==="y",y=v?"top":"left",_=v?"bottom":"right",x=v?"clientHeight":"clientWidth",E=s.reference[m]+s.reference[d]-h[d]-s.floating[m],b=h[d]-s.reference[d],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=w?w[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(w)))&&(T=a.floating[x]||s.floating[m]);const C=E/2-b/2,I=T/2-A[m]/2-1,B=Lf(f[y],I),R=Lf(f[_],I),L=B,z=T-A[m]-R,O=T/2-A[m]/2+C,G=hw(L,O,z),j=!l.arrow&&Vm(i)!=null&&O!=G&&s.reference[m]/2-(O<L?B:R)-A[m]/2<0,J=j?O<L?O-L:O-z:0;return{[d]:h[d]+J,data:{[d]:G,centerOffset:O-G-J,...j&&{alignmentOffset:J}},reset:j}}}),c_e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:A=!0,...v}=jc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Kc(i),_=Kc(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(_||!A?[u4(a)]:i_e(a));!h&&m!=="none"&&E.push(...o_e(a,A,m,x));const b=[a,...E],w=await a2(e,v),T=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&T.push(w[y]),f){const L=r_e(i,o,x);T.push(w[L[0]],w[L[1]])}if(C=[...C,{placement:i,overflows:T}],!T.every(L=>L<=0)){var I,B;const L=(((I=s.flip)==null?void 0:I.index)||0)+1,z=b[L];if(z)return{data:{index:L,overflows:C},reset:{placement:z}};let O=(B=C.filter(G=>G.overflows[0]<=0).sort((G,j)=>G.overflows[1]-j.overflows[1])[0])==null?void 0:B.placement;if(!O)switch(d){case"bestFit":{var R;const G=(R=C.map(j=>[j.placement,j.overflows.filter(J=>J>0).reduce((J,N)=>J+N,0)]).sort((j,J)=>j[1]-J[1])[0])==null?void 0:R[0];G&&(O=G);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function MO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function BO(t){return e_e.some(e=>t[e]>=0)}const u_e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=jc(t,e);switch(r){case"referenceHidden":{const s=await a2(e,{...i,elementContext:"reference"}),o=MO(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:BO(o)}}}case"escaped":{const s=await a2(e,{...i,altBoundary:!0}),o=MO(s,n.floating);return{data:{escapedOffsets:o,escaped:BO(o)}}}default:return{}}}}};async function f_e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Kc(n),a=Vm(n),l=$m(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=jc(e,t);let{mainAxis:h,crossAxis:d,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof m=="number"&&(d=a==="end"?m*-1:m),l?{x:d*u,y:h*c}:{x:h*c,y:d*u}}const h_e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await f_e(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},d_e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:_}=v;return{x:y,y:_}}},...l}=jc(t,e),c={x:n,y:r},u=await a2(e,l),f=$m(Kc(i)),h=nM(f);let d=c[h],m=c[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",_=d+u[v],x=d-u[y];d=hw(_,d,x)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",_=m+u[v],x=m-u[y];m=hw(_,m,x)}const A=a.fn({...e,[h]:d,[f]:m});return{...A,data:{x:A.x-n,y:A.y-r}}}}},p_e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=jc(t,e),u={x:n,y:r},f=$m(i),h=nM(f);let d=u[h],m=u[f];const A=jc(a,e),v=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(l){const x=h==="y"?"height":"width",E=s.reference[h]-s.floating[x]+v.mainAxis,b=s.reference[h]+s.reference[x]-v.mainAxis;d<E?d=E:d>b&&(d=b)}if(c){var y,_;const x=h==="y"?"width":"height",E=["top","left"].includes(Kc(i)),b=s.reference[f]-s.floating[x]+(E&&((y=o.offset)==null?void 0:y[f])||0)+(E?0:v.crossAxis),w=s.reference[f]+s.reference[x]+(E?0:((_=o.offset)==null?void 0:_[f])||0)-(E?v.crossAxis:0);m<b?m=b:m>w&&(m=w)}return{[h]:d,[f]:m}}}},m_e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=jc(t,e),l=await a2(e,a),c=Kc(n),u=Vm(n),f=$m(n)==="y",{width:h,height:d}=r.floating;let m,A;c==="top"||c==="bottom"?(m=c,A=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(A=c,m=u==="end"?"top":"bottom");const v=d-l[m],y=h-l[A],_=!e.middlewareData.shift;let x=v,E=y;if(f){const w=h-l.left-l.right;E=u||_?Lf(y,w):w}else{const w=d-l.top-l.bottom;x=u||_?Lf(v,w):w}if(_&&!u){const w=Ys(l.left,0),T=Ys(l.right,0),C=Ys(l.top,0),I=Ys(l.bottom,0);f?E=h-2*(w!==0||T!==0?w+T:Ys(l.left,l.right)):x=d-2*(C!==0||I!==0?C+I:Ys(l.top,l.bottom))}await o({...e,availableWidth:E,availableHeight:x});const b=await i.getDimensions(s.floating);return h!==b.width||d!==b.height?{reset:{rects:!0}}:{}}}};function Ff(t){return ZK(t)?(t.nodeName||"").toLowerCase():"#document"}function oo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ou(t){var e;return(e=(ZK(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZK(t){return t instanceof Node||t instanceof oo(t).Node}function Jc(t){return t instanceof Element||t instanceof oo(t).Element}function Gl(t){return t instanceof HTMLElement||t instanceof oo(t).HTMLElement}function RO(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oo(t).ShadowRoot}function xA(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=oa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function g_e(t){return["table","td","th"].includes(Ff(t))}function sM(t){const e=oM(),n=oa(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function A_e(t){let e=dm(t);for(;Gl(e)&&!ax(e);){if(sM(e))return e;e=dm(e)}return null}function oM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ax(t){return["html","body","#document"].includes(Ff(t))}function oa(t){return oo(t).getComputedStyle(t)}function lx(t){return Jc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function dm(t){if(Ff(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RO(t)&&t.host||ou(t);return RO(e)?e.host:e}function eJ(t){const e=dm(t);return ax(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gl(e)&&xA(e)?e:eJ(e)}function l2(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=eJ(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=oo(i);return s?e.concat(o,o.visualViewport||[],xA(i)?i:[],o.frameElement&&n?l2(o.frameElement):[]):e.concat(i,l2(i,[],n))}function tJ(t){const e=oa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Gl(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=c4(n)!==s||c4(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function aM(t){return Jc(t)?t:t.contextElement}function M0(t){const e=aM(t);if(!Gl(e))return kf(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=tJ(e);let o=(s?c4(n.width):n.width)/r,a=(s?c4(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const v_e=kf(0);function nJ(t){const e=oo(t);return!oM()||!e.visualViewport?v_e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y_e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==oo(t)?!1:e}function Sd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=aM(t);let o=kf(1);e&&(r?Jc(r)&&(o=M0(r)):o=M0(t));const a=y_e(s,n,r)?nJ(s):kf(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=oo(s),d=r&&Jc(r)?oo(r):r;let m=h.frameElement;for(;m&&r&&d!==h;){const A=M0(m),v=m.getBoundingClientRect(),y=oa(m),_=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*A.x,x=v.top+(m.clientTop+parseFloat(y.paddingTop))*A.y;l*=A.x,c*=A.y,u*=A.x,f*=A.y,l+=_,c+=x,m=oo(m).frameElement}}return f4({width:u,height:f,x:l,y:c})}function x_e(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Gl(n),s=ou(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=kf(1);const l=kf(0);if((i||!i&&r!=="fixed")&&((Ff(n)!=="body"||xA(s))&&(o=lx(n)),Gl(n))){const c=Sd(n);a=M0(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function __e(t){return Array.from(t.getClientRects())}function rJ(t){return Sd(ou(t)).left+lx(t).scrollLeft}function E_e(t){const e=ou(t),n=lx(t),r=t.ownerDocument.body,i=Ys(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ys(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+rJ(t);const a=-n.scrollTop;return oa(r).direction==="rtl"&&(o+=Ys(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function C_e(t,e){const n=oo(t),r=ou(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=oM();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function S_e(t,e){const n=Sd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Gl(t)?M0(t):kf(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function PO(t,e,n){let r;if(e==="viewport")r=C_e(t,n);else if(e==="document")r=E_e(ou(t));else if(Jc(e))r=S_e(e,n);else{const i=nJ(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return f4(r)}function iJ(t,e){const n=dm(t);return n===e||!Jc(n)||ax(n)?!1:oa(n).position==="fixed"||iJ(n,e)}function w_e(t,e){const n=e.get(t);if(n)return n;let r=l2(t,[],!1).filter(a=>Jc(a)&&Ff(a)!=="body"),i=null;const s=oa(t).position==="fixed";let o=s?dm(t):t;for(;Jc(o)&&!ax(o);){const a=oa(o),l=sM(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||xA(o)&&!l&&iJ(t,o))?r=r.filter(u=>u!==o):i=a,o=dm(o)}return e.set(t,r),r}function b_e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?w_e(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=PO(e,u,i);return c.top=Ys(f.top,c.top),c.right=Lf(f.right,c.right),c.bottom=Lf(f.bottom,c.bottom),c.left=Ys(f.left,c.left),c},PO(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I_e(t){return tJ(t)}function T_e(t,e,n){const r=Gl(e),i=ou(e),s=n==="fixed",o=Sd(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=kf(0);if(r||!r&&!s)if((Ff(e)!=="body"||xA(i))&&(a=lx(e)),r){const c=Sd(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=rJ(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function DO(t,e){return!Gl(t)||oa(t).position==="fixed"?null:e?e(t):t.offsetParent}function sJ(t,e){const n=oo(t);if(!Gl(t))return n;let r=DO(t,e);for(;r&&g_e(r)&&oa(r).position==="static";)r=DO(r,e);return r&&(Ff(r)==="html"||Ff(r)==="body"&&oa(r).position==="static"&&!sM(r))?n:r||A_e(t)||n}const M_e=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||sJ,s=this.getDimensions;return{reference:T_e(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function B_e(t){return oa(t).direction==="rtl"}const R_e={convertOffsetParentRelativeRectToViewportRelativeRect:x_e,getDocumentElement:ou,getClippingRect:b_e,getOffsetParent:sJ,getElementRects:M_e,getClientRects:__e,getDimensions:I_e,getScale:M0,isElement:Jc,isRTL:B_e};function P_e(t,e){let n=null,r;const i=ou(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const d=e5(u),m=e5(i.clientWidth-(c+f)),A=e5(i.clientHeight-(u+h)),v=e5(c),_={rootMargin:-d+"px "+-m+"px "+-A+"px "+-v+"px",threshold:Ys(0,Lf(1,l))||1};let x=!0;function E(b){const w=b[0].intersectionRatio;if(w!==l){if(!x)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},100)}x=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return o(!0),s}function D_e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=aM(t),u=i||s?[...c?l2(c):[],...l2(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=c&&a?P_e(c,n):null;let h=-1,d=null;o&&(d=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{d&&d.observe(e)})),n()}),c&&!l&&d.observe(c),d.observe(e));let m,A=l?Sd(t):null;l&&v();function v(){const y=Sd(t);A&&(y.x!==A.x||y.y!==A.y||y.width!==A.width||y.height!==A.height)&&n(),A=y,m=requestAnimationFrame(v)}return n(),()=>{u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f&&f(),d&&d.disconnect(),d=null,l&&cancelAnimationFrame(m)}}const L_e=(t,e,n)=>{const r=new Map,i={platform:R_e,...n},s={...i.platform,_c:r};return l_e(t,e,{...i,platform:s})},k_e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?TO({element:r.current,padding:i}).fn(n):{}:r?TO({element:r,padding:i}).fn(n):{}}}};var Y5=typeof document<"u"?D.useLayoutEffect:D.useEffect;function h4(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!h4(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!h4(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function oJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LO(t,e){const n=oJ(t);return Math.round(e*n)/n}function kO(t){const e=D.useRef(t);return Y5(()=>{e.current=t}),e}function F_e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=D.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,d]=D.useState(r);h4(h,r)||d(r);const[m,A]=D.useState(null),[v,y]=D.useState(null),_=D.useCallback(j=>{j!=w.current&&(w.current=j,A(j))},[A]),x=D.useCallback(j=>{j!==T.current&&(T.current=j,y(j))},[y]),E=s||m,b=o||v,w=D.useRef(null),T=D.useRef(null),C=D.useRef(u),I=kO(l),B=kO(i),R=D.useCallback(()=>{if(!w.current||!T.current)return;const j={placement:e,strategy:n,middleware:h};B.current&&(j.platform=B.current),L_e(w.current,T.current,j).then(J=>{const N={...J,isPositioned:!0};L.current&&!h4(C.current,N)&&(C.current=N,wm.flushSync(()=>{f(N)}))})},[h,e,n,B]);Y5(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const L=D.useRef(!1);Y5(()=>(L.current=!0,()=>{L.current=!1}),[]),Y5(()=>{if(E&&(w.current=E),b&&(T.current=b),E&&b){if(I.current)return I.current(E,b,R);R()}},[E,b,R,I]);const z=D.useMemo(()=>({reference:w,floating:T,setReference:_,setFloating:x}),[_,x]),O=D.useMemo(()=>({reference:E,floating:b}),[E,b]),G=D.useMemo(()=>{const j={position:n,left:0,top:0};if(!O.floating)return j;const J=LO(O.floating,u.x),N=LO(O.floating,u.y);return a?{...j,transform:"translate("+J+"px, "+N+"px)",...oJ(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:N}},[n,a,O.floating,u.x,u.y]);return D.useMemo(()=>({...u,update:R,refs:z,elements:O,floatingStyles:G}),[u,R,z,O,G])}const O_e=D.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return D.createElement(zd.svg,_r({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:D.createElement("polygon",{points:"0,0 30,0 15,10"}))}),N_e=O_e;function U_e(t){const[e,n]=D.useState(void 0);return hm(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const aJ="Popper",[lJ,cJ]=YK(aJ),[G_e,uJ]=lJ(aJ),z_e=t=>{const{__scopePopper:e,children:n}=t,[r,i]=D.useState(null);return D.createElement(G_e,{scope:e,anchor:r,onAnchorChange:i},n)},Q_e="PopperAnchor",H_e=D.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=uJ(Q_e,n),o=D.useRef(null),a=zm(e,o);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:D.createElement(zd.div,_r({},i,{ref:a}))}),fJ="PopperContent",[V_e,$_e]=lJ(fJ),W_e=D.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:h=0,align:d="center",alignOffset:m=0,arrowPadding:A=0,collisionBoundary:v=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:x=!1,avoidCollisions:E=!0,onPlaced:b,...w}=t,T=uJ(fJ,u),[C,I]=D.useState(null),B=zm(e,de=>I(de)),[R,L]=D.useState(null),z=U_e(R),O=(n=z==null?void 0:z.width)!==null&&n!==void 0?n:0,G=(r=z==null?void 0:z.height)!==null&&r!==void 0?r:0,j=f+(d!=="center"?"-"+d:""),J=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},N=Array.isArray(v)?v:[v],V=N.length>0,Q={padding:J,boundary:N.filter(Y_e),altBoundary:V},{refs:Z,floatingStyles:re,placement:ge,isPositioned:Ee,middlewareData:be}=F_e({strategy:"fixed",placement:j,whileElementsMounted:D_e,elements:{reference:T.anchor},middleware:[h_e({mainAxis:h+G,alignmentAxis:m}),E&&d_e({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?p_e():void 0,...Q}),E&&c_e({...Q}),m_e({...Q,apply:({elements:de,rects:Pe,availableWidth:ke,availableHeight:Ye})=>{const{width:nt,height:Je}=Pe.reference,pt=de.floating.style;pt.setProperty("--radix-popper-available-width",`${ke}px`),pt.setProperty("--radix-popper-available-height",`${Ye}px`),pt.setProperty("--radix-popper-anchor-width",`${nt}px`),pt.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),R&&k_e({element:R,padding:A}),X_e({arrowWidth:O,arrowHeight:G}),x&&u_e({strategy:"referenceHidden"})]}),[oe,Fe]=hJ(ge),he=Hm(b);hm(()=>{Ee&&(he==null||he())},[Ee,he]);const U=(i=be.arrow)===null||i===void 0?void 0:i.x,W=(s=be.arrow)===null||s===void 0?void 0:s.y,Y=((o=be.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ie,te]=D.useState();return hm(()=>{C&&te(window.getComputedStyle(C).zIndex)},[C]),D.createElement("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:Ee?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(a=be.transformOrigin)===null||a===void 0?void 0:a.x,(l=be.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},D.createElement(V_e,{scope:u,placedSide:oe,onArrowChange:L,arrowX:U,arrowY:W,shouldHideArrow:Y},D.createElement(zd.div,_r({"data-side":oe,"data-align":Fe},w,{ref:B,style:{...w.style,animation:Ee?void 0:"none",opacity:(c=be.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),j_e="PopperArrow",K_e={top:"bottom",right:"left",bottom:"top",left:"right"},J_e=D.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=$_e(j_e,r),o=K_e[s.placedSide];return D.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},D.createElement(N_e,_r({},i,{ref:n,style:{...i.style,display:"block"}})))});function Y_e(t){return t!==null}const X_e=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,d=f?0:t.arrowHeight,[m,A]=hJ(a),v={start:"0%",center:"50%",end:"100%"}[A],y=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,_=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+d/2;let x="",E="";return m==="bottom"?(x=f?v:`${y}px`,E=`${-d}px`):m==="top"?(x=f?v:`${y}px`,E=`${l.floating.height+d}px`):m==="right"?(x=`${-d}px`,E=f?v:`${_}px`):m==="left"&&(x=`${l.floating.width+d}px`,E=f?v:`${_}px`),{data:{x,y:E}}}});function hJ(t){const[e,n="center"]=t.split("-");return[e,n]}const q_e=z_e,Z_e=H_e,e9e=W_e,t9e=J_e;function n9e(t,e){return D.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const dJ=t=>{const{present:e,children:n}=t,r=r9e(e),i=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),s=zm(r.ref,i.ref);return typeof n=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};dJ.displayName="Presence";function r9e(t){const[e,n]=D.useState(),r=D.useRef({}),i=D.useRef(t),s=D.useRef("none"),o=t?"mounted":"unmounted",[a,l]=n9e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=t5(r.current);s.current=a==="mounted"?c:"none"},[a]),hm(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,d=t5(c);t?l("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),hm(()=>{if(e){const c=f=>{const d=t5(r.current).includes(f.animationName);f.target===e&&d&&wm.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=t5(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:D.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function t5(t){return(t==null?void 0:t.animationName)||"none"}function i9e({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=s9e({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Hm(n),l=D.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function s9e({defaultProp:t,onChange:e}){const n=D.useState(t),[r]=n,i=D.useRef(r),s=Hm(e);return D.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const o9e=D.forwardRef((t,e)=>D.createElement(zd.span,_r({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),a9e=o9e,[cx,VOe]=YK("Tooltip",[cJ]),ux=cJ(),l9e="TooltipProvider",pw="tooltip.open",[$Oe,lM]=cx(l9e),cM="Tooltip",[c9e,fx]=cx(cM),u9e=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=lM(cM,t.__scopeTooltip),c=ux(e),[u,f]=D.useState(null),h=Zxe(),d=D.useRef(0),m=o??l.disableHoverableContent,A=a??l.delayDuration,v=D.useRef(!1),[y=!1,_]=i9e({prop:r,defaultProp:i,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(pw))):l.onClose(),s==null||s(T)}}),x=D.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),E=D.useCallback(()=>{window.clearTimeout(d.current),v.current=!1,_(!0)},[_]),b=D.useCallback(()=>{window.clearTimeout(d.current),_(!1)},[_]),w=D.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{v.current=!0,_(!0)},A)},[A,_]);return D.useEffect(()=>()=>window.clearTimeout(d.current),[]),D.createElement(q_e,c,D.createElement(c9e,{scope:e,contentId:h,open:y,stateAttribute:x,trigger:u,onTriggerChange:f,onTriggerEnter:D.useCallback(()=>{l.isOpenDelayed?w():E()},[l.isOpenDelayed,w,E]),onTriggerLeave:D.useCallback(()=>{m?b():window.clearTimeout(d.current)},[b,m]),onOpen:E,onClose:b,disableHoverableContent:m},n))},FO="TooltipTrigger",f9e=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=fx(FO,n),s=lM(FO,n),o=ux(n),a=D.useRef(null),l=zm(e,a,i.onTriggerChange),c=D.useRef(!1),u=D.useRef(!1),f=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),D.createElement(Z_e,_r({asChild:!0},o),D.createElement(zd.button,_r({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Ac(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ac(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ac(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ac(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ac(t.onBlur,i.onClose),onClick:Ac(t.onClick,i.onClose)})))}),h9e="TooltipPortal",[WOe,d9e]=cx(h9e,{forceMount:void 0}),c2="TooltipContent",p9e=D.forwardRef((t,e)=>{const n=d9e(c2,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=fx(c2,t.__scopeTooltip);return D.createElement(dJ,{present:r||o.open},o.disableHoverableContent?D.createElement(pJ,_r({side:i},s,{ref:e})):D.createElement(m9e,_r({side:i},s,{ref:e})))}),m9e=D.forwardRef((t,e)=>{const n=fx(c2,t.__scopeTooltip),r=lM(c2,t.__scopeTooltip),i=D.useRef(null),s=zm(e,i),[o,a]=D.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,h=D.useCallback(()=>{a(null),f(!1)},[f]),d=D.useCallback((m,A)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},_=x9e(y,v.getBoundingClientRect()),x=_9e(y,_),E=E9e(A.getBoundingClientRect()),b=S9e([...x,...E]);a(b),f(!0)},[f]);return D.useEffect(()=>()=>h(),[h]),D.useEffect(()=>{if(l&&u){const m=v=>d(v,u),A=v=>d(v,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",A),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",A)}}},[l,u,d,h]),D.useEffect(()=>{if(o){const m=A=>{const v=A.target,y={x:A.clientX,y:A.clientY},_=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),x=!C9e(y,o);_?h():x&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,h]),D.createElement(pJ,_r({},t,{ref:s}))}),[g9e,A9e]=cx(cM,{isInside:!1}),pJ=D.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=fx(c2,n),c=ux(n),{onClose:u}=l;return D.useEffect(()=>(document.addEventListener(pw,u),()=>document.removeEventListener(pw,u)),[u]),D.useEffect(()=>{if(l.trigger){const f=h=>{const d=h.target;d!=null&&d.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),D.createElement(Kxe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},D.createElement(e9e,_r({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),D.createElement(VK,null,r),D.createElement(g9e,{scope:n,isInside:!0},D.createElement(a9e,{id:l.contentId,role:"tooltip"},i||r))))}),v9e="TooltipArrow",y9e=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ux(n);return A9e(v9e,n).isInside?null:D.createElement(t9e,_r({},i,r,{ref:e}))});function x9e(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _9e(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function E9e(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function C9e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function S9e(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),w9e(e)}function w9e(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const b9e=u9e,I9e=f9e,T9e=p9e,M9e=y9e;function B9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kn(t,e){if(t==null)return{};var n=B9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let cr;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(cr||(cr={}));const R9e={[cr.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[cr.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[cr.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[cr.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[cr.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[cr.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[cr.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[cr.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[cr.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[cr.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[cr.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function mJ(t,e,...n){const[r,...i]=R9e[e](...n);console[t]("LEVA: "+r,...i)}const xc=mJ.bind(null,"warn"),P9e=mJ.bind(null,"log"),D9e=["value"],L9e=["schema"],k9e=["value"],gJ=[],wd={};function OO(t){let{value:e}=t,n=kn(t,D9e);for(let r of gJ){const i=r(e,n);if(i)return i}}function au(t,e){let{schema:n}=e,r=kn(e,L9e);if(t in wd){xc(cr.ALREADY_REGISTERED_TYPE,t);return}gJ.push((i,s)=>n(i,s)&&t),wd[t]=r}function eE(t,e,n,r){const{normalize:i}=wd[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=kn(e,k9e);return{value:s,settings:o}}function F9e(t,e,n,r,i,s){const{sanitize:o}=wd[t];return o?o(e,n,r,i,s):e}function NO(t,e,n){const{format:r}=wd[t];return r?r(e,n):e}function O9e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){O9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Of=(t,e,n)=>t>n?n:t<e?e:t,N9e=t=>{if(t===""||typeof t=="number")return t;try{const e=ku(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},U9e=Math.log(10);function GO(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/U9e)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const d4=(t,e,n)=>n===e?0:(Of(t,e,n)-e)/(n-e),p4=(t,e,n)=>t*(n-e)+e,G9e=()=>"_"+Math.random().toString(36).substr(2,9),zO=/\(([0-9+\-*/^ .]+)\)/,QO=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,HO=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,VO=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,$O=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,WO=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function ku(t){if(isNaN(Number(t)))if(zO.test(t)){const e=t.replace(zO,(n,r)=>String(ku(r)));return ku(e)}else if(QO.test(t)){const e=t.replace(QO,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return ku(e)}else if(HO.test(t)){const e=t.replace(HO,(n,r,i)=>String(Number(r)*Number(i)));return ku(e)}else if(VO.test(t)){const e=t.replace(VO,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return ku(e)}else if($O.test(t)){const e=t.replace($O,(n,r,i)=>String(Number(r)+Number(i)));return ku(e)}else if(WO.test(t)){const e=t.replace(WO,(n,r,i)=>String(Number(r)-Number(i)));return ku(e)}else return Number(t);return Number(t)}function z9e(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function Q9e(t,e){const n=Pt({},t);return e.forEach(r=>r in t&&delete n[r]),n}function H9e(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function AJ(t){return Object.prototype.toString.call(t)==="[object Object]"}const V9e=t=>AJ(t)&&Object.keys(t).length===0;let Zo;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(Zo||(Zo={}));let Ua;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(Ua||(Ua={}));const $9e=["type","__customInput"],W9e=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],j9e=["type"];function vJ(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:Pt({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:b,__customInput:w}=t,T=kn(t,$9e);return vJ(w,e,T,b)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:h,onEditStart:d,onEditEnd:m,transient:A}=t,v=kn(t,W9e),y=Pt({render:o,key:e,label:a??e,hint:f,transient:A??!!h,onEditStart:d,onEditEnd:m,disabled:u,optional:l,order:c},n);let{type:_}=v,x=kn(v,j9e);if(_=r??_,_ in Zo)return{type:_,input:x,options:y};let E;return r&&AJ(x)&&"value"in x?E=x.value:E=V9e(x)?void 0:x,{type:_,input:E,options:Pt(Pt({},y),{},{onChange:h,optional:(i=y.optional)!==null&&i!==void 0?i:!1,disabled:(s=y.disabled)!==null&&s!==void 0?s:!1})}}function K9e(t,e,n,r){const i=vJ(t,e),{type:s,input:o,options:a}=i;if(s)return s in Zo?i:{type:s,input:eE(s,o,n,r),options:a};let l=OO(o);return l?{type:l,input:eE(l,o,n,r),options:a}:(l=OO({value:o}),l?{type:l,input:eE(l,{value:o},n,r),options:a}:!1)}function jO(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=yJ({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const J9e=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function yJ({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=F9e(t,o,n,e,i,s)}catch(l){throw new J9e(`The value \`${r}\` did not result in a correct value.`,e,l)}return s2(a,e)?e:a}const xJ=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},_J=t=>t.shiftKey?5:t.altKey?1/5:1;function Y9e(t,e){const n=console.error;console.error=()=>{},lH.render(t,e),console.error=n}const X9e=["value"],q9e=["min","max"],Z9e=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},EJ=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=Of(i,e,n);return r?s+r:s},e7e=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},CJ=t=>{let{value:e}=t,n=kn(t,X9e);const{min:r=-1/0,max:i=1/0}=n,s=kn(n,q9e);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Of(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?GO(l)*10:GO(o);l=l||c/10;const u=Math.round(Of(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:Pt({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},SJ=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var wJ=Object.freeze({__proto__:null,schema:Z9e,sanitize:EJ,format:e7e,normalize:CJ,sanitizeStep:SJ});function Pr(){return Pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pr.apply(this,arguments)}const bJ=D.createContext({});function Zi(){return D.useContext(bJ)}const uM=D.createContext(null),IJ=D.createContext(null),TJ=D.createContext(null);function _A(){return D.useContext(IJ)}function t7e(){return D.useContext(TJ)}const MJ=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function n5(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const jg={$inputStyle:()=>t=>n5(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>n5(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>n5(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>n5(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Bt,css:jOe,createTheme:n7e,globalCss:r7e,keyframes:KOe}=Qxe({prefix:"leva",theme:MJ(),utils:Pt(Pt({},jg),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":jg.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":jg.$focusStyle()(t)}),$hover:t=>({"&:hover":jg.$hoverStyle()(t)}),$active:t=>({"&:active":jg.$activeStyle()(t)})})}),i7e=r7e({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function s7e(t){const e=MJ();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=n7e(e);return{theme:e,className:n.className}}function Rc(t,e){const{theme:n}=D.useContext(uM);if(!(t in n)||!(e in n[t]))return xc(cr.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const BJ=Bt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),RJ=Bt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${BJ}`]:{paddingLeft:0}}),o7e=Bt(RJ,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),a7e=Bt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),l7e=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],c7e=["onUpdate"];function fM(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=t,u=kn(t,l7e);const{id:f,emitOnEditStart:h,emitOnEditEnd:d,disabled:m}=Zi(),A=a||f,v=D.useRef(null),y=c>0,_=y?"textarea":"input",x=D.useCallback(w=>T=>{const C=T.currentTarget.value;w(C)},[]);se.useEffect(()=>{const w=v.current,T=x(C=>{r(C),d()});return w==null||w.addEventListener("blur",T),()=>w==null?void 0:w.removeEventListener("blur",T)},[x,r,d]);const E=D.useCallback(w=>{w.key==="Enter"&&x(r)(w)},[x,r]),b=Object.assign({as:_},y?{rows:c}:{},u);return se.createElement(a7e,{textArea:y},e&&typeof e=="string"?se.createElement(RJ,null,e):e,se.createElement(BJ,Pr({levaType:o,ref:v,id:A,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:x(i),onFocus:()=>h(),onKeyPress:E,onKeyDown:s,disabled:m},b)))}function u7e(t){let{onUpdate:e}=t,n=kn(t,c7e);const r=D.useCallback(s=>e(N9e(s)),[e]),i=D.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return se.createElement(fM,Pr({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const m4=Bt("div",{}),mw=Bt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),f7e=Bt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${mw}::after`]:{opacity:.6},[`${m4}:hover > & + ${mw}::after`]:{opacity:.6},[`${m4}:hover > & > svg`]:{opacity:1}}),PJ=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${m4}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),DJ=Bt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${PJ} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),LJ=Bt(DJ,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),h7e=Bt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),d7e=Bt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),gw=Bt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),p7e=Bt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${gw}`]:{pointerEvents:"auto"}}}}}),kJ=Bt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),m7e=Bt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),g7e=Bt(M9e,{fill:"$toolTipBackground"});function hM({children:t}){const{className:e}=D.useContext(uM);return se.createElement(uxe,{className:e},t)}const A7e=["align"];function v7e(){const{id:t,disable:e,disabled:n}=Zi();return se.createElement(se.Fragment,null,se.createElement(d7e,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),se.createElement("label",{htmlFor:t+"__disable"}))}function y7e(t){const{id:e,optional:n,hint:r}=Zi(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return se.createElement(se.Fragment,null,n&&se.createElement(v7e,null),r!==void 0?se.createElement(b9e,null,se.createElement(I9e,{asChild:!0},se.createElement(gw,Pr({},i,t))),se.createElement(T9e,{side:"top",sideOffset:2},se.createElement(m7e,null,r,se.createElement(g7e,null)))):se.createElement(gw,Pr({},i,s,t)))}function Xa(t){let{align:e}=t,n=kn(t,A7e);const{value:r,label:i,key:s,disabled:o}=Zi(),{hideCopyButton:a}=t7e(),l=!a&&s!==void 0,[c,u]=D.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{xc(cr.CLIPBOARD_ERROR,{[s]:r})}};return se.createElement(h7e,{align:e,onPointerLeave:()=>u(!1)},se.createElement(y7e,n),l&&!o&&se.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},se.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),se.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):se.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},se.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),se.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const x7e=["toggled"],_7e=Bt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function dM(t){let{toggled:e}=t,n=kn(t,x7e);return se.createElement(_7e,Pr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),se.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const E7e=["input"];function ha(t){let{input:e}=t,n=kn(t,E7e);return e?se.createElement(LJ,n):se.createElement(DJ,n)}function FJ({value:t,type:e,settings:n,setValue:r}){const[i,s]=D.useState(NO(e,t,n)),o=D.useRef(t),a=D.useRef(n);a.current=n;const l=D.useCallback(u=>s(NO(e,u,a.current)),[e]),c=D.useCallback(u=>{try{r(u)}catch(f){const{type:h,previousValue:d}=f;if(h!=="LEVA_ERROR")throw f;l(d)}},[l,r]);return D.useEffect(()=>{s2(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:c}}function EA(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Zi();return Fhe(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function C7e(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!1);return D.useEffect(()=>{const i=xJ(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),D.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function OJ(){const t=D.useRef(null),e=D.useRef({x:0,y:0}),n=D.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const S7e=["__refCount"],tE=(t,e)=>{if(!t[e])return null;const n=t[e];return kn(n,S7e)};function w7e(t){const e=_A(),[n,r]=D.useState(tE(e.getData(),t)),i=D.useCallback(c=>e.setValueAtPath(t,c,!0),[t,e]),s=D.useCallback(c=>e.setSettingsAtPath(t,c),[t,e]),o=D.useCallback(c=>e.disableInputAtPath(t,c),[t,e]),a=D.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=D.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return D.useEffect(()=>{r(tE(e.getData(),t));const c=e.useStore.subscribe(u=>tE(u.data,t),r,{equalityFn:vA});return()=>c()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const b7e=Bt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),NJ=Bt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Aw=Bt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),UJ=Bt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),GJ=Bt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function I7e({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=D.useRef(null),a=D.useRef(null),l=D.useRef(0),c=Rc("sizes","scrubberWidth"),u=EA(({event:h,first:d,xy:[m],movement:[A],memo:v})=>{if(d){const{width:_,left:x}=o.current.getBoundingClientRect();l.current=_-parseFloat(c),v=(h==null?void 0:h.target)===a.current?t:p4((m-x)/_,e,n)}const y=v+p4(A/l.current,0,n-e);return r(SJ(y,{step:i,initialValue:s})),v}),f=d4(t,e,n);return se.createElement(UJ,Pr({ref:o},u()),se.createElement(NJ,null,se.createElement(GJ,{style:{left:0,right:`${(1-f)*100}%`}})),se.createElement(Aw,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const T7e=se.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=D.useState(!1),o=EA(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*n*_J(c)),u=0),u));return se.createElement(o7e,Pr({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function zJ({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&se.createElement(T7e,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return se.createElement(u7e,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function M7e(){const t=Zi(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return se.createElement(ha,{input:!0},se.createElement(Xa,null,e),se.createElement(b7e,{hasRange:l},l&&se.createElement(I7e,Pr({value:parseFloat(n),onDrag:r},i)),se.createElement(zJ,Pr({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:B7e}=wJ,R7e=kn(wJ,["sanitizeStep"]);var P7e=Pt({component:M7e},R7e);const D7e=(t,e)=>Is().schema({options:Is().passesAnyOf(Is().object(),Is().array())}).test(e),L7e=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},k7e=(t,{values:e})=>e.indexOf(t),F7e=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var O7e=Object.freeze({__proto__:null,schema:D7e,sanitize:L7e,format:k7e,normalize:F7e});const N7e=Bt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),vw=Bt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),U7e=Bt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${vw}:focus + &`]:{$focusStyle:""},[`${vw}:hover + &`]:{$hoverStyle:""}});function G7e({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=D.useRef();return e===a[t]&&(l.current=o[t]),se.createElement(N7e,null,se.createElement(vw,{id:r,value:t,onChange:c=>n(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>se.createElement("option",{key:c,value:u},c))),se.createElement(U7e,null,l.current),se.createElement(dM,{toggled:!0}))}function z7e(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=Zi();return se.createElement(ha,{input:!0},se.createElement(Xa,null,t),se.createElement(G7e,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var Q7e=Pt({component:z7e},O7e);const H7e=t=>Is().string().test(t),V7e=t=>{if(typeof t!="string")throw Error("Invalid string");return t},$7e=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var W7e=Object.freeze({__proto__:null,schema:H7e,sanitize:V7e,normalize:$7e});const j7e=["displayValue","onUpdate","onChange","editable"],K7e=Bt("div",{whiteSpace:"pre-wrap"});function J7e(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=kn(t,j7e);return i?se.createElement(fM,Pr({value:e,onUpdate:n,onChange:r},s)):se.createElement(K7e,null,e)}function Y7e(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=Zi();return se.createElement(ha,{input:!0},se.createElement(Xa,null,t),se.createElement(J7e,Pr({displayValue:n,onUpdate:r,onChange:i},e)))}var X7e=Pt({component:Y7e},W7e);const q7e=t=>Is().boolean().test(t),Z7e=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var eEe=Object.freeze({__proto__:null,schema:q7e,sanitize:Z7e});const tEe=Bt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function nEe({value:t,onUpdate:e,id:n,disabled:r}){return se.createElement(tEe,null,se.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),se.createElement("label",{htmlFor:n},se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function rEe(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=Zi();return se.createElement(ha,{input:!0},se.createElement(Xa,null,t),se.createElement(nEe,{value:e,onUpdate:n,id:i,disabled:r}))}var iEe=Pt({component:rEe},eEe);const sEe=["locked"];function oEe({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=D.useRef(t[n]);o.current=t[n];const a=D.useCallback(c=>i({[n]:yJ({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,n]),l=FJ({type:"NUMBER",value:t[n],settings:r,setValue:a});return se.createElement(zJ,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const aEe=Bt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function lEe(t){let{locked:e}=t,n=kn(t,sEe);return se.createElement("svg",Pr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?se.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):se.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function pM({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=Zi(),{lock:o,locked:a}=n;return se.createElement(aEe,{withLock:o},o&&se.createElement(lEe,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,c)=>se.createElement(oEe,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const QJ=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=CJ(Pt({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},cEe=["lock"],uEe=["value"];function fEe(t){const e=Is().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function hEe(t){return Array.isArray(t)?"array":"object"}function H3(t,e,n){return hEe(t)===e?t:e==="array"?Object.values(t):H9e(t,n)}const dEe=(t,e,n)=>{const r=H3(t,"object",e.keys);for(let o in r)r[o]=EJ(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=H3(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=Pt(Pt({},o),r)}return H3(s,e.format,e.keys)},pEe=(t,e)=>H3(t,"object",e.keys),mEe=t=>!!t&&("step"in t||"min"in t||"max"in t);function gEe(t,e,n=[]){const{lock:r=!1}=e,i=kn(e,cEe),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=H3(t,"object",o),l=mEe(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=QJ(a,l);return{value:s==="array"?t:a,settings:Pt(Pt({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function HJ(t){return{schema:fEe(t.length),normalize:e=>{let{value:n}=e,r=kn(e,uEe);return gEe(n,r,t)},format:(e,n)=>pEe(e,n),sanitize:(e,n,r)=>dEe(e,n,r)}}var AEe={grad:.9,turn:360,rad:360/(2*Math.PI)},uc=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},gi=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Jo=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},VJ=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},KO=function(t){return{r:Jo(t.r,0,255),g:Jo(t.g,0,255),b:Jo(t.b,0,255),a:Jo(t.a)}},nE=function(t){return{r:gi(t.r),g:gi(t.g),b:gi(t.b),a:gi(t.a,3)}},vEe=/^#([0-9a-f]{3,8})$/i,r5=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},$J=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},WJ=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},JO=function(t){return{h:VJ(t.h),s:Jo(t.s,0,100),l:Jo(t.l,0,100),a:Jo(t.a)}},YO=function(t){return{h:gi(t.h),s:gi(t.s),l:gi(t.l),a:gi(t.a,3)}},XO=function(t){return WJ((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},V3=function(t){return{h:(e=$J(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},yEe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xEe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_Ee=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,EEe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yw={string:[[function(t){var e=vEe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?gi(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?gi(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=_Ee.exec(t)||EEe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:KO({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=yEe.exec(t)||xEe.exec(t);if(!e)return null;var n,r,i=JO({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(AEe[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return XO(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return uc(e)&&uc(n)&&uc(r)?KO({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!uc(e)||!uc(n)||!uc(r))return null;var o=JO({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return XO(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!uc(e)||!uc(n)||!uc(r))return null;var o=function(a){return{h:VJ(a.h),s:Jo(a.s,0,100),v:Jo(a.v,0,100),a:Jo(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return WJ(o)},"hsv"]]},qO=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},jJ=function(t){return typeof t=="string"?qO(t.trim(),yw.string):typeof t=="object"&&t!==null?qO(t,yw.object):[null,void 0]},CEe=function(t){return jJ(t)[1]},rE=function(t,e){var n=V3(t);return{h:n.h,s:Jo(n.s+100*e,0,100),l:n.l,a:n.a}},iE=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},ZO=function(t,e){var n=V3(t);return{h:n.h,s:n.s,l:Jo(n.l+100*e,0,100),a:n.a}},xw=function(){function t(e){this.parsed=jJ(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return gi(iE(this.rgba),2)},t.prototype.isDark=function(){return iE(this.rgba)<.5},t.prototype.isLight=function(){return iE(this.rgba)>=.5},t.prototype.toHex=function(){return e=nE(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?r5(gi(255*s)):"","#"+r5(n)+r5(r)+r5(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return nE(this.rgba)},t.prototype.toRgbString=function(){return e=nE(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return YO(V3(this.rgba))},t.prototype.toHslString=function(){return e=YO(V3(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=$J(this.rgba),{h:gi(e.h),s:gi(e.s),v:gi(e.v),a:gi(e.a,3)};var e},t.prototype.invert=function(){return us({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),us(rE(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),us(rE(this.rgba,-e))},t.prototype.grayscale=function(){return us(rE(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),us(ZO(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),us(ZO(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?us({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):gi(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=V3(this.rgba);return typeof e=="number"?us({h:e,s:n.s,l:n.l,a:n.a}):gi(n.h)},t.prototype.isEqual=function(e){return this.toHex()===us(e).toHex()},t}(),us=function(t){return t instanceof xw?t:new xw(t)},eN=[],SEe=function(t){t.forEach(function(e){eN.indexOf(e)<0&&(e(xw,yw),eN.push(e))})};function wEe(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,h="black";if(!s.length)for(var d in n)s[d]=new t(n[d]).toRgb();for(var m in n){var A=(a=u,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));A<f&&(f=A,h=m)}return h}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function Wm(){return(Wm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function mM(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function _w(t){var e=D.useRef(t),n=D.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var pm=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},$3=function(t){return"touches"in t},Ew=function(t){return t&&t.ownerDocument.defaultView||self},tN=function(t,e,n){var r=t.getBoundingClientRect(),i=$3(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:pm((i.pageX-(r.left+Ew(t).pageXOffset))/r.width),top:pm((i.pageY-(r.top+Ew(t).pageYOffset))/r.height)}},nN=function(t){!$3(t)&&t.preventDefault()},gM=se.memo(function(t){var e=t.onMove,n=t.onKey,r=mM(t,["onMove","onKey"]),i=D.useRef(null),s=_w(e),o=_w(n),a=D.useRef(null),l=D.useRef(!1),c=D.useMemo(function(){var d=function(v){nN(v),($3(v)?v.touches.length>0:v.buttons>0)&&i.current?s(tN(i.current,v,a.current)):A(!1)},m=function(){return A(!1)};function A(v){var y=l.current,_=Ew(i.current),x=v?_.addEventListener:_.removeEventListener;x(y?"touchmove":"mousemove",d),x(y?"touchend":"mouseup",m)}return[function(v){var y=v.nativeEvent,_=i.current;if(_&&(nN(y),!function(E,b){return b&&!$3(E)}(y,l.current)&&_)){if($3(y)){l.current=!0;var x=y.changedTouches||[];x.length&&(a.current=x[0].identifier)}_.focus(),s(tN(_,y,a.current)),A(!0)}},function(v){var y=v.which||v.keyCode;y<37||y>40||(v.preventDefault(),o({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},A]},[o,s]),u=c[0],f=c[1],h=c[2];return D.useEffect(function(){return h},[h]),se.createElement("div",Wm({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),CA=function(t){return t.filter(Boolean).join(" ")},AM=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=CA(["react-colorful__pointer",t.className]);return se.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},se.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},hs=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},KJ=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:hs(t.h),s:hs(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:hs(i/2),a:hs(r,2)}},Cw=function(t){var e=KJ(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},sE=function(t){var e=KJ(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},JJ=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:hs(255*[r,a,o,o,l,r][c]),g:hs(255*[l,r,r,a,o,o][c]),b:hs(255*[o,o,l,r,r,a][c]),a:hs(i,2)}},YJ=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:hs(60*(a<0?a+6:a)),s:hs(s?o/s*100:0),v:hs(s/255*100),a:i}},XJ=se.memo(function(t){var e=t.hue,n=t.onChange,r=CA(["react-colorful__hue",t.className]);return se.createElement("div",{className:r},se.createElement(gM,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:pm(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":hs(e),"aria-valuemax":"360","aria-valuemin":"0"},se.createElement(AM,{className:"react-colorful__hue-pointer",left:e/360,color:Cw({h:e,s:100,v:100,a:1})})))}),qJ=se.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Cw({h:e.h,s:100,v:100,a:1})};return se.createElement("div",{className:"react-colorful__saturation",style:r},se.createElement(gM,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:pm(e.s+100*i.left,0,100),v:pm(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+hs(e.s)+"%, Brightness "+hs(e.v)+"%"},se.createElement(AM,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Cw(e)})))}),vM=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function ZJ(t,e,n){var r=_w(n),i=D.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=D.useRef({color:e,hsva:s});D.useEffect(function(){if(!t.equal(e,a.current.color)){var c=t.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,t]),D.useEffect(function(){var c;vM(s,a.current.hsva)||t.equal(c=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,t,r]);var l=D.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var bEe=typeof window<"u"?D.useLayoutEffect:D.useEffect,IEe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},rN=new Map,eY=function(t){bEe(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!rN.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,rN.set(e,n);var r=IEe();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},TEe=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=mM(t,["className","colorModel","color","onChange"]),a=D.useRef(null);eY(a);var l=ZJ(n,i,s),c=l[0],u=l[1],f=CA(["react-colorful",e]);return se.createElement("div",Wm({},o,{ref:a,className:f}),se.createElement(qJ,{hsva:c,onChange:u}),se.createElement(XJ,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},MEe=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+sE(Object.assign({},n,{a:0}))+", "+sE(Object.assign({},n,{a:1}))+")"},s=CA(["react-colorful__alpha",e]),o=hs(100*n.a);return se.createElement("div",{className:s},se.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),se.createElement(gM,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:pm(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},se.createElement(AM,{className:"react-colorful__alpha-pointer",left:n.a,color:sE(n)})))},BEe=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=mM(t,["className","colorModel","color","onChange"]),a=D.useRef(null);eY(a);var l=ZJ(n,i,s),c=l[0],u=l[1],f=CA(["react-colorful",e]);return se.createElement("div",Wm({},o,{ref:a,className:f}),se.createElement(qJ,{hsva:c,onChange:u}),se.createElement(XJ,{hue:c.h,onChange:u}),se.createElement(MEe,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},REe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:YJ,fromHsva:JJ,equal:vM},PEe=function(t){return se.createElement(BEe,Wm({},t,{colorModel:REe}))},DEe={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return YJ({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=JJ(t)).r,g:e.g,b:e.b};var e},equal:vM},LEe=function(t){return se.createElement(TEe,Wm({},t,{colorModel:DEe}))};function jm(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Km(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function kEe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function FEe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kEe(arguments[e]));return t}var OEe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function SA(t,e){var n=NEe(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function NEe(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=OEe.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var UEe=[".DS_Store","Thumbs.db"];function GEe(t){return jm(this,void 0,void 0,function(){return Km(this,function(e){return g4(t)&&zEe(t)?[2,$Ee(t.dataTransfer,t.type)]:QEe(t)?[2,HEe(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,VEe(t)]:[2,[]]})})}function zEe(t){return g4(t.dataTransfer)}function QEe(t){return g4(t)&&g4(t.target)}function g4(t){return typeof t=="object"&&t!==null}function HEe(t){return Sw(t.target.files).map(function(e){return SA(e)})}function VEe(t){return jm(this,void 0,void 0,function(){var e;return Km(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return SA(r)})]}})})}function $Ee(t,e){return jm(this,void 0,void 0,function(){var n,r;return Km(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=Sw(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(WEe))]):[3,2];case 1:return r=i.sent(),[2,iN(tY(r))];case 2:return[2,iN(Sw(t.files).map(function(s){return SA(s)}))]}})})}function iN(t){return t.filter(function(e){return UEe.indexOf(e.name)===-1})}function Sw(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function WEe(t){if(typeof t.webkitGetAsEntry!="function")return sN(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?nY(e):sN(t)}function tY(t){return t.reduce(function(e,n){return FEe(e,Array.isArray(n)?tY(n):[n])},[])}function sN(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=SA(e);return Promise.resolve(n)}function jEe(t){return jm(this,void 0,void 0,function(){return Km(this,function(e){return[2,t.isDirectory?nY(t):KEe(t)]})})}function nY(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return jm(o,void 0,void 0,function(){var l,c,u;return Km(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(jEe)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function KEe(t){return jm(this,void 0,void 0,function(){return Km(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=SA(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var JEe=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){rY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lN(t,e){return ZEe(t)||qEe(t,e)||XEe(t,e)||YEe()}function YEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XEe(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function ZEe(t){if(Array.isArray(t))return t}var eCe="file-invalid-type",tCe="file-too-large",nCe="file-too-small",rCe="too-many-files",iCe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:eCe,message:"File type must be ".concat(n)}},uN=function(e){return{code:tCe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},fN=function(e){return{code:nCe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},sCe={code:rCe,message:"Too many files"};function iY(t,e){var n=t.type==="application/x-moz-file"||JEe(t,e);return[n,n?null:iCe(e)]}function sY(t,e,n){if(Kg(t.size))if(Kg(e)&&Kg(n)){if(t.size>n)return[!1,uN(n)];if(t.size<e)return[!1,fN(e)]}else{if(Kg(e)&&t.size<e)return[!1,fN(e)];if(Kg(n)&&t.size>n)return[!1,uN(n)]}return[!0,null]}function Kg(t){return t!=null}function oCe(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=iY(a,n),c=lN(l,1),u=c[0],f=sY(a,r,i),h=lN(f,1),d=h[0];return u&&d})}function A4(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function i5(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function hN(t){t.preventDefault()}function aCe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function lCe(t){return t.indexOf("Edge/")!==-1}function cCe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return aCe(t)||lCe(t)}function cl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!A4(r)&&a&&a.apply(void 0,[r].concat(s)),A4(r)})}}function uCe(){return"showOpenFilePicker"in window}function fCe(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return aN(aN({},e),{},rY({},n,[]))},{}):{}}]}function hCe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function dCe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var pCe=["children"],mCe=["open"],gCe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ACe=["refKey","onChange","onClick"];function vCe(t){return _Ce(t)||xCe(t)||oY(t)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Ce(t){if(Array.isArray(t))return ww(t)}function oE(t,e){return SCe(t)||CCe(t,e)||oY(t,e)||ECe()}function ECe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function SCe(t){if(Array.isArray(t))return t}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v4(t,e){if(t==null)return{};var n=wCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yM=D.forwardRef(function(t,e){var n=t.children,r=v4(t,pCe),i=lY(r),s=i.open,o=v4(i,mCe);return D.useImperativeHandle(e,function(){return{open:s}},[s]),se.createElement(D.Fragment,null,n(lr(lr({},o),{},{open:s})))});yM.displayName="Dropzone";var aY={disabled:!1,getFilesFromEvent:GEe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};yM.defaultProps=aY;yM.propTypes={children:Gn.func,accept:Gn.oneOfType([Gn.string,Gn.arrayOf(Gn.string)]),multiple:Gn.bool,preventDropOnDocument:Gn.bool,noClick:Gn.bool,noKeyboard:Gn.bool,noDrag:Gn.bool,noDragEventsBubbling:Gn.bool,minSize:Gn.number,maxSize:Gn.number,maxFiles:Gn.number,disabled:Gn.bool,getFilesFromEvent:Gn.func,onFileDialogCancel:Gn.func,onFileDialogOpen:Gn.func,useFsAccessApi:Gn.bool,onDragEnter:Gn.func,onDragLeave:Gn.func,onDragOver:Gn.func,onDrop:Gn.func,onDropAccepted:Gn.func,onDropRejected:Gn.func,validator:Gn.func};var Iw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function lY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=lr(lr({},aY),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,h=e.onDrop,d=e.onDropAccepted,m=e.onDropRejected,A=e.onFileDialogCancel,v=e.onFileDialogOpen,y=e.useFsAccessApi,_=e.preventDropOnDocument,x=e.noClick,E=e.noKeyboard,b=e.noDrag,w=e.noDragEventsBubbling,T=e.validator,C=D.useMemo(function(){return typeof v=="function"?v:pN},[v]),I=D.useMemo(function(){return typeof A=="function"?A:pN},[A]),B=D.useRef(null),R=D.useRef(null),L=D.useReducer(bCe,Iw),z=oE(L,2),O=z[0],G=z[1],j=O.isFocused,J=O.isFileDialogActive,N=O.draggedFiles,V=D.useRef(typeof window<"u"&&window.isSecureContext&&y&&uCe()),Q=function(){!V.current&&J&&setTimeout(function(){if(R.current){var ce=R.current.files;ce.length||(G({type:"closeDialog"}),I())}},300)};D.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[R,J,I,V]);var Z=D.useRef([]),re=function(ce){B.current&&B.current.contains(ce.target)||(ce.preventDefault(),Z.current=[])};D.useEffect(function(){return _&&(document.addEventListener("dragover",hN,!1),document.addEventListener("drop",re,!1)),function(){_&&(document.removeEventListener("dragover",hN),document.removeEventListener("drop",re))}},[B,_]);var ge=D.useCallback(function(H){H.preventDefault(),H.persist(),ke(H),Z.current=[].concat(vCe(Z.current),[H.target]),i5(H)&&Promise.resolve(i(H)).then(function(ce){A4(H)&&!w||(G({draggedFiles:ce,isDragActive:!0,type:"setDraggedFiles"}),c&&c(H))})},[i,c,w]),Ee=D.useCallback(function(H){H.preventDefault(),H.persist(),ke(H);var ce=i5(H);if(ce&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return ce&&f&&f(H),!1},[f,w]),be=D.useCallback(function(H){H.preventDefault(),H.persist(),ke(H);var ce=Z.current.filter(function(Oe){return B.current&&B.current.contains(Oe)}),De=ce.indexOf(H.target);De!==-1&&ce.splice(De,1),Z.current=ce,!(ce.length>0)&&(G({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),i5(H)&&u&&u(H))},[B,u,w]),oe=D.useCallback(function(H,ce){var De=[],Oe=[];H.forEach(function(Ge){var _t=iY(Ge,n),$e=oE(_t,2),Te=$e[0],lt=$e[1],vt=sY(Ge,o,s),it=oE(vt,2),st=it[0],mt=it[1],Nt=T?T(Ge):null;if(Te&&st&&!Nt)De.push(Ge);else{var Gt=[lt,mt];Nt&&(Gt=Gt.concat(Nt)),Oe.push({file:Ge,errors:Gt.filter(function(zt){return zt})})}}),(!a&&De.length>1||a&&l>=1&&De.length>l)&&(De.forEach(function(Ge){Oe.push({file:Ge,errors:[sCe]})}),De.splice(0)),G({acceptedFiles:De,fileRejections:Oe,type:"setFiles"}),h&&h(De,Oe,ce),Oe.length>0&&m&&m(Oe,ce),De.length>0&&d&&d(De,ce)},[G,a,n,o,s,l,h,d,m,T]),Fe=D.useCallback(function(H){H.preventDefault(),H.persist(),ke(H),Z.current=[],i5(H)&&Promise.resolve(i(H)).then(function(ce){A4(H)&&!w||oe(ce,H)}),G({type:"reset"})},[i,oe,w]),he=D.useCallback(function(){if(V.current){G({type:"openDialog"}),C();var H={multiple:a,types:fCe(n)};window.showOpenFilePicker(H).then(function(ce){return i(ce)}).then(function(ce){oe(ce,null),G({type:"closeDialog"})}).catch(function(ce){hCe(ce)?(I(ce),G({type:"closeDialog"})):dCe(ce)&&(V.current=!1,R.current&&(R.current.value=null,R.current.click()))});return}R.current&&(G({type:"openDialog"}),C(),R.current.value=null,R.current.click())},[G,C,I,y,oe,n,a]),U=D.useCallback(function(H){!B.current||!B.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),he())},[B,he]),W=D.useCallback(function(){G({type:"focus"})},[]),Y=D.useCallback(function(){G({type:"blur"})},[]),ie=D.useCallback(function(){x||(cCe()?setTimeout(he,0):he())},[x,he]),te=function(ce){return r?null:ce},de=function(ce){return E?null:te(ce)},Pe=function(ce){return b?null:te(ce)},ke=function(ce){w&&ce.stopPropagation()},Ye=D.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ce=H.refKey,De=ce===void 0?"ref":ce,Oe=H.role,Ge=H.onKeyDown,_t=H.onFocus,$e=H.onBlur,Te=H.onClick,lt=H.onDragEnter,vt=H.onDragOver,it=H.onDragLeave,st=H.onDrop,mt=v4(H,gCe);return lr(lr(bw({onKeyDown:de(cl(Ge,U)),onFocus:de(cl(_t,W)),onBlur:de(cl($e,Y)),onClick:te(cl(Te,ie)),onDragEnter:Pe(cl(lt,ge)),onDragOver:Pe(cl(vt,Ee)),onDragLeave:Pe(cl(it,be)),onDrop:Pe(cl(st,Fe)),role:typeof Oe=="string"&&Oe!==""?Oe:"button"},De,B),!r&&!E?{tabIndex:0}:{}),mt)}},[B,U,W,Y,ie,ge,Ee,be,Fe,E,b,r]),nt=D.useCallback(function(H){H.stopPropagation()},[]),Je=D.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ce=H.refKey,De=ce===void 0?"ref":ce,Oe=H.onChange,Ge=H.onClick,_t=v4(H,ACe),$e=bw({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:te(cl(Oe,Fe)),onClick:te(cl(Ge,nt)),tabIndex:-1},De,R);return lr(lr({},$e),_t)}},[R,n,a,Fe,r]),pt=N.length,Ct=pt>0&&oCe({files:N,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),X=pt>0&&!Ct;return lr(lr({},O),{},{isDragAccept:Ct,isDragReject:X,isFocused:j&&!r,getRootProps:Ye,getInputProps:Je,rootRef:B,inputRef:R,open:te(he)})}function bCe(t,e){switch(e.type){case"focus":return lr(lr({},t),{},{isFocused:!0});case"blur":return lr(lr({},t),{},{isFocused:!1});case"openDialog":return lr(lr({},Iw),{},{isFileDialogActive:!0});case"closeDialog":return lr(lr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return lr(lr({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return lr(lr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return lr({},Iw);default:return t}}function pN(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ICe=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var TCe=ICe;function mN(t){return TCe(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var cY=function(e){var n,r;return!(mN(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,mN(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var MCe=cY,xM=function(e){return MCe(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var BCe=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},RCe=xM,PCe=BCe;function uY(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];Tw(i)&&PCe(i,DCe,t)}return t}function DCe(t,e){if(LCe(e)){var n=this[e];Tw(t)&&Tw(n)?uY(n,t):this[e]=t}}function Tw(t){return RCe(t)&&!Array.isArray(t)}function LCe(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var kCe=uY;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var FCe=function(t,e,n,r,i){if(!OCe(t)||!e)return t;if(e=s5(e),n&&(e+="."+s5(n)),r&&(e+="."+s5(r)),i&&(e+="."+s5(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function OCe(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function s5(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var NCe=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];n.call(o,c)&&(r[c]=o[c])}return r},UCe=xM,GCe=NCe,zCe=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");gN(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];HCe(n)&&(n=VCe(n)),gN(n)&&(QCe(t,n),GCe(t,n))}return t};function QCe(t,e){for(var n in e)$Ce(e,n)&&(t[n]=e[n])}function HCe(t){return t&&typeof t=="string"}function VCe(t){var e={};for(var n in t)e[n]=t[n];return e}function gN(t){return t&&typeof t=="object"||UCe(t)}function $Ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var WCe=zCe,jCe=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=WCe({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=t.length,f=-1,h;function d(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var m=t[f],A=t[f+1],v={val:m,idx:f,arr:l,str:t};if(o.push(v),m==="\\"){v.val=JCe(r,t,f)===!0?m+A:A,v.escaped=!0,typeof n=="function"&&n(v),l[l.length-1]+=v.val,f++;continue}if(s&&s[m]){a.push(m);var y=d(),_=f+1;if(t.indexOf(y,_+1)!==-1)for(;a.length&&_<u;){var x=t[++_];if(x==="\\"){x++;continue}if(i.indexOf(x)!==-1){_=Mw(t,x,_+1);continue}if(y=d(),a.length&&t.indexOf(y,_+1)===-1)break;if(s[x]){a.push(x);continue}y===x&&a.pop()}if(h=_,h===-1){l[l.length-1]+=m;continue}m=t.slice(f,h+1),v.val=m,v.idx=f=h}if(i.indexOf(m)!==-1){if(h=Mw(t,m,f+1),h===-1){l[l.length-1]+=m;continue}KCe(m,r)===!0?m=t.slice(f,h+1):m=t.slice(f+1,h),v.val=m,v.idx=f=h}if(typeof n=="function"&&(n(v,o),m=v.val,f=v.idx),v.val===c&&v.split!==!1){l.push("");continue}l[l.length-1]+=v.val}return l};function Mw(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?Mw(t,e,i+1):i}function KCe(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function JCe(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var YCe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},AN=YCe,XCe=function(e){AN(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];AN(i)&&qCe(e,i)}return e};function qCe(t,e){for(var n in e)ZCe(e,n)&&(t[n]=e[n])}function ZCe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var eSe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var tSe=jCe,nSe=XCe,vN=cY,yN=eSe,rSe=function(t,e,n){if(!yN(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=tSe(e,{sep:".",brackets:!0}).filter(iSe),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){yN(o[a])||(o[a]={}),o=o[a];continue}vN(o[a])&&vN(n)?o[a]=nSe({},o[a],n):o[a]=n}return t};function iSe(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var aE=xM,xN=kCe,sSe=FCe,_N=rSe,oSe=function(e,n,r){if(!aE(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return xN.apply(null,arguments);if(typeof r=="string")return _N(e,n,r),e;var i=sSe(e,n);return aE(r)&&aE(i)&&(r=xN({},i,r)),_N(e,n,r),e};const aSe=ca(oSe),_M=(...t)=>t.filter(Boolean).join(".");function lSe(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function cSe(t,e){return Object.entries(z9e(t,e)).reduce((n,[,{value:r,disabled:i,key:s}])=>(n[s]=i?void 0:r,n),{})}function uSe(t,e){const n=D.useRef();return(e?s2:vA)(t,n.current)||(n.current=t),n.current}function fY(t,e){return D.useMemo(t,uSe(e,!0))}function fSe(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!0);return D.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),D.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const hSe=t=>{const[e,n]=D.useState(t.getVisiblePaths());return D.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:vA});return()=>r()},[t]),e};function dSe(t,e,n){return t.useStore(i=>{const s=Pt(Pt({},n),i.data);return cSe(s,e)},vA)}function hY(t=3){const e=D.useRef(null),n=D.useRef(null),[r,i]=D.useState(!1),s=D.useCallback(()=>i(!0),[]),o=D.useCallback(()=>i(!1),[]);return D.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=n.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=c+"px",f==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}SEe([wEe]);const pSe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Is.extend({color:()=>t=>us(t).isValid()});const mSe=t=>Is().color().test(t);function dY(t,{format:e,hasAlpha:n,isString:r}){const i=pSe[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?Q9e(s,["a"]):s}const pY=(t,e)=>{const n=us(t);if(!n.isValid())throw Error("Invalid color");return dY(n,e)},gSe=(t,e)=>dY(us(t),Pt(Pt({},e),{},{isString:!0,format:"hex"})),ASe=({value:t})=>{const e=CEe(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:pY(t,i),settings:i}};var vSe=Object.freeze({__proto__:null,schema:mSe,sanitize:pY,format:gSe,normalize:ASe});const ySe=Bt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),xSe=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),_Se=Bt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function EN(t,e){return e!=="rgb"?us(t).toRgb():t}function ESe({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Zi(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:h}=hY(),d=D.useRef(0),[m,A]=D.useState(()=>EN(t,o)),v=a?PEe:LEe,y=()=>{A(EN(t,o)),f(),i()},_=()=>{h(),s(),window.clearTimeout(d.current)},x=()=>{d.current=window.setTimeout(_,500)};return D.useEffect(()=>()=>window.clearTimeout(d.current),[]),se.createElement(se.Fragment,null,se.createElement(ySe,{ref:l,active:u,onClick:()=>y(),style:{color:e}}),u&&se.createElement(hM,null,se.createElement(kJ,{onPointerUp:_}),se.createElement(_Se,{ref:c,onMouseEnter:()=>window.clearTimeout(d.current),onMouseLeave:E=>E.buttons===0&&x()},se.createElement(v,{color:m,onChange:r}))))}function CSe(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=Zi();return se.createElement(ha,{input:!0},se.createElement(Xa,null,n),se.createElement(xSe,null,se.createElement(ESe,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),se.createElement(fM,{value:e,onChange:r,onUpdate:i})))}var SSe=Pt({component:CSe},vSe);function wSe(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Zi();return se.createElement(ha,{input:!0},se.createElement(Xa,null,t),se.createElement(pM,{value:e,settings:r,onUpdate:n}))}var bSe=Pt({component:wSe},HJ(["x","y","z"]));const ISe=Bt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),TSe=Bt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function MSe({value:t,settings:e,onUpdate:n}){const r=D.useRef(),i=D.useRef(0),s=D.useRef(0),o=D.useRef(1),[a,l]=D.useState(!1),[c,u]=D.useState(!1),[f,h]=OJ(),d=D.useRef(null),m=D.useRef(null);D.useLayoutEffect(()=>{if(a){const{top:L,left:z,width:O,height:G}=d.current.getBoundingClientRect();m.current.style.left=z+O/2+"px",m.current.style.top=L+G/2+"px"}},[a]);const{keys:[A,v],joystick:y}=e,_=y==="invertY"?1:-1,{[A]:{step:x},[v]:{step:E}}=e,b=Rc("sizes","joystickWidth"),w=Rc("sizes","joystickHeight"),T=parseFloat(b)*.8/2,C=parseFloat(w)*.8/2,I=D.useCallback(()=>{r.current||(u(!0),i.current&&h({x:i.current*T}),s.current&&h({y:s.current*-C}),r.current=window.setInterval(()=>{n(L=>{const z=x*i.current*o.current,O=_*E*s.current*o.current;return Array.isArray(L)?{[A]:L[0]+z,[v]:L[1]+O}:{[A]:L[A]+z,[v]:L[v]+O}})},16))},[T,C,n,h,x,E,A,v,_]),B=D.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);D.useEffect(()=>{function L(z){o.current=_J(z)}return window.addEventListener("keydown",L),window.addEventListener("keyup",L),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",L),window.removeEventListener("keyup",L)}},[]);const R=EA(({first:L,active:z,delta:[O,G],movement:[j,J]})=>{L&&l(!0);const N=Of(j,-T,T),V=Of(J,-C,C);i.current=Math.abs(j)>Math.abs(N)?Math.sign(j-N):0,s.current=Math.abs(J)>Math.abs(V)?Math.sign(V-J):0;let Q=t[A],Z=t[v];z?(i.current||(Q+=O*x*o.current,h({x:N})),s.current||(Z-=_*G*E*o.current,h({y:V})),i.current||s.current?I():B(),n({[A]:Q,[v]:Z})):(l(!1),i.current=0,s.current=0,h({x:0,y:0}),B())});return se.createElement(ISe,Pr({ref:d},R()),a&&se.createElement(hM,null,se.createElement(TSe,{ref:m,isOutOfBounds:c},se.createElement("div",null),se.createElement("span",{ref:f}))))}const BSe=Bt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function RSe(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Zi();return se.createElement(ha,{input:!0},se.createElement(Xa,null,t),se.createElement(BSe,{withJoystick:!!r.joystick},r.joystick&&se.createElement(MSe,{value:e,settings:r,onUpdate:n}),se.createElement(pM,{value:e,settings:r,onUpdate:n})))}const PSe=["joystick"],mY=HJ(["x","y"]),DSe=t=>{let{joystick:e=!0}=t,n=kn(t,PSe);const{value:r,settings:i}=mY.normalize(n);return{value:r,settings:Pt(Pt({},i),{},{joystick:e})}};var LSe=Pt(Pt({component:RSe},mY),{},{normalize:DSe});const kSe=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},FSe=(t,e)=>typeof e=="object"&&"image"in e,OSe=({image:t})=>({value:t});var NSe=Object.freeze({__proto__:null,sanitize:kSe,schema:FSe,normalize:OSe});const USe=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),GSe=Bt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),zSe=Bt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),QSe=Bt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),HSe=Bt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),VSe=Bt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function $Se(){const{label:t,value:e,onUpdate:n,disabled:r}=Zi(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=hY(),c=D.useCallback(m=>{m.length&&n(m[0])},[n]),u=D.useCallback(m=>{m.stopPropagation(),n(void 0)},[n]),{getRootProps:f,getInputProps:h,isDragAccept:d}=lY({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return se.createElement(ha,{input:!0},se.createElement(Xa,null,t),se.createElement(USe,null,se.createElement(zSe,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&se.createElement(hM,null,se.createElement(kJ,{onPointerUp:l,style:{cursor:"pointer"}}),se.createElement(QSe,{ref:s,style:{backgroundImage:`url(${e})`}})),se.createElement(GSe,f({isDragAccept:d}),se.createElement("input",h()),se.createElement(HSe,null,d?"drop image":"click or drop")),se.createElement(VSe,{onClick:u,disabled:!e})))}var WSe=Pt({component:$Se},NSe);const CN=Is().number(),jSe=(t,e)=>Is().array().length(2).every.number().test(t)&&Is().schema({min:CN,max:CN}).test(e),y4=t=>({min:t[0],max:t[1]}),gY=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?y4(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=Pt(Pt({},s),i);return[Of(Number(o),e,Math.max(e,a)),Of(Number(a),Math.min(n,o),n)]},KSe=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=QJ(y4(t),{min:r,max:r}),s=[e,n],o=Pt(Pt({},i),{},{bounds:s});return{value:gY(y4(t),o,t),settings:o}};var JSe=Object.freeze({__proto__:null,schema:jSe,format:y4,sanitize:gY,normalize:KSe});const YSe=["value","bounds","onDrag"],XSe=["bounds"],qSe=Bt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function ZSe(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=kn(t,YSe);const o=D.useRef(null),a=D.useRef(null),l=D.useRef(null),c=D.useRef(0),u=Rc("sizes","scrubberWidth"),f=EA(({event:m,first:A,xy:[v],movement:[y],memo:_={}})=>{if(A){const{width:E,left:b}=o.current.getBoundingClientRect();c.current=E-parseFloat(u);const w=(m==null?void 0:m.target)===a.current||(m==null?void 0:m.target)===l.current;_.pos=p4((v-b)/E,n,r);const T=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=T<0||T===0&&_.pos<=e.min?"min":"max",w&&(_.pos=e[_.key])}const x=_.pos+p4(y/c.current,0,r-n);return i({[_.key]:B7e(x,s[_.key])}),_}),h=`calc(${d4(e.min,n,r)} * (100% - ${u} - 8px) + 4px)`,d=`calc(${1-d4(e.max,n,r)} * (100% - ${u} - 8px) + 4px)`;return se.createElement(UJ,Pr({ref:o},f()),se.createElement(NJ,null,se.createElement(GJ,{style:{left:h,right:d}})),se.createElement(Aw,{position:"left",ref:a,style:{left:h}}),se.createElement(Aw,{position:"right",ref:l,style:{right:d}}))}function ewe(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Zi(),i=kn(r,XSe);return se.createElement(se.Fragment,null,se.createElement(ha,{input:!0},se.createElement(Xa,null,t),se.createElement(qSe,null,se.createElement(ZSe,Pr({value:e},r,{onDrag:n})),se.createElement(pM,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var twe=Pt({component:ewe},JSe);const nwe=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},rwe=["type","value"],iwe=["onChange","transient","onEditStart","onEditEnd"],swe=function(){const e=B8(Ohe(()=>({data:{}}))),n=nwe();this.storeId=G9e(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(h=>h.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in Zo&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let h=c[u];if(h){const{type:d,value:m}=f,A=kn(f,rwe);d!==h.type?xc(cr.INPUT_TYPE_OVERRIDE,d):((h.__refCount===0||a)&&Object.assign(h,A),h.__refCount++)}else c[u]=Pt(Pt({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return jO(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=Pt(Pt({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{jO(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{xc(cr.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return xc(cr.EMPTY_KEY);let h=_M(a,u);if(f.type===Zo.FOLDER){const d=s(f.schema,h,l);Object.assign(c,d),h in r||(r[h]=f.settings)}else if(u in l)xc(cr.DUPLICATE_KEYS,u,h,l[u].path);else{const d=K9e(f,u,h,c);if(d){const{type:m,options:A,input:v}=d,{onChange:y,transient:_,onEditStart:x,onEditEnd:E}=A,b=kn(A,iwe);c[h]=Pt(Pt(Pt({type:m},b),v),{},{fromPanel:!0}),l[u]={path:h,onChange:y,transient:_,onEditStart:x,onEditEnd:E}}else xc(cr.UNKNOWN_INPUT,h,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},AY=new swe,owe={collapsed:!1};function awe(t,e){return{type:Zo.FOLDER,schema:t,settings:Pt(Pt({},owe),e)}}const lwe={disabled:!1};function vY(t,e){return{type:Zo.BUTTON,onClick:t,settings:Pt(Pt({},lwe),e)}}const SN=t=>"__levaInput"in t,cwe=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=lSe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&aSe(n,o,{[s]:{__levaInput:!0,path:i}})}),n},uwe=["type","label","path","valueKey","value","settings","setValue","disabled"];function fwe(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,c=kn(t,uwe);const{displayValue:u,onChange:f,onUpdate:h}=FJ({type:e,value:s,settings:o,setValue:a}),d=wd[e].component;return d?se.createElement(bJ.Provider,{value:Pt({key:i,path:r,id:""+r,label:n,displayValue:u,value:s,onChange:f,onUpdate:h,settings:o,setValue:a,disabled:l},c)},se.createElement(p7e,{disabled:l},se.createElement(d,null))):(xc(cr.NO_COMPONENT_FOR_TYPE,e,r),null)}const hwe=Bt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function dwe({onClick:t,settings:e,label:n}){const r=_A();return se.createElement(ha,null,se.createElement(hwe,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const pwe=Bt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),mwe=Bt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),gwe=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function Awe(t){const{label:e,opts:n}=gwe(t),r=_A();return se.createElement(ha,{input:!!e},e&&se.createElement(Xa,null,e),se.createElement(pwe,null,Object.entries(n).map(([i,s])=>se.createElement(mwe,{key:i,onClick:()=>s(r.get)},i))))}const vwe=Bt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),yY=100;function ywe(t,e){t.push(e),t.length>yY&&t.shift()}const xwe=D.forwardRef(function({initialValue:t},e){const n=Rc("colors","highlight3"),r=Rc("colors","elevation2"),i=Rc("colors","highlight1"),[s,o]=D.useMemo(()=>[us(i).alpha(.4).toRgbString(),us(i).alpha(.1).toRgbString()],[i]),a=D.useRef([t]),l=D.useRef(t),c=D.useRef(t),u=D.useRef(),f=D.useCallback((m,A)=>{if(!m)return;const{width:v,height:y}=m,_=new Path2D,x=v/yY,E=y*.05;for(let T=0;T<a.current.length;T++){const C=d4(a.current[T],l.current,c.current),I=x*T,B=y-C*(y-E*2)-E;_.lineTo(I,B)}A.clearRect(0,0,v,y);const b=new Path2D(_);b.lineTo(x*(a.current.length+1),y),b.lineTo(0,y),b.lineTo(0,0);const w=A.createLinearGradient(0,0,0,y);w.addColorStop(0,s),w.addColorStop(1,o),A.fillStyle=w,A.fill(b),A.strokeStyle=r,A.lineJoin="round",A.lineWidth=14,A.stroke(_),A.strokeStyle=n,A.lineWidth=2,A.stroke(_)},[n,r,s,o]),[h,d]=C7e(f);return D.useImperativeHandle(e,()=>({frame:m=>{(l.current===void 0||m<l.current)&&(l.current=m),(c.current===void 0||m>c.current)&&(c.current=m),ywe(a.current,m),u.current=requestAnimationFrame(()=>f(h.current,d.current))}}),[h,d,f]),D.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),se.createElement(vwe,{ref:h})}),wN=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),_we=D.forwardRef(function({initialValue:t},e){const[n,r]=D.useState(wN(t));return D.useImperativeHandle(e,()=>({frame:i=>r(wN(i))}),[]),se.createElement("div",null,n)});function bN(t){return typeof t=="function"?t():t.current}function Ewe({label:t,objectOrFn:e,settings:n}){const r=D.useRef(),i=D.useRef(bN(e));return D.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(bN(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),se.createElement(ha,{input:!0},se.createElement(Xa,{align:"top"},t),n.graph?se.createElement(xwe,{ref:r,initialValue:i.current}):se.createElement(_we,{ref:r,initialValue:i.current}))}const Cwe=["type","label","key"],Swe={[Zo.BUTTON]:dwe,[Zo.BUTTON_GROUP]:Awe,[Zo.MONITOR]:Ewe},wwe=se.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=w7e(t);if(!e)return null;const{type:l,label:c,key:u}=e,f=kn(e,Cwe);if(l in Zo){const h=Swe[l];return se.createElement(h,Pr({label:c,path:t},f))}return l in wd?se.createElement(fwe,Pr({key:s+t,type:l,label:c,storeId:s,path:t,valueKey:u,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(P9e(cr.UNSUPPORTED_INPUT,l,t),null)});function bwe({toggle:t,toggled:e,name:n}){return se.createElement(f7e,{onClick:()=>t()},se.createElement(dM,{toggled:e}),se.createElement("div",null,n))}const Iwe=({name:t,path:e,tree:n})=>{const r=_A(),i=_M(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=D.useState(!s),c=D.useRef(null),u=Rc("colors","folderWidgetColor"),f=Rc("colors","folderTextColor");return D.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),se.createElement(m4,{ref:c},se.createElement(bwe,{name:t,toggled:a,toggle:()=>l(h=>!h)}),se.createElement(xY,{parent:i,tree:n,toggled:a}))},xY=se.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=fSe(s),l=_A(),c=([f,h])=>{var d;return(SN(h)?(d=l.getInput(h.path))===null||d===void 0?void 0:d.order:l.getFolderSettings(_M(r,f)).order)||0},u=Object.entries(i).sort((f,h)=>c(f)-c(h));return se.createElement(mw,{ref:o,isRoot:t,fill:e,flat:n},se.createElement(PJ,{ref:a,isRoot:t,toggled:s},u.map(([f,h])=>SN(h)?se.createElement(wwe,{key:h.path,valueKey:h.valueKey,path:h.path}):se.createElement(Iwe,{key:f,name:f,path:r,tree:h}))))}),Twe=Bt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${LJ}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),_Y=40,x4=Bt("i",{$flexCenter:"",width:_Y,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Mwe=Bt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Bwe=Bt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${x4}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Rwe=Bt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Pwe=Bt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:_Y}}}}),Dwe=se.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=D.useState(""),s=D.useMemo(()=>xJ(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return D.useEffect(()=>{s(r)},[r,s]),se.createElement(se.Fragment,null,se.createElement(Rwe,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),se.createElement(x4,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Lwe({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=D.useState(!1),h=D.useRef(null);D.useEffect(()=>{var m,A;u?(m=h.current)===null||m===void 0||m.focus():(A=h.current)===null||A===void 0||A.blur()},[u]);const d=EA(({offset:[m,A],first:v,last:y})=>{e({x:m,y:A}),v&&n({x:m,y:A}),y&&r({x:m,y:A})},{filterTaps:!0,from:({offset:[m,A]})=>[(c==null?void 0:c.x)||m,(c==null?void 0:c.y)||A]});return D.useEffect(()=>{const m=A=>{A.key==="L"&&A.shiftKey&&A.metaKey&&f(v=>!v)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[]),se.createElement(se.Fragment,null,se.createElement(Mwe,{mode:a?"drag":void 0},se.createElement(x4,{active:!s,onClick:()=>i()},se.createElement(dM,{toggled:s,width:12,height:8})),se.createElement(Pwe,Pr({},a?d():{},{drag:a,filterEnabled:l}),o===void 0&&a?se.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},se.createElement("circle",{cx:"2",cy:"2",r:"2"}),se.createElement("circle",{cx:"14",cy:"2",r:"2"}),se.createElement("circle",{cx:"26",cy:"2",r:"2"}),se.createElement("circle",{cx:"2",cy:"12",r:"2"}),se.createElement("circle",{cx:"14",cy:"12",r:"2"}),se.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&se.createElement(x4,{active:u,onClick:()=>f(m=>!m)},se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},se.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),se.createElement(Bwe,{toggled:u},se.createElement(Dwe,{ref:h,setFilter:t,toggle:i})))}const kwe=["store","hidden","theme","collapsed"];function Fwe(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,s=kn(t,kwe);const o=fY(()=>s7e(r),[r]),[a,l]=D.useState(!i),c=typeof i=="object"?!i.collapsed:a,u=D.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||n?null:se.createElement(uM.Provider,{value:o},se.createElement(Owe,Pr({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const Owe=se.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const h=hSe(t),[d,m]=D.useState(""),A=D.useMemo(()=>cwe(h,d),[h,d]),[v,y]=OJ(),_=i||h.length>0,x=typeof o=="object"&&o.title||void 0,E=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,b=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,w=typeof o=="object"&&o.position||void 0,T=typeof o=="object"&&o.onDrag||void 0,C=typeof o=="object"&&o.onDragStart||void 0,I=typeof o=="object"&&o.onDragEnd||void 0;return se.useEffect(()=>{y({x:w==null?void 0:w.x,y:w==null?void 0:w.y})},[w,y]),i7e(),se.createElement(TJ.Provider,{value:{hideCopyButton:a}},se.createElement(Twe,{ref:v,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&se.createElement(Lwe,{onDrag:B=>{y(B),T==null||T(B)},onDragStart:B=>C==null?void 0:C(B),onDragEnd:B=>I==null?void 0:I(B),setFilter:m,toggle:B=>c(R=>B??!R),toggled:l,title:x,drag:E,filterEnabled:b,from:w}),_&&se.createElement(IJ.Provider,{value:t},se.createElement(xY,{isRoot:!0,fill:n,flat:r,tree:A,toggled:l}))))}),Nwe=["isRoot"];let _4=!1,Kh=null;function EY(t){let{isRoot:e=!1}=t,n=kn(t,Nwe);return D.useEffect(()=>(_4=!0,!e&&Kh&&(Kh.remove(),Kh=null),()=>{e||(_4=!1)}),[e]),se.createElement(Fwe,Pr({store:AY},n))}function Uwe(t){D.useEffect(()=>{t&&!_4&&(Kh||(Kh=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Kh),Y9e(se.createElement(EY,{isRoot:!0}),Kh))),_4=!0)},[t])}function Gwe(t,e,n,r,i){let s,o,a,l,c;return typeof t=="string"?(o=t,s=e,Array.isArray(n)?c=n:n&&("store"in n?(l=n,c=r):(a=n,Array.isArray(r)?c=r:(l=r,c=i)))):(s=t,Array.isArray(e)?c=e:(l=e,c=n)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function hx(t,e,n,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=Gwe(t,e,n,r,i),u=typeof o=="function",f=D.useRef(!1),h=D.useRef(!0),d=fY(()=>{f.current=!0;const R=typeof o=="function"?o():o;return s?{[s]:awe(R,a)}:R},c),m=!(l!=null&&l.store);Uwe(m);const[A]=D.useState(()=>(l==null?void 0:l.store)||AY),[v,y]=D.useMemo(()=>A.getDataFromSchema(d),[A,d]),[_,x,E,b,w]=D.useMemo(()=>{const R=[],L=[],z={},O={},G={};return Object.values(y).forEach(({path:j,onChange:J,onEditStart:N,onEditEnd:V,transient:Q})=>{R.push(j),J?(z[j]=J,Q||L.push(j)):L.push(j),N&&(O[j]=N),V&&(G[j]=V)}),[R,L,z,O,G]},[y]),T=D.useMemo(()=>A.orderPaths(_),[_,A]),C=dSe(A,x,v),I=D.useCallback(R=>{const L=Object.entries(R).reduce((z,[O,G])=>Object.assign(z,{[y[O].path]:G}),{});A.set(L,!1)},[A,y]),B=D.useCallback(R=>A.get(y[R].path),[A,y]);return D.useEffect(()=>{const R=!h.current&&f.current;return A.addData(v,R),h.current=!1,f.current=!1,()=>A.disposePaths(T)},[A,T,v]),D.useEffect(()=>{const R=[];return Object.entries(E).forEach(([L,z])=>{z(A.get(L),L,Pt({initial:!0,get:A.get},A.getInput(L)));const O=A.useStore.subscribe(G=>{const j=G.data[L];return[j.disabled?void 0:j.value,j]},([G,j])=>z(G,L,Pt({initial:!1,get:A.get},j)),{equalityFn:vA});R.push(O)}),()=>R.forEach(L=>L())},[A,E]),D.useEffect(()=>{const R=[];return Object.entries(b).forEach(([L,z])=>R.push(A.subscribeToEditStart(L,z))),Object.entries(w).forEach(([L,z])=>R.push(A.subscribeToEditEnd(L,z))),()=>R.forEach(L=>L())},[b,w,A]),u?[C,I,B]:C}au(Ua.SELECT,Q7e);au(Ua.IMAGE,WSe);au(Ua.NUMBER,P7e);au(Ua.COLOR,SSe);au(Ua.STRING,X7e);au(Ua.BOOLEAN,iEe);au(Ua.INTERVAL,twe);au(Ua.VECTOR3D,bSe);au(Ua.VECTOR2D,LSe);var CY=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],zwe=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],SY=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],Qwe=CY,Hwe=Qwe.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),Bw=SY;Bw=Bw.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)});var Vwe=Bw.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),$we=tbe,Wwe=CY,IN=zwe,jwe=SY,Kwe=Hwe,Jwe=Vwe,xa=999,TN=9999,lE=0,cE=1,MN=2,BN=3,RN=4,Jg=5,Ywe=6,Xwe=7,qwe=8,PN=9,Zwe=10,DN=11,ebe=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function tbe(t){var e=0,n=0,r=xa,i,s,o=[],a=[],l=1,c=0,u=0,f=!1,h=!1,d="",m;t=t||{};var A=jwe,v=Wwe;t.version==="300 es"&&(A=Jwe,v=Kwe);for(var y={},_={},e=0;e<A.length;e++)y[A[e]]=!0;for(var e=0;e<v.length;e++)_[v[e]]=!0;return function(J){return a=[],J!==null?E(J):b()};function x(J){J.length&&a.push({type:ebe[r],data:J,position:u,line:l,column:c})}function E(J){e=0,J.toString&&(J=J.toString()),d+=J.replace(/\r\n/g,`
`),m=d.length;for(var N;i=d[e],e<m;){switch(N=e,r){case lE:e=B();break;case cE:e=I();break;case MN:e=C();break;case BN:e=R();break;case RN:e=O();break;case DN:e=z();break;case Jg:e=G();break;case TN:e=j();break;case PN:e=T();break;case xa:e=w();break}if(N!==e)switch(d[N]){case`
`:c=0,++l;break;default:++c;break}}return n+=e,d=d.slice(e),a}function b(J){return o.length&&x(o.join("")),r=Zwe,x("(eof)"),a}function w(){return o=o.length?[]:o,s==="/"&&i==="*"?(u=n+e-1,r=lE,s=i,e+1):s==="/"&&i==="/"?(u=n+e-1,r=cE,s=i,e+1):i==="#"?(r=MN,u=n+e,e):/\s/.test(i)?(r=PN,u=n+e,e):(f=/\d/.test(i),h=/[^\w_]/.test(i),u=n+e,r=f?RN:h?BN:TN,e)}function T(){return/[^\s]/g.test(i)?(x(o.join("")),r=xa,e):(o.push(i),s=i,e+1)}function C(){return(i==="\r"||i===`
`)&&s!=="\\"?(x(o.join("")),r=xa,e):(o.push(i),s=i,e+1)}function I(){return C()}function B(){return i==="/"&&s==="*"?(o.push(i),x(o.join("")),r=xa,e+1):(o.push(i),s=i,e+1)}function R(){if(s==="."&&/\d/.test(i))return r=Jg,e;if(s==="/"&&i==="*")return r=lE,e;if(s==="/"&&i==="/")return r=cE,e;if(i==="."&&o.length){for(;L(o););return r=Jg,e}if(i===";"||i===")"||i==="("){if(o.length)for(;L(o););return x(i),r=xa,e+1}var J=o.length===2&&i!=="=";if(/[\w_\d\s]/.test(i)||J){for(;L(o););return r=xa,e}return o.push(i),s=i,e+1}function L(J){var N=0,V,Q;do{if(V=IN.indexOf(J.slice(0,J.length+N).join("")),Q=IN[V],V===-1){if(N--+J.length>0)continue;Q=J.slice(0,1).join("")}return x(Q),u+=Q.length,o=o.slice(Q.length),o.length}while(1)}function z(){return/[^a-fA-F0-9]/.test(i)?(x(o.join("")),r=xa,e):(o.push(i),s=i,e+1)}function O(){return i==="."||/[eE]/.test(i)?(o.push(i),r=Jg,s=i,e+1):i==="x"&&o.length===1&&o[0]==="0"?(r=DN,o.push(i),s=i,e+1):/[^\d]/.test(i)?(x(o.join("")),r=xa,e):(o.push(i),s=i,e+1)}function G(){return i==="f"&&(o.push(i),s=i,e+=1),/[eE]/.test(i)||(i==="-"||i==="+")&&/[eE]/.test(s)?(o.push(i),s=i,e+1):/[^\d]/.test(i)?(x(o.join("")),r=xa,e):(o.push(i),s=i,e+1)}function j(){if(/[^\d\w_]/.test(i)){var J=o.join("");return _[J]?r=qwe:y[J]?r=Xwe:r=Ywe,x(o.join("")),r=xa,e}return o.push(i),s=i,e+1}}var nbe=$we,rbe=ibe;function ibe(t,e){var n=nbe(e),r=[];return r=r.concat(n(t)),r=r.concat(n(null)),r}const Rw=ca(rbe);var uE,LN;function sbe(){if(LN)return uE;LN=1,uE=t;function t(e){for(var n=!1,r=0,i=0;i<e.length;i++)switch(n=n||e[i].type==="keyword"&&e[i].data==="for",e[i].data){case"(":e[i].depth=n?r++:r;break;case"{":e[i].depth=n?r:r++,n=!1;break;case"}":e[i].depth=--r;break;default:e[i].depth=r}for(var i=0;i<e.length;i++){var s=e[i],o=i+1;if(!(s.type!=="ident"&&s.type!=="keyword")&&(a(),e[o].type==="ident"&&(a(),o++,e[o].data==="("))){for(;e[o]&&e[o].data!==";"&&e[o].data!=="{";)e[o++].depth++;e[o]&&e[o].data==="{"&&e[o].depth++}}return e;function a(){for(;e[o]&&(e[o].type==="whitespace"||e[o].data==="["||e[o].data==="]"||e[o].data==="integer");)o++}}return uE}var fE,kN;function obe(){if(kN)return fE;kN=1,fE=t;function t(e){var n=[0],r=n[0],i=0;if(!e||!e.length)return e;if(!("depth"in e[0]))throw new Error("glsl-token-scope: No scope depth defined on tokens! Use glsl-token-depth on these tokens first");for(var s=0;s<e.length;s++){var o=e[s],a=o.depth;a>i?n.push(++r):a<i&&n.splice(-1,1),o.scope=n[n.length-1],o.stack=n.slice(),i=o.depth}return e}return fE}var hE,FN;function abe(){if(FN)return hE;FN=1,hE=t;function t(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.property=!1,r.type==="ident"){for(var i=n;e[--i]&&e[i].type==="whitespace";);e[i]&&e[i].type==="operator"&&e[i].data==="."&&(r.property=!0)}}return e}return hE}var dE,ON;function lbe(){return ON||(ON=1,dE={"<<=":!0,">>=":!0,"++":!0,"--":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"&=":!0,"^=":!0,"|=":!0,"=":!0}),dE}var pE,NN;function cbe(){return NN||(NN=1,pE={precision:!0,highp:!0,mediump:!0,lowp:!0,attribute:!0,const:!0,uniform:!0,varying:!0,break:!0,continue:!0,do:!0,for:!0,while:!0,if:!0,else:!0,in:!0,out:!0,inout:!0,true:!0,false:!0,return:!0}),pE}var mE,UN;function ube(){if(UN)return mE;UN=1;var t=lbe(),e=cbe();mE=n;function n(r){for(var i=0,s=0;s<r.length;s++){var o=r[s],a=o.type;o.assignment=!1,o.declaration=!1,!(a!=="ident"&&a!=="builtin")&&(i=s+1,u(),r[i].type==="operator"&&t[r[i].data]&&(o.assignment=!0))}for(var s=0;s<r.length;s++){var l=r[s],a=l.type,c=l.data;if(l.declaration=!1,a==="keyword"){if(e[c])continue}else if(a!=="ident")continue;if(i=s+1,f(),r[i].type==="ident"){if(r[i++].declaration=!0,f(),r[i].data==="("){for(i++,u();r[i]&&r[i].data!==")"&&!(r[i].type!=="keyword"&&r[i].type!=="ident");)i++,u(),r[i].type==="ident"&&(r[i++].declaration=!0,u(),f(),u(),r[i].data===","&&(i++,u()));s=i;continue}for(;r[i]&&r[i].data!==";";)r[i].data===","?(i++,u(),(r[i].declaration=r[i].type==="ident")&&i++):(u(),h(),u(),i++);s=i}}for(var s=0;s<r.length;s++){var o=r[s];if(o.type==="keyword"&&o.data==="struct"&&(i=s+1,u(),r[i].type==="ident"&&(i++,u(),r[i++].data==="{"))){for(u();r[i].type==="ident"||r[i].type==="keyword";){do i++,u(),r[i].structMember=!0,r[i].declaration=!1,i++,f();while(r[i].data===",");r[i].data===";"&&i++,u()}if(i++,u(),r[i].type==="ident")for(r[i].declaration=!0,u();r[++i].data===",";)u(),i++,u(),r[i].type==="ident"&&(r[i].declaration=!0),u()}}return r;function u(d){for(;r[i]&&r[i].type==="whitespace";)i++}function f(){for(;r[i]&&(r[i].type==="integer"||r[i].data==="["||r[i].data==="]"||r[i].type==="whitespace");)i++}function h(){if(r[i]&&r[i].data==="("){var d=0;do{if(r[i].data===";")break;r[i].data==="("&&d++,r[i].data===")"&&d--}while(d&&r[++i])}}}return mE}var fbe=hbe;function hbe(t,e){sbe()(t),obe()(t),abe()(t),ube()(t);for(var n=pbe(t),r=e||dbe(),i={},s=0;s<t.length;s++){var o=t[s],a=o.stack,l=o.data;if(o.descoped=!1,o.type==="ident"&&!o.property&&!o.structMember){for(var c=!1,u=a.length-1;u>=0;u--){var f=n[a[u]];if(f&&f[l]){if(c=!0,u)break;o.descoped=o.data,o.data=i[l]=i[l]||r(l,o)||o.data}}c||(o.descoped=o.data,o.data=i[l]=i[l]||r(l,o)||o.data)}}return t}function dbe(){var t=0;return function(n){return n+"_"+(t++).toString(36)}}function pbe(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.declaration&&(e[r.scope]=e[r.scope]||{},e[r.scope][r.data]=r)}return e}const GN=ca(fbe);var mbe=gbe;function gbe(t){for(var e=[],n=0;n<t.length;n++)t[n].type!=="eof"&&e.push(t[n].data);return e.join("")}const W3=ca(mbe);var Abe=vbe;function vbe(t){var e=null,n=null,r=0,i=0,s=0,o=0,a=0,l=[],c,u,f;for(c=0,u;c<t.length;c++)if(f=t[c],f.data==="{"){if(r&&r++||(u=d(c,Pu(")"),Pu()),u<0)||(o=u,u=d(u,Pu("("),Pu(")")),u<0)||(a=u,u=d(u,Yg),u<0)||t[u].type!=="ident"||(n=t[u].data,u=d(u,Yg),u<0))continue;r=1,i=c,e=t[u].data,s=u;var h=d(u,Yg);switch(t[h]&&t[h].data){case"lowp":case"highp":case"mediump":s=h}}else if(r&&f.data==="}"){if(--r)continue;l.push({name:n,type:e,body:[i+1,c],args:[a,o+1],outer:[s,c+1]})}for(c=0;c<t.length;c++)if(f=t[c],f.data===";"){if(u=d(c,Pu(")"),Pu()),u<0||(o=u,u=d(u,Pu("("),Pu(")")),u<0)||(a=u,u=d(u,Yg),u<0)||t[u].type!=="ident"||(n=t[u].data,u=d(u,Yg),u<0)||t[u].type==="operator"||t[u].data==="return")continue;e=t[u].data,l.push({name:n,type:e,body:!1,args:[a,o+1],outer:[u,c+1]})}return l.sort(function(m,A){return m.outer[0]-A.outer[0]});function d(m,A,v){for(var y=m-1;y>=0;y--){if(A(t[y]))return y;if(v&&v(t[y]))return-1}return-1}}function Pu(t){return function(e){return e.type==="operator"&&(!t||e.data===t)}}function Yg(t){return t.type!=="whitespace"}const Pw=ca(Abe);function o5(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wY={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var f=typeof o5=="function"&&o5;if(!u&&f)return f(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}u=i[c]={exports:{}},r[c][0].call(u.exports,function(h){var d=r[c][1][h];return o(d||h)},u,u.exports,n,r,i,s)}return i[c].exports}for(var a=typeof o5=="function"&&o5,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){var m=n("crypto");function A(w,T){T=_(w,T);var C;return(C=T.algorithm!=="passthrough"?m.createHash(T.algorithm):new b).write===void 0&&(C.write=C.update,C.end=C.update),E(T,C).dispatch(w),C.update||C.end(""),C.digest?C.digest(T.encoding==="buffer"?void 0:T.encoding):(w=C.read(),T.encoding!=="buffer"?w.toString(T.encoding):w)}(i=r.exports=A).sha1=function(w){return A(w)},i.keys=function(w){return A(w,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(w){return A(w,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(w){return A(w,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var v=m.getHashes?m.getHashes().slice():["sha1","md5"],y=(v.push("passthrough"),["buffer","hex","binary","base64"]);function _(w,T){var C={};if(C.algorithm=(T=T||{}).algorithm||"sha1",C.encoding=T.encoding||"hex",C.excludeValues=!!T.excludeValues,C.algorithm=C.algorithm.toLowerCase(),C.encoding=C.encoding.toLowerCase(),C.ignoreUnknown=T.ignoreUnknown===!0,C.respectType=T.respectType!==!1,C.respectFunctionNames=T.respectFunctionNames!==!1,C.respectFunctionProperties=T.respectFunctionProperties!==!1,C.unorderedArrays=T.unorderedArrays===!0,C.unorderedSets=T.unorderedSets!==!1,C.unorderedObjects=T.unorderedObjects!==!1,C.replacer=T.replacer||void 0,C.excludeKeys=T.excludeKeys||void 0,w===void 0)throw new Error("Object argument required.");for(var I=0;I<v.length;++I)v[I].toLowerCase()===C.algorithm.toLowerCase()&&(C.algorithm=v[I]);if(v.indexOf(C.algorithm)===-1)throw new Error('Algorithm "'+C.algorithm+'"  not supported. supported values: '+v.join(", "));if(y.indexOf(C.encoding)===-1&&C.algorithm!=="passthrough")throw new Error('Encoding "'+C.encoding+'"  not supported. supported values: '+y.join(", "));return C}function x(w){if(typeof w=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(w))!=null}function E(w,T,C){C=C||[];function I(B){return T.update?T.update(B,"utf8"):T.write(B,"utf8")}return{dispatch:function(B){return this["_"+((B=w.replacer?w.replacer(B):B)===null?"null":typeof B)](B)},_object:function(B){var R,L=Object.prototype.toString.call(B),z=/\[object (.*)\]/i.exec(L);if(z=(z=z?z[1]:"unknown:["+L+"]").toLowerCase(),0<=(L=C.indexOf(B)))return this.dispatch("[CIRCULAR:"+L+"]");if(C.push(B),a!==void 0&&a.isBuffer&&a.isBuffer(B))return I("buffer:"),I(B);if(z==="object"||z==="function"||z==="asyncfunction")return L=Object.keys(B),w.unorderedObjects&&(L=L.sort()),w.respectType===!1||x(B)||L.splice(0,0,"prototype","__proto__","constructor"),w.excludeKeys&&(L=L.filter(function(O){return!w.excludeKeys(O)})),I("object:"+L.length+":"),R=this,L.forEach(function(O){R.dispatch(O),I(":"),w.excludeValues||R.dispatch(B[O]),I(",")});if(!this["_"+z]){if(w.ignoreUnknown)return I("["+z+"]");throw new Error('Unknown object type "'+z+'"')}this["_"+z](B)},_array:function(B,O){O=O!==void 0?O:w.unorderedArrays!==!1;var L=this;if(I("array:"+B.length+":"),!O||B.length<=1)return B.forEach(function(G){return L.dispatch(G)});var z=[],O=B.map(function(G){var j=new b,J=C.slice();return E(w,j,J).dispatch(G),z=z.concat(J.slice(C.length)),j.read().toString()});return C=C.concat(z),O.sort(),this._array(O,!1)},_date:function(B){return I("date:"+B.toJSON())},_symbol:function(B){return I("symbol:"+B.toString())},_error:function(B){return I("error:"+B.toString())},_boolean:function(B){return I("bool:"+B.toString())},_string:function(B){I("string:"+B.length+":"),I(B.toString())},_function:function(B){I("fn:"),x(B)?this.dispatch("[native]"):this.dispatch(B.toString()),w.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(B.name)),w.respectFunctionProperties&&this._object(B)},_number:function(B){return I("number:"+B.toString())},_xml:function(B){return I("xml:"+B.toString())},_null:function(){return I("Null")},_undefined:function(){return I("Undefined")},_regexp:function(B){return I("regex:"+B.toString())},_uint8array:function(B){return I("uint8array:"),this.dispatch(Array.prototype.slice.call(B))},_uint8clampedarray:function(B){return I("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(B))},_int8array:function(B){return I("int8array:"),this.dispatch(Array.prototype.slice.call(B))},_uint16array:function(B){return I("uint16array:"),this.dispatch(Array.prototype.slice.call(B))},_int16array:function(B){return I("int16array:"),this.dispatch(Array.prototype.slice.call(B))},_uint32array:function(B){return I("uint32array:"),this.dispatch(Array.prototype.slice.call(B))},_int32array:function(B){return I("int32array:"),this.dispatch(Array.prototype.slice.call(B))},_float32array:function(B){return I("float32array:"),this.dispatch(Array.prototype.slice.call(B))},_float64array:function(B){return I("float64array:"),this.dispatch(Array.prototype.slice.call(B))},_arraybuffer:function(B){return I("arraybuffer:"),this.dispatch(new Uint8Array(B))},_url:function(B){return I("url:"+B.toString())},_map:function(B){return I("map:"),B=Array.from(B),this._array(B,w.unorderedSets!==!1)},_set:function(B){return I("set:"),B=Array.from(B),this._array(B,w.unorderedSets!==!1)},_file:function(B){return I("file:"),this.dispatch([B.name,B.size,B.type,B.lastModfied])},_blob:function(){if(w.ignoreUnknown)return I("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return I("domwindow")},_bigint:function(B){return I("bigint:"+B.toString())},_process:function(){return I("process")},_timer:function(){return I("timer")},_pipe:function(){return I("pipe")},_tcp:function(){return I("tcp")},_udp:function(){return I("udp")},_tty:function(){return I("tty")},_statwatcher:function(){return I("statwatcher")},_securecontext:function(){return I("securecontext")},_connection:function(){return I("connection")},_zlib:function(){return I("zlib")},_context:function(){return I("context")},_nodescript:function(){return I("nodescript")},_httpparser:function(){return I("httpparser")},_dataview:function(){return I("dataview")},_signal:function(){return I("signal")},_fsevent:function(){return I("fsevent")},_tlswrap:function(){return I("tlswrap")}}}function b(){return{buf:"",write:function(w){this.buf+=w},end:function(w){this.buf+=w},read:function(){return this.buf}}}i.writeToStream=function(w,T,C){return C===void 0&&(C=T,T={}),E(T=_(w,T),C).dispatch(w)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){(function(m){var A=typeof Uint8Array<"u"?Uint8Array:Array,v="+".charCodeAt(0),y="/".charCodeAt(0),_="0".charCodeAt(0),x="a".charCodeAt(0),E="A".charCodeAt(0),b="-".charCodeAt(0),w="_".charCodeAt(0);function T(C){return C=C.charCodeAt(0),C===v||C===b?62:C===y||C===w?63:C<_?-1:C<_+10?C-_+26+26:C<E+26?C-E:C<x+26?C-x+26:void 0}m.toByteArray=function(C){var I,B;if(0<C.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var R=C.length,R=C.charAt(R-2)==="="?2:C.charAt(R-1)==="="?1:0,L=new A(3*C.length/4-R),z=0<R?C.length-4:C.length,O=0;function G(j){L[O++]=j}for(I=0;I<z;I+=4,0)G((16711680&(B=T(C.charAt(I))<<18|T(C.charAt(I+1))<<12|T(C.charAt(I+2))<<6|T(C.charAt(I+3))))>>16),G((65280&B)>>8),G(255&B);return R==2?G(255&(B=T(C.charAt(I))<<2|T(C.charAt(I+1))>>4)):R==1&&(G((B=T(C.charAt(I))<<10|T(C.charAt(I+1))<<4|T(C.charAt(I+2))>>2)>>8&255),G(255&B)),L},m.fromByteArray=function(C){var I,B,R,L,z=C.length%3,O="";function G(j){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(j)}for(I=0,R=C.length-z;I<R;I+=3)B=(C[I]<<16)+(C[I+1]<<8)+C[I+2],O+=G((L=B)>>18&63)+G(L>>12&63)+G(L>>6&63)+G(63&L);switch(z){case 1:O=(O+=G((B=C[C.length-1])>>2))+G(B<<4&63)+"==";break;case 2:O=(O=(O+=G((B=(C[C.length-2]<<8)+C[C.length-1])>>10))+G(B>>4&63))+G(B<<2&63)+"="}return O}})(i===void 0?this.base64js={}:i)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,r,i){(function(s,o,v,l,c,u,f,h,d){var m=n("base64-js"),A=n("ieee754");function v(U,W,Y){if(!(this instanceof v))return new v(U,W,Y);var ie,te,de,Pe,ke=typeof U;if(W==="base64"&&ke=="string")for(U=(Pe=U).trim?Pe.trim():Pe.replace(/^\s+|\s+$/g,"");U.length%4!=0;)U+="=";if(ke=="number")ie=N(U);else if(ke=="string")ie=v.byteLength(U,W);else{if(ke!="object")throw new Error("First argument needs to be a number, array or string.");ie=N(U.length)}if(v._useTypedArrays?te=v._augment(new Uint8Array(ie)):((te=this).length=ie,te._isBuffer=!0),v._useTypedArrays&&typeof U.byteLength=="number")te._set(U);else if(V(Pe=U)||v.isBuffer(Pe)||Pe&&typeof Pe=="object"&&typeof Pe.length=="number")for(de=0;de<ie;de++)v.isBuffer(U)?te[de]=U.readUInt8(de):te[de]=U[de];else if(ke=="string")te.write(U,0,W);else if(ke=="number"&&!v._useTypedArrays&&!Y)for(de=0;de<ie;de++)te[de]=0;return te}function y(U,W,Y,ie){return v._charsWritten=ge(function(te){for(var de=[],Pe=0;Pe<te.length;Pe++)de.push(255&te.charCodeAt(Pe));return de}(W),U,Y,ie)}function _(U,W,Y,ie){return v._charsWritten=ge(function(te){for(var de,Pe,ke=[],Ye=0;Ye<te.length;Ye++)Pe=te.charCodeAt(Ye),de=Pe>>8,Pe=Pe%256,ke.push(Pe),ke.push(de);return ke}(W),U,Y,ie)}function x(U,W,Y){var ie="";Y=Math.min(U.length,Y);for(var te=W;te<Y;te++)ie+=String.fromCharCode(U[te]);return ie}function E(U,W,Y,de){de||(he(typeof Y=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+1<U.length,"Trying to read beyond buffer length"));var te,de=U.length;if(!(de<=W))return Y?(te=U[W],W+1<de&&(te|=U[W+1]<<8)):(te=U[W]<<8,W+1<de&&(te|=U[W+1])),te}function b(U,W,Y,de){de||(he(typeof Y=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+3<U.length,"Trying to read beyond buffer length"));var te,de=U.length;if(!(de<=W))return Y?(W+2<de&&(te=U[W+2]<<16),W+1<de&&(te|=U[W+1]<<8),te|=U[W],W+3<de&&(te+=U[W+3]<<24>>>0)):(W+1<de&&(te=U[W+1]<<16),W+2<de&&(te|=U[W+2]<<8),W+3<de&&(te|=U[W+3]),te+=U[W]<<24>>>0),te}function w(U,W,Y,ie){if(ie||(he(typeof Y=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+1<U.length,"Trying to read beyond buffer length")),!(U.length<=W))return ie=E(U,W,Y,!0),32768&ie?-1*(65535-ie+1):ie}function T(U,W,Y,ie){if(ie||(he(typeof Y=="boolean","missing or invalid endian"),he(W!=null,"missing offset"),he(W+3<U.length,"Trying to read beyond buffer length")),!(U.length<=W))return ie=b(U,W,Y,!0),2147483648&ie?-1*(4294967295-ie+1):ie}function C(U,W,Y,ie){return ie||(he(typeof Y=="boolean","missing or invalid endian"),he(W+3<U.length,"Trying to read beyond buffer length")),A.read(U,W,Y,23,4)}function I(U,W,Y,ie){return ie||(he(typeof Y=="boolean","missing or invalid endian"),he(W+7<U.length,"Trying to read beyond buffer length")),A.read(U,W,Y,52,8)}function B(U,W,Y,ie,te){if(te||(he(W!=null,"missing value"),he(typeof ie=="boolean","missing or invalid endian"),he(Y!=null,"missing offset"),he(Y+1<U.length,"trying to write beyond buffer length"),be(W,65535)),te=U.length,!(te<=Y))for(var de=0,Pe=Math.min(te-Y,2);de<Pe;de++)U[Y+de]=(W&255<<8*(ie?de:1-de))>>>8*(ie?de:1-de)}function R(U,W,Y,ie,te){if(te||(he(W!=null,"missing value"),he(typeof ie=="boolean","missing or invalid endian"),he(Y!=null,"missing offset"),he(Y+3<U.length,"trying to write beyond buffer length"),be(W,4294967295)),te=U.length,!(te<=Y))for(var de=0,Pe=Math.min(te-Y,4);de<Pe;de++)U[Y+de]=W>>>8*(ie?de:3-de)&255}function L(U,W,Y,ie,te){te||(he(W!=null,"missing value"),he(typeof ie=="boolean","missing or invalid endian"),he(Y!=null,"missing offset"),he(Y+1<U.length,"Trying to write beyond buffer length"),oe(W,32767,-32768)),U.length<=Y||B(U,0<=W?W:65535+W+1,Y,ie,te)}function z(U,W,Y,ie,te){te||(he(W!=null,"missing value"),he(typeof ie=="boolean","missing or invalid endian"),he(Y!=null,"missing offset"),he(Y+3<U.length,"Trying to write beyond buffer length"),oe(W,2147483647,-2147483648)),U.length<=Y||R(U,0<=W?W:4294967295+W+1,Y,ie,te)}function O(U,W,Y,ie,te){te||(he(W!=null,"missing value"),he(typeof ie=="boolean","missing or invalid endian"),he(Y!=null,"missing offset"),he(Y+3<U.length,"Trying to write beyond buffer length"),Fe(W,34028234663852886e22,-34028234663852886e22)),U.length<=Y||A.write(U,W,Y,ie,23,4)}function G(U,W,Y,ie,te){te||(he(W!=null,"missing value"),he(typeof ie=="boolean","missing or invalid endian"),he(Y!=null,"missing offset"),he(Y+7<U.length,"Trying to write beyond buffer length"),Fe(W,17976931348623157e292,-17976931348623157e292)),U.length<=Y||A.write(U,W,Y,ie,52,8)}i.Buffer=v,i.SlowBuffer=v,i.INSPECT_MAX_BYTES=50,v.poolSize=8192,v._useTypedArrays=function(){try{var U=new ArrayBuffer(0),W=new Uint8Array(U);return W.foo=function(){return 42},W.foo()===42&&typeof W.subarray=="function"}catch{return!1}}(),v.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.isBuffer=function(U){return!(U==null||!U._isBuffer)},v.byteLength=function(U,W){var Y;switch(U+="",W||"utf8"){case"hex":Y=U.length/2;break;case"utf8":case"utf-8":Y=Z(U).length;break;case"ascii":case"binary":case"raw":Y=U.length;break;case"base64":Y=re(U).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Y=2*U.length;break;default:throw new Error("Unknown encoding")}return Y},v.concat=function(U,W){if(he(V(U),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),U.length===0)return new v(0);if(U.length===1)return U[0];if(typeof W!="number")for(te=W=0;te<U.length;te++)W+=U[te].length;for(var Y=new v(W),ie=0,te=0;te<U.length;te++){var de=U[te];de.copy(Y,ie),ie+=de.length}return Y},v.prototype.write=function(U,W,Y,ie){isFinite(W)?isFinite(Y)||(ie=Y,Y=void 0):(Ye=ie,ie=W,W=Y,Y=Ye),W=Number(W)||0;var te,de,Pe,ke,Ye=this.length-W;switch((!Y||Ye<(Y=Number(Y)))&&(Y=Ye),ie=String(ie||"utf8").toLowerCase()){case"hex":te=function(nt,Je,pt,Ct){pt=Number(pt)||0;var X=nt.length-pt;(!Ct||X<(Ct=Number(Ct)))&&(Ct=X),he((X=Je.length)%2==0,"Invalid hex string"),X/2<Ct&&(Ct=X/2);for(var H=0;H<Ct;H++){var ce=parseInt(Je.substr(2*H,2),16);he(!isNaN(ce),"Invalid hex string"),nt[pt+H]=ce}return v._charsWritten=2*H,H}(this,U,W,Y);break;case"utf8":case"utf-8":de=this,Pe=W,ke=Y,te=v._charsWritten=ge(Z(U),de,Pe,ke);break;case"ascii":case"binary":te=y(this,U,W,Y);break;case"base64":de=this,Pe=W,ke=Y,te=v._charsWritten=ge(re(U),de,Pe,ke);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":te=_(this,U,W,Y);break;default:throw new Error("Unknown encoding")}return te},v.prototype.toString=function(U,W,Y){var ie,te,de,Pe,ke=this;if(U=String(U||"utf8").toLowerCase(),W=Number(W)||0,(Y=Y!==void 0?Number(Y):ke.length)===W)return"";switch(U){case"hex":ie=function(Ye,nt,Je){var pt=Ye.length;(!nt||nt<0)&&(nt=0),(!Je||Je<0||pt<Je)&&(Je=pt);for(var Ct="",X=nt;X<Je;X++)Ct+=Q(Ye[X]);return Ct}(ke,W,Y);break;case"utf8":case"utf-8":ie=function(Ye,nt,Je){var pt="",Ct="";Je=Math.min(Ye.length,Je);for(var X=nt;X<Je;X++)Ye[X]<=127?(pt+=Ee(Ct)+String.fromCharCode(Ye[X]),Ct=""):Ct+="%"+Ye[X].toString(16);return pt+Ee(Ct)}(ke,W,Y);break;case"ascii":case"binary":ie=x(ke,W,Y);break;case"base64":te=ke,Pe=Y,ie=(de=W)===0&&Pe===te.length?m.fromByteArray(te):m.fromByteArray(te.slice(de,Pe));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ie=function(Ye,nt,Je){for(var pt=Ye.slice(nt,Je),Ct="",X=0;X<pt.length;X+=2)Ct+=String.fromCharCode(pt[X]+256*pt[X+1]);return Ct}(ke,W,Y);break;default:throw new Error("Unknown encoding")}return ie},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},v.prototype.copy=function(U,W,Y,ie){if(W=W||0,(ie=ie||ie===0?ie:this.length)!==(Y=Y||0)&&U.length!==0&&this.length!==0){he(Y<=ie,"sourceEnd < sourceStart"),he(0<=W&&W<U.length,"targetStart out of bounds"),he(0<=Y&&Y<this.length,"sourceStart out of bounds"),he(0<=ie&&ie<=this.length,"sourceEnd out of bounds"),ie>this.length&&(ie=this.length);var te=(ie=U.length-W<ie-Y?U.length-W+Y:ie)-Y;if(te<100||!v._useTypedArrays)for(var de=0;de<te;de++)U[de+W]=this[de+Y];else U._set(this.subarray(Y,Y+te),W)}},v.prototype.slice=function(U,W){var Y=this.length;if(U=J(U,Y,0),W=J(W,Y,Y),v._useTypedArrays)return v._augment(this.subarray(U,W));for(var ie=W-U,te=new v(ie,void 0,!0),de=0;de<ie;de++)te[de]=this[de+U];return te},v.prototype.get=function(U){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(U)},v.prototype.set=function(U,W){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(U,W)},v.prototype.readUInt8=function(U,W){if(W||(he(U!=null,"missing offset"),he(U<this.length,"Trying to read beyond buffer length")),!(U>=this.length))return this[U]},v.prototype.readUInt16LE=function(U,W){return E(this,U,!0,W)},v.prototype.readUInt16BE=function(U,W){return E(this,U,!1,W)},v.prototype.readUInt32LE=function(U,W){return b(this,U,!0,W)},v.prototype.readUInt32BE=function(U,W){return b(this,U,!1,W)},v.prototype.readInt8=function(U,W){if(W||(he(U!=null,"missing offset"),he(U<this.length,"Trying to read beyond buffer length")),!(U>=this.length))return 128&this[U]?-1*(255-this[U]+1):this[U]},v.prototype.readInt16LE=function(U,W){return w(this,U,!0,W)},v.prototype.readInt16BE=function(U,W){return w(this,U,!1,W)},v.prototype.readInt32LE=function(U,W){return T(this,U,!0,W)},v.prototype.readInt32BE=function(U,W){return T(this,U,!1,W)},v.prototype.readFloatLE=function(U,W){return C(this,U,!0,W)},v.prototype.readFloatBE=function(U,W){return C(this,U,!1,W)},v.prototype.readDoubleLE=function(U,W){return I(this,U,!0,W)},v.prototype.readDoubleBE=function(U,W){return I(this,U,!1,W)},v.prototype.writeUInt8=function(U,W,Y){Y||(he(U!=null,"missing value"),he(W!=null,"missing offset"),he(W<this.length,"trying to write beyond buffer length"),be(U,255)),W>=this.length||(this[W]=U)},v.prototype.writeUInt16LE=function(U,W,Y){B(this,U,W,!0,Y)},v.prototype.writeUInt16BE=function(U,W,Y){B(this,U,W,!1,Y)},v.prototype.writeUInt32LE=function(U,W,Y){R(this,U,W,!0,Y)},v.prototype.writeUInt32BE=function(U,W,Y){R(this,U,W,!1,Y)},v.prototype.writeInt8=function(U,W,Y){Y||(he(U!=null,"missing value"),he(W!=null,"missing offset"),he(W<this.length,"Trying to write beyond buffer length"),oe(U,127,-128)),W>=this.length||(0<=U?this.writeUInt8(U,W,Y):this.writeUInt8(255+U+1,W,Y))},v.prototype.writeInt16LE=function(U,W,Y){L(this,U,W,!0,Y)},v.prototype.writeInt16BE=function(U,W,Y){L(this,U,W,!1,Y)},v.prototype.writeInt32LE=function(U,W,Y){z(this,U,W,!0,Y)},v.prototype.writeInt32BE=function(U,W,Y){z(this,U,W,!1,Y)},v.prototype.writeFloatLE=function(U,W,Y){O(this,U,W,!0,Y)},v.prototype.writeFloatBE=function(U,W,Y){O(this,U,W,!1,Y)},v.prototype.writeDoubleLE=function(U,W,Y){G(this,U,W,!0,Y)},v.prototype.writeDoubleBE=function(U,W,Y){G(this,U,W,!1,Y)},v.prototype.fill=function(U,W,Y){if(W=W||0,Y=Y||this.length,he(typeof(U=typeof(U=U||0)=="string"?U.charCodeAt(0):U)=="number"&&!isNaN(U),"value is not a number"),he(W<=Y,"end < start"),Y!==W&&this.length!==0){he(0<=W&&W<this.length,"start out of bounds"),he(0<=Y&&Y<=this.length,"end out of bounds");for(var ie=W;ie<Y;ie++)this[ie]=U}},v.prototype.inspect=function(){for(var U=[],W=this.length,Y=0;Y<W;Y++)if(U[Y]=Q(this[Y]),Y===i.INSPECT_MAX_BYTES){U[Y+1]="...";break}return"<Buffer "+U.join(" ")+">"},v.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(v._useTypedArrays)return new v(this).buffer;for(var U=new Uint8Array(this.length),W=0,Y=U.length;W<Y;W+=1)U[W]=this[W];return U.buffer};var j=v.prototype;function J(U,W,Y){return typeof U!="number"?Y:W<=(U=~~U)?W:0<=U||0<=(U+=W)?U:0}function N(U){return(U=~~Math.ceil(+U))<0?0:U}function V(U){return(Array.isArray||function(W){return Object.prototype.toString.call(W)==="[object Array]"})(U)}function Q(U){return U<16?"0"+U.toString(16):U.toString(16)}function Z(U){for(var W=[],Y=0;Y<U.length;Y++){var ie=U.charCodeAt(Y);if(ie<=127)W.push(U.charCodeAt(Y));else for(var te=Y,de=(55296<=ie&&ie<=57343&&Y++,encodeURIComponent(U.slice(te,Y+1)).substr(1).split("%")),Pe=0;Pe<de.length;Pe++)W.push(parseInt(de[Pe],16))}return W}function re(U){return m.toByteArray(U)}function ge(U,W,Y,ie){for(var te=0;te<ie&&!(te+Y>=W.length||te>=U.length);te++)W[te+Y]=U[te];return te}function Ee(U){try{return decodeURIComponent(U)}catch{return String.fromCharCode(65533)}}function be(U,W){he(typeof U=="number","cannot write a non-number as a number"),he(0<=U,"specified a negative value for writing an unsigned value"),he(U<=W,"value is larger than maximum value for type"),he(Math.floor(U)===U,"value has a fractional component")}function oe(U,W,Y){he(typeof U=="number","cannot write a non-number as a number"),he(U<=W,"value larger than maximum allowed value"),he(Y<=U,"value smaller than minimum allowed value"),he(Math.floor(U)===U,"value has a fractional component")}function Fe(U,W,Y){he(typeof U=="number","cannot write a non-number as a number"),he(U<=W,"value larger than maximum allowed value"),he(Y<=U,"value smaller than minimum allowed value")}function he(U,W){if(!U)throw new Error(W||"Failed assertion")}v._augment=function(U){return U._isBuffer=!0,U._get=U.get,U._set=U.set,U.get=j.get,U.set=j.set,U.write=j.write,U.toString=j.toString,U.toLocaleString=j.toString,U.toJSON=j.toJSON,U.copy=j.copy,U.slice=j.slice,U.readUInt8=j.readUInt8,U.readUInt16LE=j.readUInt16LE,U.readUInt16BE=j.readUInt16BE,U.readUInt32LE=j.readUInt32LE,U.readUInt32BE=j.readUInt32BE,U.readInt8=j.readInt8,U.readInt16LE=j.readInt16LE,U.readInt16BE=j.readInt16BE,U.readInt32LE=j.readInt32LE,U.readInt32BE=j.readInt32BE,U.readFloatLE=j.readFloatLE,U.readFloatBE=j.readFloatBE,U.readDoubleLE=j.readDoubleLE,U.readDoubleBE=j.readDoubleBE,U.writeUInt8=j.writeUInt8,U.writeUInt16LE=j.writeUInt16LE,U.writeUInt16BE=j.writeUInt16BE,U.writeUInt32LE=j.writeUInt32LE,U.writeUInt32BE=j.writeUInt32BE,U.writeInt8=j.writeInt8,U.writeInt16LE=j.writeInt16LE,U.writeInt16BE=j.writeInt16BE,U.writeInt32LE=j.writeInt32LE,U.writeInt32BE=j.writeInt32BE,U.writeFloatLE=j.writeFloatLE,U.writeFloatBE=j.writeFloatBE,U.writeDoubleLE=j.writeDoubleLE,U.writeDoubleBE=j.writeDoubleBE,U.fill=j.fill,U.inspect=j.inspect,U.toArrayBuffer=j.toArrayBuffer,U}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,r,i){(function(s,o,m,l,c,u,f,h,d){var m=n("buffer").Buffer,A=4,v=new m(A);v.fill(0),r.exports={hash:function(y,_,x,E){for(var b=_(function(B,R){B.length%A!=0&&(L=B.length+(A-B.length%A),B=m.concat([B,v],L));for(var L,z=[],O=R?B.readInt32BE:B.readInt32LE,G=0;G<B.length;G+=A)z.push(O.call(B,G));return z}(y=m.isBuffer(y)?y:new m(y),E),8*y.length),_=E,w=new m(x),T=_?w.writeInt32BE:w.writeInt32LE,C=0;C<b.length;C++)T.call(w,b[C],4*C,!0);return w}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,r,i){(function(s,o,m,l,c,u,f,h,d){var m=n("buffer").Buffer,A=n("./sha"),v=n("./sha256"),y=n("./rng"),_={sha1:A,sha256:v,md5:n("./md5")},x=64,E=new m(x);function b(B,R){var L=_[B=B||"sha1"],z=[];return L||w("algorithm:",B,"is not yet supported"),{update:function(O){return m.isBuffer(O)||(O=new m(O)),z.push(O),O.length,this},digest:function(O){var G=m.concat(z),G=R?function(j,J,N){m.isBuffer(J)||(J=new m(J)),m.isBuffer(N)||(N=new m(N)),J.length>x?J=j(J):J.length<x&&(J=m.concat([J,E],x));for(var V=new m(x),Q=new m(x),Z=0;Z<x;Z++)V[Z]=54^J[Z],Q[Z]=92^J[Z];return N=j(m.concat([V,N])),j(m.concat([Q,N]))}(L,R,G):L(G);return z=null,O?G.toString(O):G}}}function w(){var B=[].slice.call(arguments).join(" ");throw new Error([B,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}E.fill(0),i.createHash=function(B){return b(B)},i.createHmac=b,i.randomBytes=function(B,R){if(!R||!R.call)return new m(y(B));try{R.call(this,void 0,new m(y(B)))}catch(L){R(L)}};var T,C=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],I=function(B){i[B]=function(){w("sorry,",B,"is not implemented yet")}};for(T in C)I(C[T])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){var m=n("./helpers");function A(w,T){w[T>>5]|=128<<T%32,w[14+(T+64>>>9<<4)]=T;for(var C=1732584193,I=-271733879,B=-1732584194,R=271733878,L=0;L<w.length;L+=16){var z=C,O=I,G=B,j=R,C=y(C,I,B,R,w[L+0],7,-680876936),R=y(R,C,I,B,w[L+1],12,-389564586),B=y(B,R,C,I,w[L+2],17,606105819),I=y(I,B,R,C,w[L+3],22,-1044525330);C=y(C,I,B,R,w[L+4],7,-176418897),R=y(R,C,I,B,w[L+5],12,1200080426),B=y(B,R,C,I,w[L+6],17,-1473231341),I=y(I,B,R,C,w[L+7],22,-45705983),C=y(C,I,B,R,w[L+8],7,1770035416),R=y(R,C,I,B,w[L+9],12,-1958414417),B=y(B,R,C,I,w[L+10],17,-42063),I=y(I,B,R,C,w[L+11],22,-1990404162),C=y(C,I,B,R,w[L+12],7,1804603682),R=y(R,C,I,B,w[L+13],12,-40341101),B=y(B,R,C,I,w[L+14],17,-1502002290),C=_(C,I=y(I,B,R,C,w[L+15],22,1236535329),B,R,w[L+1],5,-165796510),R=_(R,C,I,B,w[L+6],9,-1069501632),B=_(B,R,C,I,w[L+11],14,643717713),I=_(I,B,R,C,w[L+0],20,-373897302),C=_(C,I,B,R,w[L+5],5,-701558691),R=_(R,C,I,B,w[L+10],9,38016083),B=_(B,R,C,I,w[L+15],14,-660478335),I=_(I,B,R,C,w[L+4],20,-405537848),C=_(C,I,B,R,w[L+9],5,568446438),R=_(R,C,I,B,w[L+14],9,-1019803690),B=_(B,R,C,I,w[L+3],14,-187363961),I=_(I,B,R,C,w[L+8],20,1163531501),C=_(C,I,B,R,w[L+13],5,-1444681467),R=_(R,C,I,B,w[L+2],9,-51403784),B=_(B,R,C,I,w[L+7],14,1735328473),C=x(C,I=_(I,B,R,C,w[L+12],20,-1926607734),B,R,w[L+5],4,-378558),R=x(R,C,I,B,w[L+8],11,-2022574463),B=x(B,R,C,I,w[L+11],16,1839030562),I=x(I,B,R,C,w[L+14],23,-35309556),C=x(C,I,B,R,w[L+1],4,-1530992060),R=x(R,C,I,B,w[L+4],11,1272893353),B=x(B,R,C,I,w[L+7],16,-155497632),I=x(I,B,R,C,w[L+10],23,-1094730640),C=x(C,I,B,R,w[L+13],4,681279174),R=x(R,C,I,B,w[L+0],11,-358537222),B=x(B,R,C,I,w[L+3],16,-722521979),I=x(I,B,R,C,w[L+6],23,76029189),C=x(C,I,B,R,w[L+9],4,-640364487),R=x(R,C,I,B,w[L+12],11,-421815835),B=x(B,R,C,I,w[L+15],16,530742520),C=E(C,I=x(I,B,R,C,w[L+2],23,-995338651),B,R,w[L+0],6,-198630844),R=E(R,C,I,B,w[L+7],10,1126891415),B=E(B,R,C,I,w[L+14],15,-1416354905),I=E(I,B,R,C,w[L+5],21,-57434055),C=E(C,I,B,R,w[L+12],6,1700485571),R=E(R,C,I,B,w[L+3],10,-1894986606),B=E(B,R,C,I,w[L+10],15,-1051523),I=E(I,B,R,C,w[L+1],21,-2054922799),C=E(C,I,B,R,w[L+8],6,1873313359),R=E(R,C,I,B,w[L+15],10,-30611744),B=E(B,R,C,I,w[L+6],15,-1560198380),I=E(I,B,R,C,w[L+13],21,1309151649),C=E(C,I,B,R,w[L+4],6,-145523070),R=E(R,C,I,B,w[L+11],10,-1120210379),B=E(B,R,C,I,w[L+2],15,718787259),I=E(I,B,R,C,w[L+9],21,-343485551),C=b(C,z),I=b(I,O),B=b(B,G),R=b(R,j)}return Array(C,I,B,R)}function v(w,T,C,I,B,R){return b((T=b(b(T,w),b(I,R)))<<B|T>>>32-B,C)}function y(w,T,C,I,B,R,L){return v(T&C|~T&I,w,T,B,R,L)}function _(w,T,C,I,B,R,L){return v(T&I|C&~I,w,T,B,R,L)}function x(w,T,C,I,B,R,L){return v(T^C^I,w,T,B,R,L)}function E(w,T,C,I,B,R,L){return v(C^(T|~I),w,T,B,R,L)}function b(w,T){var C=(65535&w)+(65535&T);return(w>>16)+(T>>16)+(C>>16)<<16|65535&C}r.exports=function(w){return m.hash(w,A,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){r.exports=function(m){for(var A,v=new Array(m),y=0;y<m;y++)!(3&y)&&(A=4294967296*Math.random()),v[y]=A>>>((3&y)<<3)&255;return v}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){var m=n("./helpers");function A(_,x){_[x>>5]|=128<<24-x%32,_[15+(x+64>>9<<4)]=x;for(var E,b,w,T=Array(80),C=1732584193,I=-271733879,B=-1732584194,R=271733878,L=-1009589776,z=0;z<_.length;z+=16){for(var O=C,G=I,j=B,J=R,N=L,V=0;V<80;V++){T[V]=V<16?_[z+V]:y(T[V-3]^T[V-8]^T[V-14]^T[V-16],1);var Q=v(v(y(C,5),(Q=I,b=B,w=R,(E=V)<20?Q&b|~Q&w:!(E<40)&&E<60?Q&b|Q&w|b&w:Q^b^w)),v(v(L,T[V]),(E=V)<20?1518500249:E<40?1859775393:E<60?-1894007588:-899497514)),L=R,R=B,B=y(I,30),I=C,C=Q}C=v(C,O),I=v(I,G),B=v(B,j),R=v(R,J),L=v(L,N)}return Array(C,I,B,R,L)}function v(_,x){var E=(65535&_)+(65535&x);return(_>>16)+(x>>16)+(E>>16)<<16|65535&E}function y(_,x){return _<<x|_>>>32-x}r.exports=function(_){return m.hash(_,A,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){function m(x,E){var b=(65535&x)+(65535&E);return(x>>16)+(E>>16)+(b>>16)<<16|65535&b}function A(x,E){var b,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),T=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),C=new Array(64);x[E>>5]|=128<<24-E%32,x[15+(E+64>>9<<4)]=E;for(var I,B,R=0;R<x.length;R+=16){for(var L=T[0],z=T[1],O=T[2],G=T[3],j=T[4],J=T[5],N=T[6],V=T[7],Q=0;Q<64;Q++)C[Q]=Q<16?x[Q+R]:m(m(m((B=C[Q-2],y(B,17)^y(B,19)^_(B,10)),C[Q-7]),(B=C[Q-15],y(B,7)^y(B,18)^_(B,3))),C[Q-16]),b=m(m(m(m(V,y(B=j,6)^y(B,11)^y(B,25)),j&J^~j&N),w[Q]),C[Q]),I=m(y(I=L,2)^y(I,13)^y(I,22),L&z^L&O^z&O),V=N,N=J,J=j,j=m(G,b),G=O,O=z,z=L,L=m(b,I);T[0]=m(L,T[0]),T[1]=m(z,T[1]),T[2]=m(O,T[2]),T[3]=m(G,T[3]),T[4]=m(j,T[4]),T[5]=m(J,T[5]),T[6]=m(N,T[6]),T[7]=m(V,T[7])}return T}var v=n("./helpers"),y=function(x,E){return x>>>E|x<<32-E},_=function(x,E){return x>>>E};r.exports=function(x){return v.hash(x,A,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){i.read=function(m,A,v,y,R){var x,E,b=8*R-y-1,w=(1<<b)-1,T=w>>1,C=-7,I=v?R-1:0,B=v?-1:1,R=m[A+I];for(I+=B,x=R&(1<<-C)-1,R>>=-C,C+=b;0<C;x=256*x+m[A+I],I+=B,C-=8);for(E=x&(1<<-C)-1,x>>=-C,C+=y;0<C;E=256*E+m[A+I],I+=B,C-=8);if(x===0)x=1-T;else{if(x===w)return E?NaN:1/0*(R?-1:1);E+=Math.pow(2,y),x-=T}return(R?-1:1)*E*Math.pow(2,x-y)},i.write=function(m,A,v,y,_,L){var E,b,w=8*L-_-1,T=(1<<w)-1,C=T>>1,I=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=y?0:L-1,R=y?1:-1,L=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(b=isNaN(A)?1:0,E=T):(E=Math.floor(Math.log(A)/Math.LN2),A*(y=Math.pow(2,-E))<1&&(E--,y*=2),2<=(A+=1<=E+C?I/y:I*Math.pow(2,1-C))*y&&(E++,y/=2),T<=E+C?(b=0,E=T):1<=E+C?(b=(A*y-1)*Math.pow(2,_),E+=C):(b=A*Math.pow(2,C-1)*Math.pow(2,_),E=0));8<=_;m[v+B]=255&b,B+=R,b/=256,_-=8);for(E=E<<_|b,w+=_;0<w;m[v+B]=255&E,B+=R,E/=256,w-=8);m[v+B-R]|=128*L}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,r,i){(function(s,o,a,l,c,u,f,h,d){var m,A,v;function y(){}(s=r.exports={}).nextTick=(A=typeof window<"u"&&window.setImmediate,v=typeof window<"u"&&window.postMessage&&window.addEventListener,A?function(_){return window.setImmediate(_)}:v?(m=[],window.addEventListener("message",function(_){var x=_.source;x!==window&&x!==null||_.data!=="process-tick"||(_.stopPropagation(),0<m.length&&m.shift()())},!0),function(_){m.push(_),window.postMessage("process-tick","*")}):function(_){setTimeout(_,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=y,s.addListener=y,s.once=y,s.off=y,s.removeListener=y,s.removeAllListeners=y,s.emit=y,s.binding=function(_){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(_){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(wY);var ybe=wY.exports;const xbe=ca(ybe);var Qn={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive"};const _be={[`${Qn.normal}`]:{"#include <beginnormal_vertex>":`
    vec3 objectNormal = ${Qn.normal};
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `},[`${Qn.position}`]:{"#include <begin_vertex>":`
    vec3 transformed = ${Qn.position};
  `},[`${Qn.positionRaw}`]:{"#include <begin_vertex>":`
    vec4 csm_positionUnprojected = ${Qn.positionRaw};
    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;
    #endif
    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;
    vec3 transformed = csm_positionUnprojected.xyz;
  `},[`${Qn.pointSize}`]:{"gl_PointSize = size;":`
    gl_PointSize = ${Qn.pointSize};
    `},[`${Qn.diffuseColor}`]:{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = ${Qn.diffuseColor};
  `},[`${Qn.fragColor}`]:{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = ${Qn.fragColor};
  `},[`${Qn.emissive}`]:{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = ${Qn.emissive};
    `},[`${Qn.roughness}`]:{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = ${Qn.roughness};
    `},[`${Qn.metalness}`]:{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = ${Qn.metalness};
    `}},Ebe={[`${Qn.position}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( ${Qn.position}, 1.0 );
  `},[`${Qn.positionRaw}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = ${Qn.position};
  `},[`${Qn.diffuseColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${Qn.diffuseColor};
  `},[`${Qn.fragColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${Qn.fragColor};
  `}},Cbe=`

#ifdef IS_VERTEX
    vec3 csm_Position = position;
    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
    vec3 csm_Normal = normal;
#else
    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL
        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);
        vec4 csm_FragColor = vec4(1., 0., 1., 1.);
    #else
        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
            vec3 csm_Emissive = emissive;
            float csm_Roughness = roughness;
            float csm_Metalness = metalness;
        #endif
        
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif
#endif
`,Sbe=(t,e,n)=>t.split(e).join(n),wbe=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},bbe=(t,e)=>new RegExp(`\\b${wbe(e)}\\b`).test(t);function Ibe(t){try{new t}catch(e){if(e.message.indexOf("is not a constructor")>=0)return!1}return!0}class Tbe extends Ur{constructor({baseMaterial:e,fragmentShader:n,vertexShader:r,uniforms:i,patchMap:s,cacheKey:o,...a}){let l;if(Ibe(e)?l=new e(a):(l=e,Object.assign(l,a)),l.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");super(),this.uniforms=i||{},this._customPatchMap=s||{},this._fs=n||"",this._vs=r||"",this._cacheKey=o,this._base=e,this._type=l.type,this._instanceID=Mc.generateUUID();for(const c in l){let u=c;c.startsWith("_")&&(u=c.split("_")[1]),this[u]===void 0&&(this[u]=0),this[u]=l[u]}this.update({fragmentShader:n,vertexShader:r,uniforms:i,cacheKey:o})}update(e){const n=(e==null?void 0:e.uniforms)||{},r=(e==null?void 0:e.fragmentShader)||this._fs,i=(e==null?void 0:e.vertexShader)||this._vs,s=Object.values(n).reduce((o,{value:a})=>o+JSON.stringify(a),"");this.uuid=(e==null||e.cacheKey==null?void 0:e.cacheKey())||xbe([r,i,s,this._instanceID]),this.generateMaterial({fragmentShader:r,vertexShader:i,uniforms:n})}clone(){const e=new this.constructor({baseMaterial:this._base,fragmentShader:this._fs,vertexShader:this._vs,patchMap:this._customPatchMap,uniforms:this.uniforms,cacheKey:this._cacheKey});for(const n in this)n!=="uuid"&&(e[n]=this[n]);return e}generateMaterial({fragmentShader:e,vertexShader:n,uniforms:r}){const i=this.parseShader(e),s=this.parseShader(n);this.uniforms=r||{},this.customProgramCacheKey=()=>this.uuid,this.onBeforeCompile=o=>{if(i){const a=this.patchShader(i,o.fragmentShader);o.fragmentShader=this.getMaterialDefine()+a}if(s){const a=this.patchShader(s,o.vertexShader);o.vertexShader=`#define IS_VERTEX;
`+a,o.vertexShader=this.getMaterialDefine()+o.vertexShader}o.uniforms={...o.uniforms,...this.uniforms},this.uniforms=o.uniforms},this.needsUpdate=!0}getMaterialDefine(){return`#define IS_${this._type.toUpperCase()};
`}getPatchMapForMaterial(){switch(this._type){case"ShaderMaterial":return Ebe;default:return _be}}patchShader(e,n){let r=n;const i={...this.getPatchMapForMaterial(),...this._customPatchMap};return Object.keys(i).forEach(s=>{Object.keys(i[s]).forEach(o=>{bbe(e.main,s)&&(r=Sbe(r,o,i[s][o]))})}),r=r.replace("void main() {",`
          ${e.header}
          void main() {
            ${Cbe}
            ${e.main}
          `),r=e.defines+r,r}parseShader(e){if(!e)return;const n=e.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),r=Rw(n),i=Pw(r),s=i.map(l=>l.name).indexOf("main"),o=W3(r.slice(0,s>=0?i[s].outer[0]:void 0)),a=s>=0?this.getShaderFromIndex(r,i[s].body):"";return{defines:"",header:o,main:a}}getShaderFromIndex(e,n){return W3(e.slice(n[0],n[1]))}}function zN(t){return typeof t=="string"?new Ue(t).convertLinearToSRGB():t}function Mbe(t){switch(t){case"alpha":return{min:0,max:1};case"scale":return{min:0};case"map":return{image:void 0};default:return{}}}function bY(t){return t instanceof K||t instanceof Se||t instanceof sn||t instanceof fs||t instanceof dt}function QN(t){return bY(t)?t.toArray():t instanceof Ue?"#"+t.clone().convertLinearToSRGB().getHexString():t instanceof qn?t.image.src:t}const Bbe={normal:"normal",add:"add",subtract:"subtract",multiply:"multiply",lighten:"lighten",darken:"darken",divide:"divide",overlay:"overlay",screen:"screen",softlight:"softlight",negation:"negation",reflect:"reflect"},IY={perlin:"perlin",simplex:"simplex",cell:"cell",curl:"curl",white:"white"},EM={local:"local",world:"world",uv:"uv"},Rbe={phong:RI,physical:Va,toon:PI,basic:vi,lambert:DI,standard:Pd};class lu{constructor(e,n,r){this.uuid=Mc.generateUUID().replace(/-/g,"_"),this.name="LayerMaterial",this.mode="normal",this.visible=!0;const s=Object.getOwnPropertyNames(e).filter(a=>a.startsWith("u_")).reduce((a,l)=>{var c;let u=(c=Object.getOwnPropertyDescriptor(e,l))==null?void 0:c.value;return(bY(u)||u instanceof Ue)&&(u=u.clone()),{...a,[l.slice(1)]:u}},{});for(const a in s){const l=a.split("_")[1];(n==null?void 0:n[l])!==void 0&&(s[a]=n[l])}n&&Object.keys(n).map(a=>{n[a]!==void 0&&(this[a]=n[a])}),this.uniforms={},this.schema=[];const o={};Object.keys(s).map(a=>{const l=a.split("_")[1];this.uniforms[`u_${this.uuid}_${l}`]={value:zN(s[a])},this.schema.push({value:s[a],label:l}),o[l]={set:c=>{this.uniforms[`u_${this.uuid}_${l}`].value=zN(c)},get:()=>this.uniforms[`u_${this.uuid}_${l}`].value}}),n!=null&&n.name&&(this.name=n.name),n!=null&&n.mode&&(this.mode=n.mode),n!=null&&n.visible&&(this.visible=n.visible),Object.defineProperties(this,o),this.vertexShader="",this.fragmentShader="",this.vertexVariables="",this.fragmentVariables="",this.onParse=r,this.buildShaders(e),this.schema.push({value:this.mode,label:"mode",options:Object.values(Bbe)}),this.schema.push({value:this.visible,label:"visible"})}buildShaders(e){var n;const r=Object.getOwnPropertyNames(e).filter(u=>u==="fragmentShader"||u==="vertexShader").reduce((u,f)=>{var h;return{...u,[f]:(h=Object.getOwnPropertyDescriptor(e,f))==null?void 0:h.value}},{}),i={vert:Rw(r.vertexShader||""),frag:Rw(r.fragmentShader||"")},s={vert:GN(i.vert,this.renameTokens.bind(this)),frag:GN(i.frag,this.renameTokens.bind(this))},o={vert:Pw(s.vert),frag:Pw(s.frag)},a={vert:o.vert.map(u=>u.name).indexOf("main"),frag:o.frag.map(u=>u.name).indexOf("main")},l={vert:a.vert>=0?W3(s.vert.slice(0,o.vert[a.vert].outer[0])):"",frag:a.frag>=0?W3(s.frag.slice(0,o.frag[a.frag].outer[0])):""},c={vert:a.vert>=0?this.getShaderFromIndex(s.vert,o.vert[a.vert].body):"",frag:a.frag>=0?this.getShaderFromIndex(s.frag,o.frag[a.frag].body):""};this.vertexShader=this.processFinal(c.vert,!0),this.fragmentShader=this.processFinal(c.frag),this.vertexVariables=l.vert,this.fragmentVariables=l.frag,(n=this.onParse)==null||n.call(this,this),this.schema=this.schema.filter((u,f)=>{const h=u.label;return f===this.schema.findIndex(d=>d.label===h)})}renameTokens(e){if(e.startsWith("u_")){const n=e.slice(2);return`u_${this.uuid}_${n}`}else if(e.startsWith("v_")){const n=e.slice(2);return`v_${this.uuid}_${n}`}else if(e.startsWith("f_")){const n=e.slice(2);return`f_${this.uuid}_${n}`}else return e}processFinal(e,n){const r=e.replace(/\sf_/gm,` f_${this.uuid}_`).replace(/\(f_/gm,`(f_${this.uuid}_`),i=r.match(/^.*return.*$/gm);let s=r.replace(/^.*return.*$/gm,"");if(i!=null&&i[0]){const o=i[0].replace("return","").trim().replace(";",""),a=this.getBlendMode(o,"lamina_finalColor");s+=n?`lamina_finalPosition = ${o};`:`lamina_finalColor = ${a};`}return s}getShaderFromIndex(e,n){return W3(e.slice(n[0],n[1]))}getBlendMode(e,n){switch(this.mode){default:case"normal":return`lamina_blend_alpha(${n}, ${e}, ${e}.a)`;case"add":return`lamina_blend_add(${n}, ${e}, ${e}.a)`;case"subtract":return`lamina_blend_subtract(${n}, ${e}, ${e}.a)`;case"multiply":return`lamina_blend_multiply(${n}, ${e}, ${e}.a)`;case"lighten":return`lamina_blend_lighten(${n}, ${e}, ${e}.a)`;case"darken":return`lamina_blend_darken(${n}, ${e}, ${e}.a)`;case"divide":return`lamina_blend_divide(${n}, ${e}, ${e}.a)`;case"overlay":return`lamina_blend_overlay(${n}, ${e}, ${e}.a)`;case"screen":return`lamina_blend_screen(${n}, ${e}, ${e}.a)`;case"softlight":return`lamina_blend_softlight(${n}, ${e}, ${e}.a)`;case"reflect":return`lamina_blend_reflect(${n}, ${e}, ${e}.a)`;case"negation":return`lamina_blend_negation(${n}, ${e}, ${e}.a)`}}getSchema(){return this.schema.map(({label:n,options:r,...i})=>({label:n,options:r,...Mbe(n),...i,value:QN(this[n])}))}serialize(){const e=this.constructor.name.split("$")[0];let n=Object.keys(this);n=n.filter(s=>!["uuid","uniforms","schema","fragmentShader","vertexShader","fragmentVariables","vertexVariables","attribs","events","__r3f","onParse"].includes(s));const r={};n.forEach(s=>{r[s]=this[s]});const i={};for(const s in this.uniforms){const o=s.replace(`u_${this.uuid}_`,"");i[o]=QN(this.uniforms[s].value)}return{constructor:e,properties:{...i,...r}}}}class aa extends lu{constructor(e){super(aa,{name:"Depth",...e},n=>{n.schema.push({value:n.mapping,label:"mapping",options:["vector","world","camera"]});const r=aa.getMapping(n.uuid,n.mapping);n.fragmentShader=n.fragmentShader.replace("lamina_mapping_template",r)}),this.mapping="vector"}static getMapping(e,n){switch(n){default:case"vector":return`length(v_${e}_worldPosition - u_${e}_origin)`;case"world":return`length(v_${e}_position - vec3(0.))`;case"camera":return`length(v_${e}_worldPosition - cameraPosition)`}}}aa.u_near=2;aa.u_far=10;aa.u_origin=new K(0,0,0);aa.u_colorA="white";aa.u_colorB="black";aa.u_alpha=1;aa.vertexShader=`
  varying vec3 v_worldPosition;
  varying vec3 v_position;

  void main() {
    v_worldPosition = (vec4(position, 1.0) * modelMatrix).xyz;
    v_position = position;
  }
  `;aa.fragmentShader=`   
    uniform float u_alpha;
    uniform float u_near;
    uniform float u_far;
    uniform float u_isVector;
    uniform vec3 u_origin;
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;

    varying vec3 v_worldPosition;
    varying vec3 v_position;

    void main() {
      float f_dist = lamina_mapping_template;
      float f_depth = (f_dist - u_near) / (u_far - u_near);
			vec3 f_depthColor =  mix(u_colorB, u_colorA, 1.0 - clamp(f_depth, 0., 1.));
  
  
      return vec4(f_depthColor, u_alpha);
    }
  `;class Jm extends lu{constructor(e){super(Jm,{name:"Color",...e})}}Jm.u_color="red";Jm.u_alpha=1;Jm.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;

    void main() {
      return vec4(u_color, u_alpha);
    }
  `;class Os extends lu{constructor(e){super(Os,{name:"noise",...e},n=>{n.schema.push({value:n.type,label:"type",options:Object.values(IY)}),n.schema.push({value:n.mapping,label:"mapping",options:Object.values(EM)});const r=Os.getNoiseFunction(n.type),i=Os.getMapping(n.mapping);n.vertexShader=n.vertexShader.replace("lamina_mapping_template",i),n.fragmentShader=n.fragmentShader.replace("lamina_noise_template",r)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}Os.u_colorA="#666666";Os.u_colorB="#666666";Os.u_colorC="#FFFFFF";Os.u_colorD="#FFFFFF";Os.u_alpha=1;Os.u_scale=1;Os.u_offset=new K(0,0,0);Os.vertexShader=`
    varying vec3 v_position;

    void main() {
        v_position = lamina_mapping_template;
    }
  `;Os.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_colorC;
    uniform vec3 u_colorD;
    uniform vec3 u_offset;

    uniform float u_alpha;
    uniform float u_scale;

    varying vec3 v_position;


    void main() {
        float f_n = lamina_noise_template((v_position + u_offset) * u_scale);

        float f_step1 = 0.;
        float f_step2 = 0.2;
        float f_step3 = 0.6;
        float f_step4 = 1.;

        vec3 f_color = mix(u_colorA, u_colorB, smoothstep(f_step1, f_step2, f_n));
        f_color = mix(f_color, u_colorC, smoothstep(f_step2, f_step3, f_n));
        f_color = mix(f_color, u_colorD, smoothstep(f_step3, f_step4, f_n));

        return vec4(f_color, u_alpha);
    }
  `;class qa extends lu{constructor(e){super(qa,{name:"Fresnel",...e})}}qa.u_color="white";qa.u_alpha=1;qa.u_bias=0;qa.u_intensity=1;qa.u_power=2;qa.u_factor=1;qa.vertexShader=`
    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        v_worldPosition = vec3(-viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2]);
        v_worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );
        
    }
  `;qa.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;
    uniform float u_bias;
    uniform float u_intensity;
    uniform float u_power;
    uniform float u_factor;

    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        float f_a = (u_factor  + dot(v_worldPosition, v_worldNormal));
        float f_fresnel = u_bias + u_intensity * pow(abs(f_a), u_power);

        f_fresnel = clamp(f_fresnel, 0.0, 1.0);
        return vec4(f_fresnel * u_color, u_alpha);
    }
  `;class la extends lu{constructor(e){super(la,{name:"Gradient",...e},n=>{n.schema.push({value:n.axes,label:"axes",options:["x","y","z"]}),n.schema.push({value:n.mapping,label:"mapping",options:Object.values(EM)});const r=la.getMapping(n.mapping);n.vertexShader=n.vertexShader.replace("lamina_mapping_template",r||"local"),n.fragmentShader=n.fragmentShader.replace("axes_template",n.axes||"x")}),this.axes="x",this.mapping="local"}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}la.u_colorA="white";la.u_colorB="black";la.u_alpha=1;la.u_start=1;la.u_end=-1;la.u_contrast=1;la.vertexShader=`
		varying vec3 v_position;

		vod main() {
      v_position = lamina_mapping_template;
		}
  `;la.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_axis;
    uniform float u_alpha;
    uniform float u_start;
    uniform float u_end;
    uniform float u_contrast;

		varying vec3 v_position;

    void main() {

      float f_step = smoothstep(u_start, u_end, v_position.axes_template * u_contrast);
      vec3 f_color = mix(u_colorA, u_colorB, f_step);

      return vec4(f_color, u_alpha);
    }
  `;class Qd extends lu{constructor(e){super(Qd,{name:"Matcap",...e})}}Qd.u_alpha=1;Qd.u_map=void 0;Qd.vertexShader=`
    varying vec3 v_position;
    varying vec3 v_normal;
    
    void main() {
      v_position = normalize( vec3( modelViewMatrix * vec4( position, 1.0 ) ) );
      v_normal = normalize( normalMatrix * normal );
    }
    `;Qd.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec3 v_position;
		varying vec3 v_normal;

		
    void main() {
			vec3 f_r = reflect( v_position, v_normal );
			float f_m = 2. * sqrt( pow( f_r.x, 2. ) + pow( f_r.y, 2. ) + pow( f_r.z + 1., 2. ) );
			vec2 f_vN = f_r.xy / f_m + .5;

			vec3 f_base = texture2D(u_map, f_vN).rgb;

      return vec4(f_base, u_alpha);
    }
  `;class Hd extends lu{constructor(e){super(Hd,{name:"Texture",...e})}}Hd.u_alpha=1;Hd.u_map=void 0;Hd.vertexShader=`
    varying vec2 v_uv;
    
    void main() {
        v_uv = uv;
    }
    `;Hd.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec2 v_uv;

    void main() {
			vec4 f_color = texture2D(u_map, v_uv);
      return vec4(f_color.rgb, f_color.a * u_alpha);
    }
  `;class Pc extends lu{constructor(e){super(Pc,{name:"Displace",...e},n=>{n.schema.push({value:n.type,label:"type",options:Object.values(IY)}),n.schema.push({value:n.mapping,label:"mapping",options:Object.values(EM)});const r=Pc.getNoiseFunction(n.type),i=Pc.getMapping(n.mapping);n.vertexVariables=n.vertexVariables.replace("lamina_mapping_template",i),n.vertexVariables=n.vertexVariables.replace("lamina_noise_template",r)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"p";case"world":return"(modelMatrix * vec4(p,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}Pc.u_strength=1;Pc.u_scale=1;Pc.u_offset=new K(0,0,0);Pc.vertexShader=`
       
      uniform float u_strength;
      uniform float u_scale;
      uniform vec3 u_offset;

      vec3 displace(vec3 p) {
				vec3 f_position = lamina_mapping_template;
        float f_n = lamina_noise_template((f_position + u_offset) * u_scale) * u_strength;
        vec3 f_newPosition = p + (f_n * normal);

				return f_newPosition;
      }

      
			vec3 orthogonal(vec3 v) {
  		  return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)
  		  : vec3(0.0, -v.z, v.y));
  		}
  		vec3 recalcNormals(vec3 newPos) {
  		  float offset = 0.001;
  		  vec3 tangent = orthogonal(normal);
  		  vec3 bitangent = normalize(cross(normal, tangent));
  		  vec3 neighbour1 = position + tangent * offset;
  		  vec3 neighbour2 = position + bitangent * offset;
  		  vec3 displacedNeighbour1 = displace(neighbour1);
  		  vec3 displacedNeighbour2 = displace(neighbour2);
  		  vec3 displacedTangent = displacedNeighbour1 - newPos;
  		  vec3 displacedBitangent = displacedNeighbour2 - newPos;
  		  return normalize(cross(displacedTangent, displacedBitangent));
  		}
  
  
      void main() {
       
				vec3 f_newPosition = displace(position);
        lamina_finalNormal = recalcNormals(f_newPosition);

        return f_newPosition;
      }
    `;class Vd extends lu{constructor(e){super(Vd,{name:"Normal",...e})}}Vd.u_alpha=1;Vd.u_direction=new K(1,1,1);Vd.vertexShader=`   
  varying vec3 v_normals; 

  void main() {
    v_normals = normal;
  }
`;Vd.fragmentShader=`   
  	uniform float u_alpha;
  	uniform vec3 u_color;
  	uniform vec3 u_direction;

		varying vec3 v_normals;

    void main() {
			vec3 f_normalColor = vec3(1.);
      f_normalColor.x = v_normals.x * u_direction.x;
      f_normalColor.y = v_normals.y * u_direction.y;
      f_normalColor.z = v_normals.z * u_direction.z;

      return vec4(f_normalColor, u_alpha);
    }
  `;var Pbe=`
vec4 lamina_blend_add(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz + y.xyz, 1.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec3 lamina_blend_alpha(const in vec3 x, const in vec3 y, const in float opacity) {

	return y * opacity + x * (1.0 - opacity);

}

vec4 lamina_blend_alpha(const in vec4 x, const in vec4 y, const in float opacity) {

	float a = min(y.a, opacity);

	return vec4(lamina_blend_alpha(x.rgb, y.rgb, a), x.a);

}
vec4 lamina_blend_average(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz) * 0.5 * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_burn(const in float x, const in float y) {

	return (y == 0.0) ? y : max(1.0 - (1.0 - x) / y, 0.0);

}

vec4 lamina_blend_color_burn(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_burn(x.r, y.r),
		lamina_blend_color_burn(x.g, y.g),
		lamina_blend_color_burn(x.b, y.b),
		lamina_blend_color_burn(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_dodge(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x / (1.0 - y), 1.0);

}

vec4 lamina_blend_color_dodge(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_dodge(x.r, y.r),
		lamina_blend_color_dodge(x.g, y.g),
		lamina_blend_color_dodge(x.b, y.b),
		lamina_blend_color_dodge(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_darken(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_difference(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(abs(x.xyz - y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_divide(const in float x, const in float y) {

	return (y > 0.0) ? min(x / y, 1.0) : 1.0;

}

vec4 lamina_blend_divide(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_divide(x.r, y.r),
		lamina_blend_divide(x.g, y.g),
		lamina_blend_divide(x.b, y.b),
		lamina_blend_divide(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_exclusion(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz - 2.0 * x.xyz * y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_lighten(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_multiply(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4( x.xyz * y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_negation(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - abs(1.0 - x.xyz - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_normal(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_overlay(const in float x, const in float y) {

	return (x < 0.5) ? (2.0 * x * y) : (1.0 - 2.0 * (1.0 - x) * (1.0 - y));

}

vec4 lamina_blend_overlay(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_overlay(x.r, y.r),
		lamina_blend_overlay(x.g, y.g),
		lamina_blend_overlay(x.b, y.b),
		lamina_blend_overlay(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_reflect(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x * x / (1.0 - y), 1.0);

}

vec4 lamina_blend_reflect(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_reflect(x.r, y.r),
		lamina_blend_reflect(x.g, y.g),
		lamina_blend_reflect(x.b, y.b),
		lamina_blend_reflect(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_screen(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - (1.0 - x.xyz) * (1.0 - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_softlight(const in float x, const in float y) {

	return (y < 0.5) ?
		(2.0 * x * y + x * x * (1.0 - 2.0 * y)) :
		(sqrt(x) * (2.0 * y - 1.0) + 2.0 * x * (1.0 - y));

}

vec4 lamina_blend_softlight(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_softlight(x.r, y.r),
		lamina_blend_softlight(x.g, y.g),
		lamina_blend_softlight(x.b, y.b),
		lamina_blend_softlight(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_subtract(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz + y.xyz - 1.0, 0.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}

`,HN=`

// From: https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83
// Huge thanks to the creators of these algorithms

float lamina_noise_mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_perm(vec4 x){return lamina_noise_mod289(((x * 34.0) + 1.0) * x);}
vec4 lamina_noise_permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }
vec4 lamina_noise_taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }


float lamina_noise_white(vec2 p) {
  return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) *
               (0.1 + abs(sin(p.y * 13.0 + p.x))));
}

float lamina_noise_white(vec3 p) {
  return lamina_noise_white(p.xy);
}


vec3 lamina_noise_fade(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }

float lamina_noise_perlin(vec3 P) {
  vec3 Pi0 = floor(P);        // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);        // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = lamina_noise_permute(lamina_noise_permute(ix) + iy);
  vec4 ixy0 = lamina_noise_permute(ixy + iz0);
  vec4 ixy1 = lamina_noise_permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
  vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
  vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
  vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
  vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
  vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
  vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
  vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);

  vec4 norm0 = lamina_noise_taylorInvSqrt(
      vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = lamina_noise_taylorInvSqrt(
      vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = lamina_noise_fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),
                 fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return lamina_normalize(2.2 * n_xyz);
}

float lamina_noise_simplex(vec3 v) {
  const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);
  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i = floor(v + dot(v, C.yyy));
  vec3 x0 = v - i + dot(i, C.xxx);

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min(g.xyz, l.zxy);
  vec3 i2 = max(g.xyz, l.zxy);

  //  x0 = x0 - 0. + 0.0 * C
  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
  vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
  i = mod(i, 289.0);
  vec4 p = lamina_noise_permute(lamina_noise_permute(lamina_noise_permute(i.z + vec4(0.0, i1.z, i2.z, 1.0)) + i.y +
                             vec4(0.0, i1.y, i2.y, 1.0)) +
                    i.x + vec4(0.0, i1.x, i2.x, 1.0));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
  float n_ = 1.0 / 7.0; // N=7
  vec3 ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z); //  mod(p,N*N)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)

  vec4 x = x_ * ns.x + ns.yyyy;
  vec4 y = y_ * ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4(x.xy, y.xy);
  vec4 b1 = vec4(x.zw, y.zw);

  vec4 s0 = floor(b0) * 2.0 + 1.0;
  vec4 s1 = floor(b1) * 2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;
  vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;

  vec3 p0 = vec3(a0.xy, h.x);
  vec3 p1 = vec3(a0.zw, h.y);
  vec3 p2 = vec3(a1.xy, h.z);
  vec3 p3 = vec3(a1.zw, h.w);

  // Normalise gradients
  vec4 norm =
      lamina_noise_taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m =
      max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);
  m = m * m;
  return lamina_normalize(42.0 *
         dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3))));
}

vec3 lamina_noise_simplex3(vec3 x) {
  float s = lamina_noise_simplex(vec3(x));
  float s1 = lamina_noise_simplex(vec3(x.y - 19.1, x.z + 33.4, x.x + 47.2));
  float s2 = lamina_noise_simplex(vec3(x.z + 74.2, x.x - 124.5, x.y + 99.4));
  vec3 c = vec3(s, s1, s2);
  return c;
}

vec3 lamina_noise_curl(vec3 p) {
  const float e = .1;
  vec3 dx = vec3(e, 0.0, 0.0);
  vec3 dy = vec3(0.0, e, 0.0);
  vec3 dz = vec3(0.0, 0.0, e);

  vec3 p_x0 = lamina_noise_simplex3(p - dx);
  vec3 p_x1 = lamina_noise_simplex3(p + dx);
  vec3 p_y0 = lamina_noise_simplex3(p - dy);
  vec3 p_y1 = lamina_noise_simplex3(p + dy);
  vec3 p_z0 = lamina_noise_simplex3(p - dz);
  vec3 p_z1 = lamina_noise_simplex3(p + dz);

  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;

  const float divisor = 1.0 / (2.0 * e);
  return normalize(vec3(x, y, z) * divisor);
}

vec3 lamina_permute(vec3 x) {
  return mod((34.0 * x + 1.0) * x, 289.0);
}

vec3 lamina_dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {
  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);
}

// From: https://github.com/Erkaman/glsl-worley
float lamina_noise_worley(vec3 P) {
  float jitter = 1.;
  bool manhattanDistance = false; 

  float K = 0.142857142857; // 1/7
  float Ko = 0.428571428571; // 1/2-K/2
  float  K2 = 0.020408163265306; // 1/(7*7)
  float Kz = 0.166666666667; // 1/6
  float Kzo = 0.416666666667; // 1/2-1/6*2

	vec3 Pi = mod(floor(P), 289.0);
 	vec3 Pf = fract(P) - 0.5;

	vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);
	vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);
	vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);

	vec3 p = lamina_permute(Pi.x + vec3(-1.0, 0.0, 1.0));
	vec3 p1 = lamina_permute(p + Pi.y - 1.0);
	vec3 p2 = lamina_permute(p + Pi.y);
	vec3 p3 = lamina_permute(p + Pi.y + 1.0);

	vec3 p11 = lamina_permute(p1 + Pi.z - 1.0);
	vec3 p12 = lamina_permute(p1 + Pi.z);
	vec3 p13 = lamina_permute(p1 + Pi.z + 1.0);

	vec3 p21 = lamina_permute(p2 + Pi.z - 1.0);
	vec3 p22 = lamina_permute(p2 + Pi.z);
	vec3 p23 = lamina_permute(p2 + Pi.z + 1.0);

	vec3 p31 = lamina_permute(p3 + Pi.z - 1.0);
	vec3 p32 = lamina_permute(p3 + Pi.z);
	vec3 p33 = lamina_permute(p3 + Pi.z + 1.0);

	vec3 ox11 = fract(p11*K) - Ko;
	vec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;
	vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed

	vec3 ox12 = fract(p12*K) - Ko;
	vec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;
	vec3 oz12 = floor(p12*K2)*Kz - Kzo;

	vec3 ox13 = fract(p13*K) - Ko;
	vec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;
	vec3 oz13 = floor(p13*K2)*Kz - Kzo;

	vec3 ox21 = fract(p21*K) - Ko;
	vec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;
	vec3 oz21 = floor(p21*K2)*Kz - Kzo;

	vec3 ox22 = fract(p22*K) - Ko;
	vec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;
	vec3 oz22 = floor(p22*K2)*Kz - Kzo;

	vec3 ox23 = fract(p23*K) - Ko;
	vec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;
	vec3 oz23 = floor(p23*K2)*Kz - Kzo;

	vec3 ox31 = fract(p31*K) - Ko;
	vec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;
	vec3 oz31 = floor(p31*K2)*Kz - Kzo;

	vec3 ox32 = fract(p32*K) - Ko;
	vec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;
	vec3 oz32 = floor(p32*K2)*Kz - Kzo;

	vec3 ox33 = fract(p33*K) - Ko;
	vec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;
	vec3 oz33 = floor(p33*K2)*Kz - Kzo;

	vec3 dx11 = Pfx + jitter*ox11;
	vec3 dy11 = Pfy.x + jitter*oy11;
	vec3 dz11 = Pfz.x + jitter*oz11;

	vec3 dx12 = Pfx + jitter*ox12;
	vec3 dy12 = Pfy.x + jitter*oy12;
	vec3 dz12 = Pfz.y + jitter*oz12;

	vec3 dx13 = Pfx + jitter*ox13;
	vec3 dy13 = Pfy.x + jitter*oy13;
	vec3 dz13 = Pfz.z + jitter*oz13;

	vec3 dx21 = Pfx + jitter*ox21;
	vec3 dy21 = Pfy.y + jitter*oy21;
	vec3 dz21 = Pfz.x + jitter*oz21;

	vec3 dx22 = Pfx + jitter*ox22;
	vec3 dy22 = Pfy.y + jitter*oy22;
	vec3 dz22 = Pfz.y + jitter*oz22;

	vec3 dx23 = Pfx + jitter*ox23;
	vec3 dy23 = Pfy.y + jitter*oy23;
	vec3 dz23 = Pfz.z + jitter*oz23;

	vec3 dx31 = Pfx + jitter*ox31;
	vec3 dy31 = Pfy.z + jitter*oy31;
	vec3 dz31 = Pfz.x + jitter*oz31;

	vec3 dx32 = Pfx + jitter*ox32;
	vec3 dy32 = Pfy.z + jitter*oy32;
	vec3 dz32 = Pfz.y + jitter*oz32;

	vec3 dx33 = Pfx + jitter*ox33;
	vec3 dy33 = Pfy.z + jitter*oy33;
	vec3 dz33 = Pfz.z + jitter*oz33;

	vec3 d11 = lamina_dist(dx11, dy11, dz11, manhattanDistance);
	vec3 d12 = lamina_dist(dx12, dy12, dz12, manhattanDistance);
	vec3 d13 = lamina_dist(dx13, dy13, dz13, manhattanDistance);
	vec3 d21 = lamina_dist(dx21, dy21, dz21, manhattanDistance);
	vec3 d22 = lamina_dist(dx22, dy22, dz22, manhattanDistance);
	vec3 d23 = lamina_dist(dx23, dy23, dz23, manhattanDistance);
	vec3 d31 = lamina_dist(dx31, dy31, dz31, manhattanDistance);
	vec3 d32 = lamina_dist(dx32, dy32, dz32, manhattanDistance);
	vec3 d33 = lamina_dist(dx33, dy33, dz33, manhattanDistance);

	vec3 d1a = min(d11, d12);
	d12 = max(d11, d12);
	d11 = min(d1a, d13); // Smallest now not in d12 or d13
	d13 = max(d1a, d13);
	d12 = min(d12, d13); // 2nd smallest now not in d13
	vec3 d2a = min(d21, d22);
	d22 = max(d21, d22);
	d21 = min(d2a, d23); // Smallest now not in d22 or d23
	d23 = max(d2a, d23);
	d22 = min(d22, d23); // 2nd smallest now not in d23
	vec3 d3a = min(d31, d32);
	d32 = max(d31, d32);
	d31 = min(d3a, d33); // Smallest now not in d32 or d33
	d33 = max(d3a, d33);
	d32 = min(d32, d33); // 2nd smallest now not in d33
	vec3 da = min(d11, d21);
	d21 = max(d11, d21);
	d11 = min(da, d31); // Smallest now in d11
	d31 = max(da, d31); // 2nd smallest now not in d31
	d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;
	d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest
	d12 = min(d12, d21); // 2nd smallest now not in d21
	d12 = min(d12, d22); // nor in d22
	d12 = min(d12, d31); // nor in d31
	d12 = min(d12, d32); // nor in d32
	d11.yz = min(d11.yz,d12.xy); // nor in d12.yz
	d11.y = min(d11.y,d12.z); // Only two more to go
	d11.y = min(d11.y,d11.z); // Done! (Phew!)

  vec2 F = sqrt(d11.xy);
	return F.x; // F1, F2

}

float lamina_noise_swirl(vec3 position) {
    float scale = 0.1;
    float freq = 4. * scale;
    float t = 1.;

    vec3 pos = (position * scale) + lamina_noise_curl(position * 7. * scale);

    float worley1 = 1. - lamina_noise_worley((pos * (freq * 2.)) +  (t * 2.));
    float worley2 = 1. - lamina_noise_worley((pos * (freq * 4.)) +  (t * 4.));
    float worley3 = 1. - lamina_noise_worley((pos * (freq * 8.)) +  (t * 8.));
    float worley4 = 1. - lamina_noise_worley((pos * (freq * 16.)) +  (t * 16.));
    
    float fbm1 = worley1 * .625 + worley2 * .25 + worley3 * .125;
    float fbm2 = worley2 * .625 + worley3 * .25 + worley4 * .125;
    float fbm3 = worley3 * .75 + worley4 * .25;

    vec3 curlWorleyFbm = vec3(fbm1, fbm2, fbm3);
    float curlWorley = curlWorleyFbm.r * .625 + curlWorleyFbm.g * .25 + 
        curlWorleyFbm.b * .125;

    return curlWorley;
}
  
  
`,VN=`

float lamina_map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float lamina_normalize(float v) { return lamina_map(v, -1.0, 1.0, 0.0, 1.0); }
`;class TY extends Tbe{constructor({color:e,alpha:n,lighting:r,layers:i,name:s,...o}={}){super({baseMaterial:Rbe[r||"basic"],...o}),this.name="LayerMaterial",this.layers=[],this.lighting="basic";const a=e||"white",l=n??1;this.uniforms={u_lamina_color:{value:typeof a=="string"?new Ue(a).convertSRGBToLinear():a},u_lamina_alpha:{value:l}},this.layers=i||this.layers,this.lighting=r||this.lighting,this.name=s||this.name,this.refresh()}genShaders(){let e="",n="",r="",i="",s={};return this.layers.filter(o=>o.visible).forEach(o=>{e+=o.vertexVariables+`
`,n+=o.fragmentVariables+`
`,r+=o.vertexShader+`
`,i+=o.fragmentShader+`
`,s={...s,...o.uniforms}}),s={...s,...this.uniforms},{uniforms:s,vertexShader:`
        ${VN}
        ${HN}
        ${e}

        void main() {
          vec3 lamina_finalPosition = position;
          vec3 lamina_finalNormal = normal;

          ${r}

          csm_Position = lamina_finalPosition;
          csm_Normal = lamina_finalNormal;
        }
        `,fragmentShader:`
        ${VN}
        ${HN}
        ${Pbe}
        ${n}

        uniform vec3 u_lamina_color;
        uniform float u_lamina_alpha;

        void main() {
          vec4 lamina_finalColor = vec4(u_lamina_color, u_lamina_alpha);

          ${i}

          csm_DiffuseColor = lamina_finalColor;
         
        }
        `}}refresh(){const{uniforms:e,fragmentShader:n,vertexShader:r}=this.genShaders();super.update({fragmentShader:n,vertexShader:r,uniforms:e})}serialize(){return{constructor:"LayerMaterial",properties:{color:this.color,alpha:this.alpha,name:this.name,lighting:this.lighting}}}set color(e){var n,r;(n=this.uniforms)!=null&&(r=n.u_lamina_color)!=null&&r.value&&(this.uniforms.u_lamina_color.value=typeof e=="string"?new Ue(e).convertSRGBToLinear():e)}get color(){var e,n;return(e=this.uniforms)==null||(n=e.u_lamina_color)==null?void 0:n.value}set alpha(e){this.uniforms.u_lamina_alpha.value=e}get alpha(){return this.uniforms.u_lamina_alpha.value}}R8({LayerMaterial:TY});R8({LayerMaterial:TY,Depth_:aa,Color_:Jm,Noise_:Os,Fresnel_:qa,Gradient_:la,Matcap_:Qd,Texture_:Hd,Displace_:Pc,Normal_:Vd});const Dbe=()=>{const t=D.useRef({colorA:"#ff00d4",colorB:"#00ddff"}),e=D.useRef(),n=D.useRef();return Fd(()=>{e.current&&(e.current.colorA=new Ue(t.current.colorA),e.current.colorB=new Ue(t.current.colorB),n.current.colorA=new Ue(t.current.colorA),n.current.colorB=new Ue(t.current.colorB))}),hx("Background",{idx:8}),Ke(N4e,{files:"https://cdn.jsdelivr.net/gh/Sean-Bradley/React-Three-Fiber-Boilerplate@environment/public/img/venice_sunset_1k.hdr"})},B0={sections:4,pages:4,zoom:1,top:D.createRef()};var Dw=new Map,a5=new WeakMap,$N=0,Lbe=void 0;function kbe(t){return t?(a5.has(t)||($N+=1,a5.set(t,$N.toString())),a5.get(t)):"0"}function Fbe(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?kbe(t.root):t[e]}`).toString()}function Obe(t){let e=Fbe(t),n=Dw.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const c=a.isIntersecting&&i.some(u=>a.intersectionRatio>=u);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=r.get(a.target))==null||l.forEach(u=>{u(c,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},Dw.set(e,n)}return n}function Nbe(t,e,n={},r=Lbe){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=Obe(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),Dw.delete(i))}}function mm({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:c}={}){var u;const[f,h]=D.useState(null),d=D.useRef(),[m,A]=D.useState({inView:!!a,entry:void 0});d.current=c,D.useEffect(()=>{if(o||!f)return;let x;return x=Nbe(f,(E,b)=>{A({inView:E,entry:b}),d.current&&d.current(E,b),b.isIntersecting&&s&&x&&(x(),x=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{x&&x()}},[Array.isArray(t)?t.toString():t,f,i,r,s,o,n,l,e]);const v=(u=m.entry)==null?void 0:u.target,y=D.useRef();!f&&v&&!s&&!o&&y.current!==v&&(y.current=v,A({inView:!!a,entry:void 0}));const _=[h,m.inView,m.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}function Ube(t,e,n){return t*(1-n)+e*n}var Gbe=Ube;const zbe=ca(Gbe),CM=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),dx=D.createContext({}),SM=D.createContext(null),px=typeof document<"u",Qbe=px?D.useLayoutEffect:D.useEffect,MY=D.createContext({strict:!1});function Hbe(t,e,n,r){const{visualElement:i}=D.useContext(dx),s=D.useContext(MY),o=D.useContext(SM),a=D.useContext(CM).reducedMotion,l=D.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;D.useInsertionEffect(()=>{c&&c.update(n,o)});const u=D.useRef(!!window.HandoffAppearAnimations);return Qbe(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),D.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function u0(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vbe(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):u0(n)&&(n.current=r))},[e])}function u2(t){return typeof t=="string"||Array.isArray(t)}function mx(t){return typeof t=="object"&&typeof t.start=="function"}const wM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bM=["initial",...wM];function gx(t){return mx(t.animate)||bM.some(e=>u2(t[e]))}function BY(t){return!!(gx(t)||t.variants)}function $be(t,e){if(gx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||u2(n)?n:void 0,animate:u2(r)?r:void 0}}return t.inherit!==!1?e:{}}function Wbe(t){const{initial:e,animate:n}=$be(t,D.useContext(dx));return D.useMemo(()=>({initial:e,animate:n}),[WN(e),WN(n)])}function WN(t){return Array.isArray(t)?t.join(" "):t}const jN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},f2={};for(const t in jN)f2[t]={isEnabled:e=>jN[t].some(n=>!!e[n])};function jbe(t){for(const e in t)f2[e]={...f2[e],...t[e]}}const RY=D.createContext({}),PY=D.createContext({}),Kbe=Symbol.for("motionComponentSymbol");function Jbe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&jbe(t);function s(a,l){let c;const u={...D.useContext(CM),...a,layoutId:Ybe(a)},{isStatic:f}=u,h=Wbe(a),d=r(a,f);if(!f&&px){h.visualElement=Hbe(i,d,u,e);const m=D.useContext(PY),A=D.useContext(MY).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,A,t,m))}return D.createElement(dx.Provider,{value:h},c&&h.visualElement?D.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,Vbe(d,h.visualElement,l),d,f,h.visualElement))}const o=D.forwardRef(s);return o[Kbe]=i,o}function Ybe({layoutId:t}){const e=D.useContext(RY).id;return e&&t!==void 0?e+"-"+t:t}function Xbe(t){function e(r,i={}){return Jbe(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const qbe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IM(t){return typeof t!="string"||t.includes("-")?!1:!!(qbe.indexOf(t)>-1||/[A-Z]/.test(t))}const E4={};function Zbe(t){Object.assign(E4,t)}const wA=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$d=new Set(wA);function DY(t,{layout:e,layoutId:n}){return $d.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!E4[t]||t==="opacity")}const Xi=t=>!!(t&&t.getVelocity),eIe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tIe=wA.length;function nIe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<tIe;o++){const a=wA[o];if(t[a]!==void 0){const l=eIe[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const LY=t=>e=>typeof e=="string"&&e.startsWith(t),kY=LY("--"),Lw=LY("var(--"),rIe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,iIe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nf=(t,e,n)=>Math.min(Math.max(n,t),e),Wd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},j3={...Wd,transform:t=>Nf(0,1,t)},l5={...Wd,default:1},K3=t=>Math.round(t*1e5)/1e5,Ax=/(-)?([\d]*\.?[\d])+/g,FY=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sIe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bA(t){return typeof t=="string"}const IA=t=>({test:e=>bA(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fu=IA("deg"),Ll=IA("%"),kt=IA("px"),oIe=IA("vh"),aIe=IA("vw"),KN={...Ll,parse:t=>Ll.parse(t)/100,transform:t=>Ll.transform(t*100)},JN={...Wd,transform:Math.round},OY={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,size:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,rotate:Fu,rotateX:Fu,rotateY:Fu,rotateZ:Fu,scale:l5,scaleX:l5,scaleY:l5,scaleZ:l5,skew:Fu,skewX:Fu,skewY:Fu,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:j3,originX:KN,originY:KN,originZ:kt,zIndex:JN,fillOpacity:j3,strokeOpacity:j3,numOctaves:JN};function TM(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(kY(f)){s[f]=h;continue}const d=OY[f],m=iIe(h,d);if($d.has(f)){if(l=!0,o[f]=m,!u)continue;h!==(d.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=m):i[f]=m}if(e.transform||(l||r?i.transform=nIe(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:d=0}=a;i.transformOrigin=`${f} ${h} ${d}`}}const MM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NY(t,e,n){for(const r in e)!Xi(e[r])&&!DY(r,n)&&(t[r]=e[r])}function lIe({transformTemplate:t},e,n){return D.useMemo(()=>{const r=MM();return TM(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function cIe(t,e,n){const r=t.style||{},i={};return NY(i,r,t),Object.assign(i,lIe(t,e,n)),t.transformValues?t.transformValues(i):i}function uIe(t,e,n){const r={},i=cIe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const fIe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function C4(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||fIe.has(t)}let UY=t=>!C4(t);function hIe(t){t&&(UY=e=>e.startsWith("on")?!C4(e):t(e))}try{hIe(require("@emotion/is-prop-valid").default)}catch{}function dIe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UY(i)||n===!0&&C4(i)||!e&&!C4(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function YN(t,e,n){return typeof t=="string"?t:kt.transform(e+n*t)}function pIe(t,e,n){const r=YN(e,t.x,t.width),i=YN(n,t.y,t.height);return`${r} ${i}`}const mIe={offset:"stroke-dashoffset",array:"stroke-dasharray"},gIe={offset:"strokeDashoffset",array:"strokeDasharray"};function AIe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?mIe:gIe;t[s.offset]=kt.transform(-r);const o=kt.transform(e),a=kt.transform(n);t[s.array]=`${o} ${a}`}function BM(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,h){if(TM(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m,dimensions:A}=t;d.transform&&(A&&(m.transform=d.transform),delete d.transform),A&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=pIe(A,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&AIe(d,o,a,l,!1)}const GY=()=>({...MM(),attrs:{}}),RM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vIe(t,e,n,r){const i=D.useMemo(()=>{const s=GY();return BM(s,e,{enableHardwareAcceleration:!1},RM(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};NY(s,t.style,t),i.style={...s,...i.style}}return i}function yIe(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(IM(n)?vIe:uIe)(r,s,o,n),u={...dIe(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=D.useMemo(()=>Xi(f)?f.get():f,[f]);return D.createElement(n,{...u,children:h})}}const PM=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function zY(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const QY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HY(t,e,n,r){zY(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(QY.has(i)?i:PM(i),e.attrs[i])}function DM(t,e){const{style:n}=t,r={};for(const i in n)(Xi(n[i])||e.style&&Xi(e.style[i])||DY(i,t))&&(r[i]=n[i]);return r}function VY(t,e){const n=DM(t,e);for(const r in t)if(Xi(t[r])||Xi(e[r])){const i=wA.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function LM(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function $Y(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const S4=t=>Array.isArray(t),xIe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_Ie=t=>S4(t)?t[t.length-1]||0:t;function X5(t){const e=Xi(t)?t.get():t;return xIe(e)?e.toValue():e}function EIe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:CIe(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const WY=t=>(e,n)=>{const r=D.useContext(dx),i=D.useContext(SM),s=()=>EIe(t,e,r,i);return n?s():$Y(s)};function CIe(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=X5(s[h]);let{initial:o,animate:a}=t;const l=gx(t),c=BY(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!mx(f)&&(Array.isArray(f)?f:[f]).forEach(d=>{const m=LM(t,d);if(!m)return;const{transitionEnd:A,transition:v,...y}=m;for(const _ in y){let x=y[_];if(Array.isArray(x)){const E=u?x.length-1:0;x=x[E]}x!==null&&(i[_]=x)}for(const _ in A)i[_]=A[_]}),i}const Br=t=>t;class XN{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function SIe(t){let e=new XN,n=new XN,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:n;return c&&o.add(l),h.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const c5=["prepare","read","update","preRender","render","postRender"],wIe=40;function bIe(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=c5.reduce((f,h)=>(f[h]=SIe(()=>n=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,wIe),1),i.timestamp=f,i.isProcessing=!0,c5.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:c5.reduce((f,h)=>{const d=s[h];return f[h]=(m,A=!1,v=!1)=>(n||l(),d.schedule(m,A,v)),f},{}),cancel:f=>c5.forEach(h=>s[h].cancel(f)),state:i,steps:s}}const{schedule:$n,cancel:zl,state:pi,steps:gE}=bIe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0),IIe={useVisualState:WY({scrapeMotionValuesFromProps:VY,createRenderState:GY,onMount:(t,e,{renderState:n,latestValues:r})=>{$n.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),$n.render(()=>{BM(n,r,{enableHardwareAcceleration:!1},RM(e.tagName),t.transformTemplate),HY(e,n)})}})},TIe={useVisualState:WY({scrapeMotionValuesFromProps:DM,createRenderState:MM})};function MIe(t,{forwardMotionProps:e=!1},n,r){return{...IM(t)?IIe:TIe,preloadedFeatures:n,useRender:yIe(e),createVisualElement:r,Component:t}}function bc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const jY=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vx(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const BIe=t=>e=>jY(e)&&t(e,vx(e));function Dc(t,e,n,r){return bc(t,e,BIe(n),r)}const RIe=(t,e)=>n=>e(t(n)),Af=(...t)=>t.reduce(RIe);function KY(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const qN=KY("dragHorizontal"),ZN=KY("dragVertical");function JY(t){let e=!1;if(t==="y")e=ZN();else if(t==="x")e=qN();else{const n=qN(),r=ZN();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function YY(){const t=JY(!0);return t?(t(),!1):!0}class eh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function eU(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||YY())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&$n.update(()=>a[r](s,o))};return Dc(t.current,n,i,{passive:!t.getProps()[r]})}class PIe extends eh{mount(){this.unmount=Af(eU(this.node,!0),eU(this.node,!1))}unmount(){}}class DIe extends eh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Af(bc(this.node.current,"focus",()=>this.onFocus()),bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const XY=(t,e)=>e?t===e?!0:XY(t,e.parentElement):!1;function AE(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vx(n))}class LIe extends eh{constructor(){super(...arguments),this.removeStartListeners=Br,this.removeEndListeners=Br,this.removeAccessibleListeners=Br,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Dc(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();$n.update(()=>{XY(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Dc(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Af(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||AE("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&$n.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=bc(this.node.current,"keyup",o),AE("down",(a,l)=>{this.startPress(a,l)})},n=bc(this.node.current,"keydown",e),r=()=>{this.isPressing&&AE("cancel",(s,o)=>this.cancelPress(s,o))},i=bc(this.node.current,"blur",r);this.removeAccessibleListeners=Af(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&$n.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!YY()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&$n.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Dc(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=bc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Af(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kw=new WeakMap,vE=new WeakMap,kIe=t=>{const e=kw.get(t.target);e&&e(t)},FIe=t=>{t.forEach(kIe)};function OIe({root:t,...e}){const n=t||document;vE.has(n)||vE.set(n,{});const r=vE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(FIe,{root:t,...e})),r[i]}function NIe(t,e,n){const r=OIe(e);return kw.set(t,n),r.observe(t),()=>{kw.delete(t),r.unobserve(t)}}const UIe={some:0,all:1};class GIe extends eh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:UIe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return NIe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zIe(e,n))&&this.startObserver()}unmount(){}}function zIe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QIe={inView:{Feature:GIe},tap:{Feature:LIe},focus:{Feature:DIe},hover:{Feature:PIe}};function qY(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function HIe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function VIe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function yx(t,e,n){const r=t.getProps();return LM(r,e,n!==void 0?n:r.custom,HIe(t),VIe(t))}const $Ie="framerAppearId",WIe="data-"+PM($Ie);let jIe=Br,xx=Br;const Lc=t=>t*1e3,kl=t=>t/1e3,KIe={current:!1},ZY=t=>Array.isArray(t)&&typeof t[0]=="number";function eX(t){return!!(!t||typeof t=="string"&&tX[t]||ZY(t)||Array.isArray(t)&&t.every(eX))}const v3=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tX={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:v3([0,.65,.55,1]),circOut:v3([.55,0,1,.45]),backIn:v3([.31,.01,.66,-.59]),backOut:v3([.33,1.53,.69,.99])};function nX(t){if(t)return ZY(t)?v3(t):Array.isArray(t)?t.map(nX):tX[t]}function JIe(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=nX(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function YIe(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const rX=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XIe=1e-7,qIe=12;function ZIe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=rX(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>XIe&&++a<qIe);return o}function TA(t,e,n,r){if(t===e&&n===r)return Br;const i=s=>ZIe(s,0,1,t,n);return s=>s===0||s===1?s:rX(i(s),e,r)}const eTe=TA(.42,0,1,1),tTe=TA(0,0,.58,1),iX=TA(.42,0,.58,1),sX=t=>Array.isArray(t)&&typeof t[0]!="number",oX=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aX=t=>e=>1-t(1-e),lX=t=>1-Math.sin(Math.acos(t)),kM=aX(lX),nTe=oX(kM),cX=TA(.33,1.53,.69,.99),FM=aX(cX),rTe=oX(FM),iTe=t=>(t*=2)<1?.5*FM(t):.5*(2-Math.pow(2,-10*(t-1))),sTe={linear:Br,easeIn:eTe,easeInOut:iX,easeOut:tTe,circIn:lX,circInOut:nTe,circOut:kM,backIn:FM,backInOut:rTe,backOut:cX,anticipate:iTe},tU=t=>{if(Array.isArray(t)){xx(t.length===4);const[e,n,r,i]=t;return TA(e,n,r,i)}else if(typeof t=="string")return sTe[t];return t},OM=(t,e)=>n=>!!(bA(n)&&sIe.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),uX=(t,e,n)=>r=>{if(!bA(r))return r;const[i,s,o,a]=r.match(Ax);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oTe=t=>Nf(0,255,t),yE={...Wd,transform:t=>Math.round(oTe(t))},Jh={test:OM("rgb","red"),parse:uX("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yE.transform(t)+", "+yE.transform(e)+", "+yE.transform(n)+", "+K3(j3.transform(r))+")"};function aTe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Fw={test:OM("#"),parse:aTe,transform:Jh.transform},f0={test:OM("hsl","hue"),parse:uX("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ll.transform(K3(e))+", "+Ll.transform(K3(n))+", "+K3(j3.transform(r))+")"},ls={test:t=>Jh.test(t)||Fw.test(t)||f0.test(t),parse:t=>Jh.test(t)?Jh.parse(t):f0.test(t)?f0.parse(t):Fw.parse(t),transform:t=>bA(t)?t:t.hasOwnProperty("red")?Jh.transform(t):f0.transform(t)},ir=(t,e,n)=>-n*t+n*e+t;function xE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lTe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=xE(l,a,t+1/3),s=xE(l,a,t),o=xE(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const _E=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},cTe=[Fw,Jh,f0],uTe=t=>cTe.find(e=>e.test(t));function nU(t){const e=uTe(t);let n=e.parse(t);return e===f0&&(n=lTe(n)),n}const fX=(t,e)=>{const n=nU(t),r=nU(e),i={...n};return s=>(i.red=_E(n.red,r.red,s),i.green=_E(n.green,r.green,s),i.blue=_E(n.blue,r.blue,s),i.alpha=ir(n.alpha,r.alpha,s),Jh.transform(i))};function fTe(t){var e,n;return isNaN(t)&&bA(t)&&(((e=t.match(Ax))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(FY))===null||n===void 0?void 0:n.length)||0)>0}const hX={regex:rIe,countKey:"Vars",token:"${v}",parse:Br},dX={regex:FY,countKey:"Colors",token:"${c}",parse:ls.parse},pX={regex:Ax,countKey:"Numbers",token:"${n}",parse:Wd.parse};function EE(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function w4(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&EE(n,hX),EE(n,dX),EE(n,pX),n}function mX(t){return w4(t).values}function gX(t){const{values:e,numColors:n,numVars:r,tokenised:i}=w4(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(hX.token,o[l]):l<r+n?a=a.replace(dX.token,ls.transform(o[l])):a=a.replace(pX.token,K3(o[l]));return a}}const hTe=t=>typeof t=="number"?0:t;function dTe(t){const e=mX(t);return gX(t)(e.map(hTe))}const Uf={test:fTe,parse:mX,createTransformer:gX,getAnimatableNone:dTe},AX=(t,e)=>n=>`${n>0?e:t}`;function vX(t,e){return typeof t=="number"?n=>ir(t,e,n):ls.test(t)?fX(t,e):t.startsWith("var(")?AX(t,e):xX(t,e)}const yX=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>vX(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},pTe=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=vX(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},xX=(t,e)=>{const n=Uf.createTransformer(e),r=w4(t),i=w4(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Af(yX(r.values,i.values),n):AX(t,e)},gm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},rU=(t,e)=>n=>ir(t,e,n);function mTe(t){return typeof t=="number"?rU:typeof t=="string"?ls.test(t)?fX:xX:Array.isArray(t)?yX:typeof t=="object"?pTe:rU}function gTe(t,e,n){const r=[],i=n||mTe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Br:e;a=Af(l,a)}r.push(a)}return r}function _X(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(xx(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=gTe(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=gm(t[u],t[u+1],c);return o[u](f)};return n?c=>l(Nf(t[0],t[s-1],c)):l}function EX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=gm(0,e,r);t.push(ir(n,1,i))}}function CX(t){const e=[0];return EX(e,t.length-1),e}function ATe(t,e){return t.map(n=>n*e)}function vTe(t,e){return t.map(()=>e||iX).splice(0,t.length-1)}function b4({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sX(r)?r.map(tU):tU(r),s={done:!1,value:e[0]},o=ATe(n&&n.length===e.length?n:CX(e),t),a=_X(o,e,{ease:Array.isArray(i)?i:vTe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function SX(t,e){return e?t*(1e3/e):0}const yTe=5;function wX(t,e,n){const r=Math.max(e-yTe,0);return SX(n-t(r),e-r)}const CE=.001,xTe=.01,iU=10,_Te=.05,ETe=1;function CTe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;jIe(t<=Lc(iU));let o=1-e;o=Nf(_Te,ETe,o),t=Nf(xTe,iU,kl(t)),o<1?(i=c=>{const u=c*o,f=u*t,h=u-n,d=Ow(c,o),m=Math.exp(-f);return CE-h/d*m},s=c=>{const f=c*o*t,h=f*n+n,d=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-f),A=Ow(Math.pow(c,2),o);return(-i(c)+CE>0?-1:1)*((h-d)*m)/A}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-CE+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=wTe(i,s,a);if(t=Lc(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const STe=12;function wTe(t,e,n){let r=n;for(let i=1;i<STe;i++)r=r-t(r)/e(r);return r}function Ow(t,e){return t*Math.sqrt(1-e*e)}const bTe=["duration","bounce"],ITe=["stiffness","damping","mass"];function sU(t,e){return e.some(n=>t[n]!==void 0)}function TTe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!sU(t,ITe)&&sU(t,bTe)){const n=CTe(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function NM({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:h}=TTe(r),d=u?-kl(u):0,m=l/(2*Math.sqrt(a*c)),A=s-i,v=kl(Math.sqrt(a/c)),y=Math.abs(A)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let _;if(m<1){const x=Ow(v,m);_=E=>{const b=Math.exp(-m*v*E);return s-b*((d+m*v*A)/x*Math.sin(x*E)+A*Math.cos(x*E))}}else if(m===1)_=x=>s-Math.exp(-v*x)*(A+(d+v*A)*x);else{const x=v*Math.sqrt(m*m-1);_=E=>{const b=Math.exp(-m*v*E),w=Math.min(x*E,300);return s-b*((d+m*v*A)*Math.sinh(w)+x*A*Math.cosh(w))/x}}return{calculatedDuration:h&&f||null,next:x=>{const E=_(x);if(h)o.done=x>=f;else{let b=d;x!==0&&(m<1?b=wX(_,x,E):b=0);const w=Math.abs(b)<=n,T=Math.abs(s-E)<=e;o.done=w&&T}return o.value=o.done?s:E,o}}}function oU({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},d=C=>a!==void 0&&C<a||l!==void 0&&C>l,m=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let A=n*e;const v=f+A,y=o===void 0?v:o(v);y!==v&&(A=y-f);const _=C=>-A*Math.exp(-C/r),x=C=>y+_(C),E=C=>{const I=_(C),B=x(C);h.done=Math.abs(I)<=c,h.value=h.done?y:B};let b,w;const T=C=>{d(h.value)&&(b=C,w=NM({keyframes:[h.value,m(h.value)],velocity:wX(x,C,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:C=>{let I=!1;return!w&&b===void 0&&(I=!0,E(C),T(C)),b!==void 0&&C>b?w.next(C-b):(!I&&E(C),h)}}}const MTe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>$n.update(e,!0),stop:()=>zl(e),now:()=>pi.isProcessing?pi.timestamp:performance.now()}},Nw=2e4;function Uw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Nw;)e+=n,r=t.next(e);return e>=Nw?1/0:e}const BTe={decay:oU,inertia:oU,tween:b4,keyframes:b4,spring:NM};function I4({autoplay:t=!0,delay:e=0,driver:n=MTe,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let d=1,m=!1,A,v;const y=()=>{v=new Promise(Z=>{A=Z})};y();let _;const x=BTe[i]||b4;let E;x!==b4&&typeof r[0]!="number"&&(E=_X([0,100],r,{clamp:!1}),r=[0,100]);const b=x({...h,keyframes:r});let w;a==="mirror"&&(w=x({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let T="idle",C=null,I=null,B=null;b.calculatedDuration===null&&s&&(b.calculatedDuration=Uw(b));const{calculatedDuration:R}=b;let L=1/0,z=1/0;R!==null&&(L=R+o,z=L*(s+1)-o);let O=0;const G=Z=>{if(I===null)return;d>0&&(I=Math.min(I,Z)),d<0&&(I=Math.min(Z-z/d,I)),C!==null?O=C:O=Math.round(Z-I)*d;const re=O-e*(d>=0?1:-1),ge=d>=0?re<0:re>z;O=Math.max(re,0),T==="finished"&&C===null&&(O=z);let Ee=O,be=b;if(s){const U=O/L;let W=Math.floor(U),Y=U%1;!Y&&U>=1&&(Y=1),Y===1&&W--,W=Math.min(W,s+1);const ie=!!(W%2);ie&&(a==="reverse"?(Y=1-Y,o&&(Y-=o/L)):a==="mirror"&&(be=w));let te=Nf(0,1,Y);O>z&&(te=a==="reverse"&&ie?1:0),Ee=te*L}const oe=ge?{done:!1,value:r[0]}:be.next(Ee);E&&(oe.value=E(oe.value));let{done:Fe}=oe;!ge&&R!==null&&(Fe=d>=0?O>=z:O<=0);const he=C===null&&(T==="finished"||T==="running"&&Fe);return f&&f(oe.value),he&&N(),oe},j=()=>{_&&_.stop(),_=void 0},J=()=>{T="idle",j(),A(),y(),I=B=null},N=()=>{T="finished",u&&u(),j(),A()},V=()=>{if(m)return;_||(_=n(G));const Z=_.now();l&&l(),C!==null?I=Z-C:(!I||T==="finished")&&(I=Z),T==="finished"&&y(),B=I,C=null,T="running",_.start()};t&&V();const Q={then(Z,re){return v.then(Z,re)},get time(){return kl(O)},set time(Z){Z=Lc(Z),O=Z,C!==null||!_||d===0?C=Z:I=_.now()-Z/d},get duration(){const Z=b.calculatedDuration===null?Uw(b):b.calculatedDuration;return kl(Z)},get speed(){return d},set speed(Z){Z===d||!_||(d=Z,Q.time=kl(O))},get state(){return T},play:V,pause:()=>{T="paused",C=O},stop:()=>{m=!0,T!=="idle"&&(T="idle",c&&c(),J())},cancel:()=>{B!==null&&G(B),J()},complete:()=>{T="finished"},sample:Z=>(I=0,G(Z))};return Q}function bX(t){let e;return()=>(e===void 0&&(e=t()),e)}const RTe=bX(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),PTe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),u5=10,DTe=2e4,LTe=(t,e)=>e.type==="spring"||t==="backgroundColor"||!eX(e.ease);function kTe(t,e,{onUpdate:n,onComplete:r,...i}){if(!(RTe()&&PTe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(_=>{a=_})};c();let{keyframes:u,duration:f=300,ease:h,times:d}=i;if(LTe(e,i)){const _=I4({...i,repeat:0,delay:0});let x={done:!1,value:u[0]};const E=[];let b=0;for(;!x.done&&b<DTe;)x=_.sample(b),E.push(x.value),b+=u5;d=void 0,u=E,f=b-u5,h="linear"}const m=JIe(t.owner.current,e,u,{...i,duration:f,ease:h,times:d});i.syncStart&&(m.startTime=pi.isProcessing?pi.timestamp:document.timeline?document.timeline.currentTime:performance.now());const A=()=>m.cancel(),v=()=>{$n.update(A),a(),c()};return m.onfinish=()=>{t.set(YIe(u,i)),r&&r(),v()},{then(_,x){return l.then(_,x)},attachTimeline(_){return m.timeline=_,m.onfinish=null,Br},get time(){return kl(m.currentTime||0)},set time(_){m.currentTime=Lc(_)},get speed(){return m.playbackRate},set speed(_){m.playbackRate=_},get duration(){return kl(f)},play:()=>{o||(m.play(),zl(A))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:_}=m;if(_){const x=I4({...i,autoplay:!1});t.setWithVelocity(x.sample(_-u5).value,x.sample(_).value,u5)}v()},complete:()=>m.finish(),cancel:v}}function FTe({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Br,pause:Br,stop:Br,then:s=>(s(),Promise.resolve()),cancel:Br,complete:Br});return e?I4({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const OTe={type:"spring",stiffness:500,damping:25,restSpeed:10},NTe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UTe={type:"keyframes",duration:.8},GTe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zTe=(t,{keyframes:e})=>e.length>2?UTe:$d.has(t)?t.startsWith("scale")?NTe(e[1]):OTe:GTe,Gw=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Uf.test(e)||e==="0")&&!e.startsWith("url(")),QTe=new Set(["brightness","contrast","saturate","opacity"]);function HTe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ax)||[];if(!r)return t;const i=n.replace(r,"");let s=QTe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const VTe=/([a-z-]*)\(.*?\)/g,zw={...Uf,getAnimatableNone:t=>{const e=t.match(VTe);return e?e.map(HTe).join(" "):t}},$Te={...OY,color:ls,backgroundColor:ls,outlineColor:ls,fill:ls,stroke:ls,borderColor:ls,borderTopColor:ls,borderRightColor:ls,borderBottomColor:ls,borderLeftColor:ls,filter:zw,WebkitFilter:zw},UM=t=>$Te[t];function IX(t,e){let n=UM(t);return n!==zw&&(n=Uf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const TX=t=>/^0[^.\s]+$/.test(t);function WTe(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||TX(t)}function jTe(t,e,n,r){const i=Gw(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),WTe(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=IX(e,a)}return s}function KTe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function MX(t,e){return t[e]||t.default||t}const GM=(t,e,n,r={})=>i=>{const s=MX(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Lc(o);const l=jTe(e,t,n,s),c=l[0],u=l[l.length-1],f=Gw(t,c),h=Gw(t,u);let d={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(KTe(s)||(d={...d,...zTe(t,d)}),d.duration&&(d.duration=Lc(d.duration)),d.repeatDelay&&(d.repeatDelay=Lc(d.repeatDelay)),!f||!h||KIe.current||s.type===!1)return FTe(d);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=kTe(e,t,d);if(m)return m}return I4(d)};function T4(t){return!!(Xi(t)&&t.add)}const BX=t=>/^\-?\d*\.?\d+$/.test(t);function zM(t,e){t.indexOf(e)===-1&&t.push(e)}function _x(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class QM{constructor(){this.subscriptions=[]}add(e){return zM(this.subscriptions,e),()=>_x(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JTe=t=>!isNaN(parseFloat(t));class YTe{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=pi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,$n.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>$n.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=JTe(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new QM);const r=this.events[e].add(n);return e==="change"?()=>{r(),$n.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SX(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bd(t,e){return new YTe(t,e)}const RX=t=>e=>e.test(t),XTe={test:t=>t==="auto",parse:t=>t},PX=[Wd,kt,Ll,Fu,aIe,oIe,XTe],Xg=t=>PX.find(RX(t)),qTe=[...PX,ls,Uf],ZTe=t=>qTe.find(RX(t));function eMe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bd(n))}function tMe(t,e){const n=yx(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=_Ie(s[o]);eMe(t,o,a)}}function nMe(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(BX(u)||TX(u))?u=parseFloat(u):!ZTe(u)&&Uf.test(c)&&(u=IX(l,c)),t.addValue(l,bd(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function rMe(t,e){return e?(e[t]||e.default||e).from:void 0}function iMe(t,e,n){const r={};for(const i in t){const s=rMe(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function sMe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function HM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),d=a[f];if(!h||d===void 0||u&&sMe(u,f))continue;const m={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const v=t.getProps()[WIe];v&&(m.elapsed=window.HandoffAppearAnimations(v,f,h,$n),m.syncStart=!0)}h.start(GM(f,h,d,t.shouldReduceMotion&&$d.has(f)?{type:!1}:m));const A=h.animation;T4(l)&&(l.add(f),A.then(()=>l.remove(f))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&tMe(t,o)}),c}function Qw(t,e,n={}){const r=yx(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(HM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return oMe(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function oMe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(aMe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Qw(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function aMe(t,e){return t.sortNodePosition(e)}function lMe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Qw(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Qw(t,e,n);else{const i=typeof e=="function"?yx(t,e,n.custom):e;r=Promise.all(HM(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const cMe=[...wM].reverse(),uMe=wM.length;function fMe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lMe(t,n,r)))}function hMe(t){let e=fMe(t);const n=pMe();let r=!0;const i=(l,c)=>{const u=yx(t,c);if(u){const{transition:f,transitionEnd:h,...d}=u;l={...l,...d,...h}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],d=new Set;let m={},A=1/0;for(let y=0;y<uMe;y++){const _=cMe[y],x=n[_],E=u[_]!==void 0?u[_]:f[_],b=u2(E),w=_===c?x.isActive:null;w===!1&&(A=y);let T=E===f[_]&&E!==u[_]&&b;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...m},!x.isActive&&w===null||!E&&!x.prevProp||mx(E)||typeof E=="boolean")continue;const C=dMe(x.prevProp,E);let I=C||_===c&&x.isActive&&!T&&b||y>A&&b;const B=Array.isArray(E)?E:[E];let R=B.reduce(i,{});w===!1&&(R={});const{prevResolvedValues:L={}}=x,z={...L,...R},O=G=>{I=!0,d.delete(G),x.needsAnimating[G]=!0};for(const G in z){const j=R[G],J=L[G];m.hasOwnProperty(G)||(j!==J?S4(j)&&S4(J)?!qY(j,J)||C?O(G):x.protectedKeys[G]=!0:j!==void 0?O(G):d.add(G):j!==void 0&&d.has(G)?O(G):x.protectedKeys[G]=!0)}x.prevProp=E,x.prevResolvedValues=R,x.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(I=!1),I&&!T&&h.push(...B.map(G=>({animation:G,options:{type:_,...l}})))}if(d.size){const y={};d.forEach(_=>{const x=t.getBaseTarget(_);x!==void 0&&(y[_]=x)}),h.push({animation:y})}let v=!!h.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(u,l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function dMe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qY(e,t):!1}function Ch(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pMe(){return{animate:Ch(!0),whileInView:Ch(),whileHover:Ch(),whileTap:Ch(),whileDrag:Ch(),whileFocus:Ch(),exit:Ch()}}class mMe extends eh{constructor(e){super(e),e.animationState||(e.animationState=hMe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),mx(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let gMe=0;class AMe extends eh{constructor(){super(...arguments),this.id=gMe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const vMe={animation:{Feature:mMe},exit:{Feature:AMe}},aU=(t,e)=>Math.abs(t-e);function yMe(t,e){const n=aU(t.x,e.x),r=aU(t.y,e.y);return Math.sqrt(n**2+r**2)}class DX{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=wE(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=yMe(c.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:h}=c,{timestamp:d}=pi;this.history.push({...h,timestamp:d});const{onStart:m,onMove:A}=this.handlers;u||(m&&m(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=SE(u,this.transformPagePoint),$n.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:h}=this.handlers,d=wE(c.type==="pointercancel"?this.lastMoveEventInfo:SE(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,d),h&&h(c,d)},!jY(e))return;this.handlers=n,this.transformPagePoint=r;const i=vx(e),s=SE(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=pi;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,wE(s,this.history)),this.removeListeners=Af(Dc(window,"pointermove",this.handlePointerMove),Dc(window,"pointerup",this.handlePointerUp),Dc(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zl(this.updatePoint)}}function SE(t,e){return e?{point:e(t.point)}:t}function lU(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wE({point:t},e){return{point:t,delta:lU(t,LX(e)),offset:lU(t,xMe(e)),velocity:_Me(e,.1)}}function xMe(t){return t[0]}function LX(t){return t[t.length-1]}function _Me(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=LX(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Lc(e)));)n--;if(!r)return{x:0,y:0};const s=kl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mo(t){return t.max-t.min}function Hw(t,e=0,n=.01){return Math.abs(t-e)<=n}function cU(t,e,n,r=.5){t.origin=r,t.originPoint=ir(e.min,e.max,t.origin),t.scale=mo(n)/mo(e),(Hw(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ir(n.min,n.max,t.origin)-t.originPoint,(Hw(t.translate)||isNaN(t.translate))&&(t.translate=0)}function J3(t,e,n,r){cU(t.x,e.x,n.x,r?r.originX:void 0),cU(t.y,e.y,n.y,r?r.originY:void 0)}function uU(t,e,n){t.min=n.min+e.min,t.max=t.min+mo(e)}function EMe(t,e,n){uU(t.x,e.x,n.x),uU(t.y,e.y,n.y)}function fU(t,e,n){t.min=e.min-n.min,t.max=t.min+mo(e)}function Y3(t,e,n){fU(t.x,e.x,n.x),fU(t.y,e.y,n.y)}function CMe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ir(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ir(n,t,r.max):Math.min(t,n)),t}function hU(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SMe(t,{top:e,left:n,bottom:r,right:i}){return{x:hU(t.x,n,i),y:hU(t.y,e,r)}}function dU(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wMe(t,e){return{x:dU(t.x,e.x),y:dU(t.y,e.y)}}function bMe(t,e){let n=.5;const r=mo(t),i=mo(e);return i>r?n=gm(e.min,e.max-r,t.min):r>i&&(n=gm(t.min,t.max-i,e.min)),Nf(0,1,n)}function IMe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vw=.35;function TMe(t=Vw){return t===!1?t=0:t===!0&&(t=Vw),{x:pU(t,"left","right"),y:pU(t,"top","bottom")}}function pU(t,e,n){return{min:mU(t,e),max:mU(t,n)}}function mU(t,e){return typeof t=="number"?t:t[e]||0}const gU=()=>({translate:0,scale:1,origin:0,originPoint:0}),h0=()=>({x:gU(),y:gU()}),AU=()=>({min:0,max:0}),$r=()=>({x:AU(),y:AU()});function fl(t){return[t("x"),t("y")]}function kX({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function MMe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BMe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bE(t){return t===void 0||t===1}function $w({scale:t,scaleX:e,scaleY:n}){return!bE(t)||!bE(e)||!bE(n)}function Ph(t){return $w(t)||FX(t)||t.z||t.rotate||t.rotateX||t.rotateY}function FX(t){return vU(t.x)||vU(t.y)}function vU(t){return t&&t!=="0%"}function M4(t,e,n){const r=t-n,i=e*r;return n+i}function yU(t,e,n,r,i){return i!==void 0&&(t=M4(t,i,r)),M4(t,n,r)+e}function Ww(t,e=0,n=1,r,i){t.min=yU(t.min,e,n,r,i),t.max=yU(t.max,e,n,r,i)}function OX(t,{x:e,y:n}){Ww(t.x,e.translate,e.scale,e.originPoint),Ww(t.y,n.translate,n.scale,n.originPoint)}function RMe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&d0(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OX(t,o)),r&&Ph(s.latestValues)&&d0(t,s.latestValues))}e.x=xU(e.x),e.y=xU(e.y)}function xU(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Gu(t,e){t.min=t.min+e,t.max=t.max+e}function _U(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=ir(t.min,t.max,s);Ww(t,e[n],e[r],o,e.scale)}const PMe=["x","scaleX","originX"],DMe=["y","scaleY","originY"];function d0(t,e){_U(t.x,e,PMe),_U(t.y,e,DMe)}function NX(t,e){return kX(BMe(t.getBoundingClientRect(),e))}function LMe(t,e,n){const r=NX(t,n),{scroll:i}=e;return i&&(Gu(r.x,i.offset.x),Gu(r.y,i.offset.y)),r}const kMe=new WeakMap;class FMe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(vx(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:f,onDragStart:h}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=JY(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fl(m=>{let A=this.getAxisMotionValue(m).get()||0;if(Ll.test(A)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[m];y&&(A=mo(y)*(parseFloat(A)/100))}}this.originPoint[m]=A}),h&&$n.update(()=>h(l,c),!1,!0);const{animationState:d}=this.visualElement;d&&d.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:h,onDrag:d}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:m}=c;if(f&&this.currentDirection===null){this.currentDirection=OMe(m),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",c.point,m),this.updateAxis("y",c.point,m),this.visualElement.render(),d&&d(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new DX(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&$n.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!f5(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=CMe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&u0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=SMe(r.layoutBox,e):this.constraints=!1,this.elastic=TMe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fl(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=IMe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!u0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=LMe(r,i.root,this.visualElement.getTransformPagePoint());let o=wMe(i.layout.layoutBox,s);if(n){const a=n(MMe(o));this.hasMutatedConstraints=!!a,a&&(o=kX(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=fl(u=>{if(!f5(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(GM(e,r,0,n))}stopAnimation(){fl(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fl(n=>{const{drag:r}=this.getProps();if(!f5(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ir(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!u0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fl(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=bMe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fl(o=>{if(!f5(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ir(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;kMe.set(this.visualElement,this);const e=this.visualElement.current,n=Dc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();u0(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=bc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(fl(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Vw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function f5(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OMe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NMe extends eh{constructor(e){super(e),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new FMe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const EU=t=>(e,n)=>{t&&$n.update(()=>t(e,n))};class UMe extends eh{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(e){this.session=new DX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:EU(e),onStart:EU(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&$n.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Dc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GMe(){const t=D.useContext(SM);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=D.useId();return D.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const q5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CU(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(kt.test(t))t=parseFloat(t);else return t;const n=CU(t,e.target.x),r=CU(t,e.target.y);return`${n}% ${r}%`}},zMe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Uf.parse(t);if(i.length>5)return r;const s=Uf.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ir(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class QMe extends se.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Zbe(HMe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),q5.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$n.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UX(t){const[e,n]=GMe(),r=D.useContext(RY);return se.createElement(QMe,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(PY),isPresent:e,safeToRemove:n})}const HMe={borderRadius:{...qg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qg,borderTopRightRadius:qg,borderBottomLeftRadius:qg,borderBottomRightRadius:qg,boxShadow:zMe},GX=["TopLeft","TopRight","BottomLeft","BottomRight"],VMe=GX.length,SU=t=>typeof t=="string"?parseFloat(t):t,wU=t=>typeof t=="number"||kt.test(t);function $Me(t,e,n,r,i,s){i?(t.opacity=ir(0,n.opacity!==void 0?n.opacity:1,WMe(r)),t.opacityExit=ir(e.opacity!==void 0?e.opacity:1,0,jMe(r))):s&&(t.opacity=ir(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<VMe;o++){const a=`border${GX[o]}Radius`;let l=bU(e,a),c=bU(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||wU(l)===wU(c)?(t[a]=Math.max(ir(SU(l),SU(c),r),0),(Ll.test(c)||Ll.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ir(e.rotate||0,n.rotate||0,r))}function bU(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WMe=zX(0,.5,kM),jMe=zX(.5,.95,Br);function zX(t,e,n){return r=>r<t?0:r>e?1:n(gm(t,e,r))}function IU(t,e){t.min=e.min,t.max=e.max}function Bo(t,e){IU(t.x,e.x),IU(t.y,e.y)}function TU(t,e,n,r,i){return t-=e,t=M4(t,1/n,r),i!==void 0&&(t=M4(t,1/i,r)),t}function KMe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ll.test(e)&&(e=parseFloat(e),e=ir(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ir(s.min,s.max,r);t===s&&(a-=e),t.min=TU(t.min,e,n,a,i),t.max=TU(t.max,e,n,a,i)}function MU(t,e,[n,r,i],s,o){KMe(t,e[n],e[r],e[i],e.scale,s,o)}const JMe=["x","scaleX","originX"],YMe=["y","scaleY","originY"];function BU(t,e,n,r){MU(t.x,e,JMe,n?n.x:void 0,r?r.x:void 0),MU(t.y,e,YMe,n?n.y:void 0,r?r.y:void 0)}function RU(t){return t.translate===0&&t.scale===1}function QX(t){return RU(t.x)&&RU(t.y)}function XMe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function HX(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function PU(t){return mo(t.x)/mo(t.y)}class qMe{constructor(){this.members=[]}add(e){zM(this.members,e),e.scheduleRender()}remove(e){if(_x(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DU(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const ZMe=(t,e)=>t.depth-e.depth;class eBe{constructor(){this.children=[],this.isDirty=!1}add(e){zM(this.children,e),this.isDirty=!0}remove(e){_x(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZMe),this.isDirty=!1,this.children.forEach(e)}}function tBe(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zl(r),t(s-e))};return $n.read(r,!0),()=>zl(r)}function nBe(t){window.MotionDebug&&window.MotionDebug.record(t)}function VX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function VM(t,e,n){const r=Xi(t)?t:bd(t);return r.start(GM("",r,e,n)),r.animation}const LU=["","X","Y","Z"],kU=1e3;let rBe=0;const Dh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $X({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=rBe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Dh.totalNodes=Dh.resolvedTargetDeltas=Dh.recalculatedProjection=0,this.nodes.forEach(oBe),this.nodes.forEach(fBe),this.nodes.forEach(hBe),this.nodes.forEach(aBe),nBe(Dh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eBe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QM),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VX(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=tBe(h,250),q5.hasAnimatedSinceResize&&(q5.hasAnimatedSinceResize=!1,this.nodes.forEach(OU))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||u.getDefaultTransition()||ABe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),_=!this.targetLayout||!HX(this.targetLayout,m)||d,x=!h&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const E={...MX(A,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||OU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dBe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FU);return}this.isUpdating||this.nodes.forEach(cBe),this.isUpdating=!1,this.nodes.forEach(uBe),this.nodes.forEach(iBe),this.nodes.forEach(sBe),this.clearAllSnapshots();const a=performance.now();pi.delta=Nf(0,1e3/60,a-pi.timestamp),pi.timestamp=a,pi.isProcessing=!0,gE.update.process(pi),gE.preRender.process(pi),gE.render.process(pi),pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lBe),this.sharedNodes.forEach(pBe)}scheduleUpdateProjection(){$n.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){$n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!QX(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ph(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),vBe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $r();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Gu(a.x,l.offset.x),Gu(a.y,l.offset.y)),a}removeElementScroll(o){const a=$r();Bo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Bo(a,o);const{scroll:h}=this.root;h&&(Gu(a.x,-h.offset.x),Gu(a.y,-h.offset.y))}Gu(a.x,u.offset.x),Gu(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=$r();Bo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&d0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ph(u.latestValues)&&d0(l,u.latestValues)}return Ph(this.latestValues)&&d0(l,this.latestValues),l}removeTransform(o){const a=$r();Bo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ph(c.latestValues))continue;$w(c.latestValues)&&c.updateSnapshot();const u=$r(),f=c.measurePageBox();Bo(u,f),BU(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ph(this.latestValues)&&BU(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=pi.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Y3(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EMe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bo(this.target,this.layout.layoutBox),OX(this.target,this.targetDelta)):Bo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Y3(this.relativeTargetOrigin,this.target,d.target),Bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$w(this.parent.latestValues)||FX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Bo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;RMe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=h0(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=h0(),this.projectionDeltaWithTransform=h0());const A=this.projectionTransform;J3(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=DU(this.projectionDelta,this.treeScale),(this.projectionTransform!==A||this.treeScale.x!==h||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Dh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=h0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=$r(),d=l?l.source:void 0,m=this.layout?this.layout.source:void 0,A=d!==m,v=this.getStack(),y=!v||v.members.length<=1,_=!!(A&&!y&&this.options.crossfade===!0&&!this.path.some(gBe));this.animationProgress=0;let x;this.mixTargetDelta=E=>{const b=E/1e3;NU(f.x,o.x,b),NU(f.y,o.y,b),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Y3(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mBe(this.relativeTarget,this.relativeTargetOrigin,h,b),x&&XMe(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=$r()),Bo(x,this.relativeTarget)),A&&(this.animationValues=u,$Me(u,c,this.latestValues,b,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$n.update(()=>{q5.hasAnimatedSinceResize=!0,this.currentAnimation=VM(0,kU,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&WX(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$r();const f=mo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=mo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Bo(a,l),d0(a,u),J3(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qMe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<LU.length;u++){const f="rotate"+LU[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=X5(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=X5(o.pointerEvents)||""),this.hasProjected&&!Ph(this.latestValues)&&(A.transform=u?u({},""):"none",this.hasProjected=!1),A}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=DU(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:d,y:m}=this.projectionDelta;c.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const A in E4){if(h[A]===void 0)continue;const{correct:v,applyTo:y}=E4[A],_=c.transform==="none"?h[A]:v(h[A],f);if(y){const x=y.length;for(let E=0;E<x;E++)c[y[E]]=_}else c[A]=_}return this.options.layoutId&&(c.pointerEvents=f===this?X5(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(FU),this.root.sharedNodes.clear()}}}function iBe(t){t.updateLayout()}function sBe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?fl(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],d=mo(h);h.min=r[f].min,h.max=h.min+d}):WX(s,n.layoutBox,r)&&fl(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],d=mo(r[f]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+d)});const a=h0();J3(a,r,n.layoutBox);const l=h0();o?J3(l,t.applyTransform(i,!0),n.measuredBox):J3(l,r,n.layoutBox);const c=!QX(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const m=$r();Y3(m,n.layoutBox,h.layoutBox);const A=$r();Y3(A,r,d.layoutBox),HX(m,A)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oBe(t){Dh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aBe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lBe(t){t.clearSnapshot()}function FU(t){t.clearMeasurements()}function cBe(t){t.isLayoutDirty=!1}function uBe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OU(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fBe(t){t.resolveTargetDelta()}function hBe(t){t.calcProjection()}function dBe(t){t.resetRotation()}function pBe(t){t.removeLeadSnapshot()}function NU(t,e,n){t.translate=ir(e.translate,0,n),t.scale=ir(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UU(t,e,n,r){t.min=ir(e.min,n.min,r),t.max=ir(e.max,n.max,r)}function mBe(t,e,n,r){UU(t.x,e.x,n.x,r),UU(t.y,e.y,n.y,r)}function gBe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ABe={duration:.45,ease:[.4,0,.1,1]},GU=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),zU=GU("applewebkit/")&&!GU("chrome/")?Math.round:Br;function QU(t){t.min=zU(t.min),t.max=zU(t.max)}function vBe(t){QU(t.x),QU(t.y)}function WX(t,e,n){return t==="position"||t==="preserve-aspect"&&!Hw(PU(e),PU(n),.2)}const yBe=$X({attachResizeListener:(t,e)=>bc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),IE={current:void 0},jX=$X({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!IE.current){const t=new yBe({});t.mount(window),t.setOptions({layoutScroll:!0}),IE.current=t}return IE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xBe={pan:{Feature:UMe},drag:{Feature:NMe,ProjectionNode:jX,MeasureLayout:UX}},_Be=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function EBe(t){const e=_Be.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function jw(t,e,n=1){const[r,i]=EBe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return BX(o)?parseFloat(o):o}else return Lw(i)?jw(i,e,n+1):i}function CBe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Lw(s))return;const o=jw(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Lw(s))continue;const o=jw(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const SBe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),KX=t=>SBe.has(t),wBe=t=>Object.keys(t).some(KX),HU=t=>t===Wd||t===kt,VU=(t,e)=>parseFloat(t.split(", ")[e]),$U=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return VU(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?VU(s[1],t):0}},bBe=new Set(["x","y","z"]),IBe=wA.filter(t=>!bBe.has(t));function TBe(t){const e=[];return IBe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Am={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$U(4,13),y:$U(5,14)};Am.translateX=Am.x;Am.translateY=Am.y;const MBe=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Am[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Am[c](l,s)}),t},BBe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(KX);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=Xg(u);const h=e[l];let d;if(S4(h)){const m=h.length,A=h[0]===null?1:0;u=h[A],f=Xg(u);for(let v=A;v<m&&h[v]!==null;v++)d?xx(Xg(h[v])===d):d=Xg(h[v])}else d=Xg(h);if(f!==d)if(HU(f)&&HU(d)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&d===kt&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(d!=null&&d.transform)&&(u===0||h===0)?u===0?c.set(d.transform(u)):e[l]=f.transform(h):(o||(s=TBe(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=MBe(e,t,a);return s.length&&s.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),px&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function RBe(t,e,n,r){return wBe(e)?BBe(t,e,n,r):{target:e,transitionEnd:r}}const PBe=(t,e,n,r)=>{const i=CBe(t,e,r);return e=i.target,r=i.transitionEnd,RBe(t,e,n,r)},Kw={current:null},JX={current:!1};function DBe(){if(JX.current=!0,!!px)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kw.current=t.matches;t.addListener(e),e()}else Kw.current=!1}function LBe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Xi(s))t.addValue(i,s),T4(r)&&r.add(i);else if(Xi(o))t.addValue(i,bd(s,{owner:t})),T4(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,bd(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const h2=new WeakMap,YX=Object.keys(f2),kBe=YX.length,WU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FBe=bM.length;class OBe{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$n.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=gx(n),this.isVariantNode=BY(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&Xi(h)&&(h.set(a[f],!1),T4(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,h2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),JX.current||DBe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){h2.delete(this.current),this.projection&&this.projection.unmount(),zl(this.notifyUpdate),zl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=$d.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&$n.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<kBe;l++){const c=YX[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:d}=f2[c];h&&(o=h),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),d&&(a=d))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:d}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&u0(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:d})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WU.length;r++){const i=WU[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=LBe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<FBe;r++){const i=bM[r],s=this.props[i];(u2(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bd(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=LM(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Xi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new QM),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class XX extends OBe{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=iMe(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){nMe(this,r,o);const a=PBe(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function NBe(t){return window.getComputedStyle(t)}class qX extends XX{readValueFromInstance(e,n){if($d.has(n)){const r=UM(n);return r&&r.default||0}else{const r=NBe(e),i=(kY(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NX(e,n)}build(e,n,r,i){TM(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return DM(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){zY(e,n,r,i)}}class ZX extends XX{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($d.has(n)){const r=UM(n);return r&&r.default||0}return n=QY.has(n)?n:PM(n),e.getAttribute(n)}measureInstanceViewportBox(){return $r()}scrapeMotionValuesFromProps(e,n){return VY(e,n)}build(e,n,r,i){BM(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){HY(e,n,r,i)}mount(e){this.isSVGTag=RM(e.tagName),super.mount(e)}}const UBe=(t,e)=>IM(t)?new ZX(e,{enableHardwareAcceleration:!1}):new qX(e,{enableHardwareAcceleration:!0}),GBe={layout:{ProjectionNode:jX,MeasureLayout:UX}},zBe={...vMe,...QIe,...xBe,...GBe},TE=Xbe((t,e)=>MIe(t,e,zBe,UBe));function d2(t){const e=$Y(()=>bd(t)),{isStatic:n}=D.useContext(CM);if(n){const[,r]=D.useState(t);D.useEffect(()=>e.on("change",r),[])}return e}function eq(t,e,n){var r;if(typeof t=="string"){let i=document;e&&(xx(!!e.current),i=e.current),n?((r=n[t])!==null&&r!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}function QBe(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return $n.update(r,!0),()=>zl(r)}const HBe=bX(()=>window.ScrollTimeline!==void 0);class tq{constructor(e){this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(HBe()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),QBe(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function VBe(t){return typeof t=="object"&&!Array.isArray(t)}function $Be(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=VX(t)?new ZX(e,{enableHardwareAcceleration:!1}):new qX(e,{enableHardwareAcceleration:!0});n.mount(t),h2.set(t,n)}function WBe(t,e=100){const n=NM({keyframes:[0,e],...t}),r=Math.min(Uw(n),Nw);return{type:"keyframes",ease:i=>n.next(r*i).value/e,duration:kl(r)}}function jU(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}const jBe=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function KBe(t,e){return sX(t)?t[jBe(0,t.length,e)]:t}function JBe(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(_x(t,i),r--)}}function YBe(t,e,n,r,i,s){JBe(t,i,s);for(let o=0;o<e.length;o++)t.push({value:e[o],at:ir(i,s,r[o]),easing:KBe(n,o)})}function XBe(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const qBe="easeInOut";function ZBe(t,{defaultTransition:e={},...n}={},r){const i=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,u=0,f=0;for(let h=0;h<t.length;h++){const d=t[h];if(typeof d=="string"){l.set(d,u);continue}else if(!Array.isArray(d)){l.set(d.name,jU(u,d.at,c,l));continue}let[m,A,v={}]=d;v.at!==void 0&&(u=jU(u,v.at,c,l));let y=0;const _=(x,E,b,w=0,T=0)=>{const C=eRe(x),{delay:I=0,times:B=CX(C),type:R="keyframes",...L}=E;let{ease:z=e.ease||"easeOut",duration:O}=E;const G=typeof I=="function"?I(w,T):I,j=C.length;if(j<=2&&R==="spring"){let Q=100;if(j===2&&rRe(C)){const ge=C[1]-C[0];Q=Math.abs(ge)}const Z={...L};O!==void 0&&(Z.duration=Lc(O));const re=WBe(Z,Q);z=re.ease,O=re.duration}O??(O=i);const J=u+G,N=J+O;B.length===1&&B[0]===0&&(B[1]=1);const V=B.length-C.length;V>0&&EX(B,V),C.length===1&&C.unshift(null),YBe(b,C,z,B,J,N),y=Math.max(G+O,y),f=Math.max(N,f)};if(Xi(m)){const x=KU(m,o);_(A,v,JU("default",x))}else{const x=eq(m,r,a),E=x.length;for(let b=0;b<E;b++){A=A,v=v;const w=x[b],T=KU(w,o);for(const C in A)_(A[C],tRe(v,C),JU(C,T),b,E)}c=u,u+=y}}return o.forEach((h,d)=>{for(const m in h){const A=h[m];A.sort(XBe);const v=[],y=[],_=[];for(let E=0;E<A.length;E++){const{at:b,value:w,easing:T}=A[E];v.push(w),y.push(gm(0,f,b)),_.push(T||"easeOut")}y[0]!==0&&(y.unshift(0),v.unshift(v[0]),_.unshift(qBe)),y[y.length-1]!==1&&(y.push(1),v.push(null)),s.has(d)||s.set(d,{keyframes:{},transition:{}});const x=s.get(d);x.keyframes[m]=v,x.transition[m]={...e,duration:f,ease:_,times:y,...n}}}),s}function KU(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function JU(t,e){return e[t]||(e[t]=[]),e[t]}function eRe(t){return Array.isArray(t)?t:[t]}function tRe(t,e){return t[e]?{...t,...t[e]}:{...t}}const nRe=t=>typeof t=="number",rRe=t=>t.every(nRe);function nq(t,e,n,r){const i=eq(t,r),s=i.length,o=[];for(let a=0;a<s;a++){const l=i[a];h2.has(l)||$Be(l);const c=h2.get(l),u={...n};typeof u.delay=="function"&&(u.delay=u.delay(a,s)),o.push(...HM(c,{...e,transition:u},{}))}return new tq(o)}const iRe=t=>Array.isArray(t)&&Array.isArray(t[0]);function sRe(t,e,n){const r=[];return ZBe(t,e,n).forEach(({keyframes:s,transition:o},a)=>{let l;Xi(a)?l=VM(a,s.default,o.default):l=nq(a,s,o),r.push(l)}),new tq(r)}const oRe=t=>{function e(n,r,i){let s;return iRe(n)?s=sRe(n,r,t):VBe(r)?s=nq(n,r,i,t):s=VM(n,r,i),t&&t.animations.push(s),s}return e},Jw=oRe(),$M=D.createContext({menuOpened:!1,setMenuOpened:()=>{}});function aRe({children:t}){const[e,n]=D.useState(!1);return Ke($M.Provider,{value:{menuOpened:e,setMenuOpened:n},children:t})}const rq=D.createContext(0);function Ex({children:t,offset:e,factor:n,...r}){const{offset:i,sectionHeight:s,aspect:o}=lRe(),a=D.useRef();e=e!==void 0?e:i;const{position:l}=hx("SECTION",{position:{x:0,y:-s*e*n,z:0}});return Fd(()=>{const c=a.current.position.y,u=B0.top.current/o;a.current.position.y=zbe(c,u/B0.zoom*n,.1),r.debug&&console.log("ref.current.position.y:",a.current.position.y)}),Ke(rq.Provider,{value:e,children:Ke("group",{...r,position:[l==null?void 0:l.x,l==null?void 0:l.y,l==null?void 0:l.z],children:Ke("group",{ref:a,children:t})})})}function lRe(){const{sections:t,pages:e,zoom:n}=B0,{size:r,viewport:i}=La(),s=D.useContext(rq),o=i==null?void 0:i.width,a=i==null?void 0:i.height,l=o/n,c=a/n,u=r.width<700,f=l*(u?.2:.1),h=l*(u?.8:.6),d=c*((e-1)/(t-1));return{aspect:r.height/a,viewport:i,offset:s,viewportWidth:o,viewportHeight:a,canvasWidth:l,canvasHeight:c,mobile:u,margin:f,contentMaxWidth:h,sectionHeight:d}}qf.preload("/portfolio/models/Skull.glb");const iq=new pee().setPath("https://raw.githubusercontent.com/miroleon/gradient_hdr_freebie/main/Gradient_HDR_Freebies/").load("ml_gradient_freebie_01.hdr",function(){iq.mapping=Ic.EquirectangularReflectionMapping});var Cx=new Ic.Scene;Cx.environment=iq;Cx.fog=new Ic.FogExp2(1119516,.15);var R0=new Ic.Group;Cx.add(R0);const X3=new Ic.PointLight(8768696,7.5,20);X3.position.set(0,3,2);R0.add(X3);const q3=new Ic.PointLight(10454476,7.5,20);q3.position.set(0,3,2);R0.add(q3);const cRe=(t,e)=>{const n=D.useRef(null),r=D.useRef(null),i=D.useRef(0),s=D.useRef(!1),o=D.useRef(t),a=D.useRef(null);D.useEffect(()=>{o.current=t},[t]);const l=D.useCallback(()=>{i.current+=.0025,r.current.position.x=Math.sin(i.current)*10,r.current.position.z=Math.cos(i.current)*10,r.current.position.y=Math.cos(i.current),X3.position.x=Math.sin(i.current+1)*11,X3.position.z=Math.cos(i.current+1)*11,X3.position.y=2*Math.cos(i.current-3)+3,q3.position.x=-Math.sin(i.current+1)*11,q3.position.z=-Math.cos(i.current+1)*11,q3.position.y=2*-Math.cos(i.current-3)-6,R0.rotation.y+=.01,r.current.lookAt(0,0,0)},[]),c=D.useCallback(()=>{o!=null&&o.current&&(l(),n.current.render(Cx,r.current),requestAnimationFrame(c))},[]),u=D.useCallback(()=>{n.current=new Ic.WebGLRenderer({canvas:document.getElementById("canvas"),antialias:!0,alpha:!0}),n.current.setPixelRatio(window.devicePixelRatio),n.current.setSize(window.innerWidth,window.innerHeight),r.current=new Ic.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),r.current.position.z=10,R0.add(r.current);const f=new Ic.MeshStandardMaterial({color:16777215,roughness:0,metalness:.5,envMapIntensity:10});new mee().load("/portfolio/models/craneo.OBJ",d=>{a.current=d,a.current.children[0].material=f,a.current.scale.setScalar(2),a.current.position.set(0,.25,0),R0.add(a.current)}),c()},[]);D.useEffect(()=>{u(),s.current=!0},[]),D.useEffect(()=>{s.current&&t&&c()},[t]),D.useEffect(()=>{s.current&&t&&a.current.scale.setScalar(e?1.25:2)},[e,t])};var uRe=Object.defineProperty,fRe=(t,e)=>{for(var n in e)uRe(t,n,{get:e[n],enumerable:!0})},Ga={};fRe(Ga,{assign:()=>pRe,colors:()=>vf,createStringInterpolator:()=>qM,skipAnimation:()=>fq,to:()=>uq,willAdvance:()=>ZM});var WM=BA(),Yt=t=>MA(t,WM),jM=BA();Yt.write=t=>MA(t,jM);var Sx=BA();Yt.onStart=t=>MA(t,Sx);var KM=BA();Yt.onFrame=t=>MA(t,KM);var JM=BA();Yt.onFinish=t=>MA(t,JM);var P0=[];Yt.setTimeout=(t,e)=>{const n=Yt.now()+e,r=()=>{const s=P0.findIndex(o=>o.cancel==r);~s&&P0.splice(s,1),ef-=~s?1:0},i={time:n,handler:t,cancel:r};return P0.splice(sq(n),0,i),ef+=1,oq(),i};var sq=t=>~(~P0.findIndex(e=>e.time>t)||~P0.length);Yt.cancel=t=>{Sx.delete(t),KM.delete(t),JM.delete(t),WM.delete(t),jM.delete(t)};Yt.sync=t=>{Yw=!0,Yt.batchedUpdates(t),Yw=!1};Yt.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Yt.onStart(n)}return r.handler=t,r.cancel=()=>{Sx.delete(n),e=null},r};var YM=typeof window<"u"?window.requestAnimationFrame:()=>{};Yt.use=t=>YM=t;Yt.now=typeof performance<"u"?()=>performance.now():Date.now;Yt.batchedUpdates=t=>t();Yt.catch=console.error;Yt.frameLoop="always";Yt.advance=()=>{Yt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):lq()};var Zu=-1,ef=0,Yw=!1;function MA(t,e){Yw?(e.delete(t),t(0)):(e.add(t),oq())}function oq(){Zu<0&&(Zu=0,Yt.frameLoop!=="demand"&&YM(aq))}function hRe(){Zu=-1}function aq(){~Zu&&(YM(aq),Yt.batchedUpdates(lq))}function lq(){const t=Zu;Zu=Yt.now();const e=sq(Zu);if(e&&(cq(P0.splice(0,e),n=>n.handler()),ef-=e),!ef){hRe();return}Sx.flush(),WM.flush(t?Math.min(64,Zu-t):16.667),KM.flush(),jM.flush(),JM.flush()}function BA(){let t=new Set,e=t;return{add(n){ef+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return ef-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,ef-=e.size,cq(e,r=>r(n)&&t.add(r)),ef+=t.size,e=t)}}}function cq(t,e){t.forEach(n=>{try{e(n)}catch(r){Yt.catch(r)}})}function Xw(){}var dRe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Xe={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function pc(t,e){if(Xe.arr(t)){if(!Xe.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var dn=(t,e)=>t.forEach(e);function Gf(t,e,n){if(Xe.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Ts=t=>Xe.und(t)?[]:Xe.arr(t)?t:[t];function Z3(t,e){if(t.size){const n=Array.from(t);t.clear(),dn(n,e)}}var y3=(t,...e)=>Z3(t,n=>n(...e)),XM=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),qM,uq,vf=null,fq=!1,ZM=Xw,pRe=t=>{t.to&&(uq=t.to),t.now&&(Yt.now=t.now),t.colors!==void 0&&(vf=t.colors),t.skipAnimation!=null&&(fq=t.skipAnimation),t.createStringInterpolator&&(qM=t.createStringInterpolator),t.requestAnimationFrame&&Yt.use(t.requestAnimationFrame),t.batchedUpdates&&(Yt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(ZM=t.willAdvance),t.frameLoop&&(Yt.frameLoop=t.frameLoop)},e1=new Set,Ho=[],ME=[],B4=0,wx={get idle(){return!e1.size&&!Ho.length},start(t){B4>t.priority?(e1.add(t),Yt.onStart(mRe)):(hq(t),Yt(qw))},advance:qw,sort(t){if(B4)Yt.onFrame(()=>wx.sort(t));else{const e=Ho.indexOf(t);~e&&(Ho.splice(e,1),dq(t))}},clear(){Ho=[],e1.clear()}};function mRe(){e1.forEach(hq),e1.clear(),Yt(qw)}function hq(t){Ho.includes(t)||dq(t)}function dq(t){Ho.splice(gRe(Ho,e=>e.priority>t.priority),0,t)}function qw(t){const e=ME;for(let n=0;n<Ho.length;n++){const r=Ho[n];B4=r.priority,r.idle||(ZM(r),r.advance(t),r.idle||e.push(r))}return B4=0,ME=Ho,ME.length=0,Ho=e,Ho.length>0}function gRe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var ARe=(t,e,n)=>Math.min(Math.max(n,t),e),ba="[-+]?\\d*\\.?\\d+",R4=ba+"%";function bx(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var vRe=new RegExp("rgb"+bx(ba,ba,ba)),yRe=new RegExp("rgba"+bx(ba,ba,ba,ba)),xRe=new RegExp("hsl"+bx(ba,R4,R4)),_Re=new RegExp("hsla"+bx(ba,R4,R4,ba)),ERe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,CRe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,SRe=/^#([0-9a-fA-F]{6})$/,wRe=/^#([0-9a-fA-F]{8})$/;function bRe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=SRe.exec(t))?parseInt(e[1]+"ff",16)>>>0:vf&&vf[t]!==void 0?vf[t]:(e=vRe.exec(t))?(Dp(e[1])<<24|Dp(e[2])<<16|Dp(e[3])<<8|255)>>>0:(e=yRe.exec(t))?(Dp(e[1])<<24|Dp(e[2])<<16|Dp(e[3])<<8|qU(e[4]))>>>0:(e=ERe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=wRe.exec(t))?parseInt(e[1],16)>>>0:(e=CRe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=xRe.exec(t))?(YU(XU(e[1]),h5(e[2]),h5(e[3]))|255)>>>0:(e=_Re.exec(t))?(YU(XU(e[1]),h5(e[2]),h5(e[3]))|qU(e[4]))>>>0:null}function BE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function YU(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=BE(i,r,t+1/3),o=BE(i,r,t),a=BE(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Dp(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function XU(t){return(parseFloat(t)%360+360)%360/360}function qU(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function h5(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function ZU(t){let e=bRe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var p2=(t,e,n)=>{if(Xe.fun(t))return t;if(Xe.arr(t))return p2({range:t,output:e,extrapolate:n});if(Xe.str(t.output[0]))return qM(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=TRe(c,s);return IRe(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function IRe(t,e,n,r,i,s,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function TRe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var MRe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return ARe(0,1,i/t)},P4=1.70158,d5=P4*1.525,eG=P4+1,tG=2*Math.PI/3,nG=2*Math.PI/4.5,p5=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,BRe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>eG*t*t*t-P4*t*t,easeOutBack:t=>1+eG*Math.pow(t-1,3)+P4*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((d5+1)*2*t-d5)/2:(Math.pow(2*t-2,2)*((d5+1)*(t*2-2)+d5)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*tG),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*tG)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*nG))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*nG)/2+1,easeInBounce:t=>1-p5(1-t),easeOutBounce:p5,easeInOutBounce:t=>t<.5?(1-p5(1-2*t))/2:(1+p5(2*t-1))/2,steps:MRe},m2=Symbol.for("FluidValue.get"),vm=Symbol.for("FluidValue.observers"),vc=t=>!!(t&&t[m2]),Fo=t=>t&&t[m2]?t[m2]():t,rG=t=>t[vm]||null;function RRe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function D4(t,e){const n=t[vm];n&&n.forEach(r=>{RRe(r,e)})}var PRe=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");DRe(this,e)}},DRe=(t,e)=>mq(t,m2,e);function Ix(t,e){if(t[m2]){let n=t[vm];n||mq(t,vm,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function pq(t,e){const n=t[vm];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[vm]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var mq=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Z5=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,LRe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,iG=new RegExp(`(${Z5.source})(%|[a-z]+)`,"i"),kRe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Tx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,gq=t=>{const[e,n]=FRe(t);if(!e||XM())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&Tx.test(n))return gq(n);if(n)return n}return t},FRe=t=>{const e=Tx.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},RE,ORe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,NRe=t=>{RE||(RE=vf?new RegExp(`(${Object.keys(vf).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Fo(s).replace(Tx,gq).replace(LRe,ZU).replace(RE,ZU)),n=e.map(s=>s.match(Z5).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>p2({...t,output:s}));return s=>{var l;const o=!iG.test(e[0])&&((l=e.find(c=>iG.test(c)))==null?void 0:l.replace(Z5,""));let a=0;return e[0].replace(Z5,()=>`${i[a++](s)}${o||""}`).replace(kRe,ORe)}},eB="react-spring: ",Aq=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${eB}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},URe=Aq(console.warn);function GRe(){URe(`${eB}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var zRe=Aq(console.warn);function QRe(){zRe(`${eB}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Mx(t){return Xe.str(t)&&(t[0]=="#"||/\d/.test(t)||!XM()&&Tx.test(t)||t in(vf||{}))}var x3=XM()?D.useEffect:D.useLayoutEffect,HRe=()=>{const t=D.useRef(!1);return x3(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function VRe(){const t=D.useState()[1],e=HRe();return()=>{e.current&&t(Math.random())}}function $Re(t,e){const[n]=D.useState(()=>({inputs:e,result:t()})),r=D.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&WRe(e,s.inputs)||(s={inputs:e,result:t()}):s=n,D.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function WRe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var jRe=t=>D.useEffect(t,KRe),KRe=[];function JRe(t){const e=D.useRef();return D.useEffect(()=>{e.current=t}),e.current}var g2=Symbol.for("Animated:node"),YRe=t=>!!t&&t[g2]===t,dl=t=>t&&t[g2],tB=(t,e)=>dRe(t,g2,e),Bx=t=>t&&t[g2]&&t[g2].getPayload(),vq=class{constructor(){tB(this,this)}getPayload(){return this.payload||[]}},RA=class extends vq{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Xe.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new RA(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Xe.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Xe.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},A2=class extends RA{constructor(t){super(0),this._string=null,this._toString=p2({output:[t,t]})}static create(t){return new A2(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Xe.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=p2({output:[this.getValue(),t]})),this._value=0,super.reset()}},XRe=class extends vq{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return Gf(this.source,(r,i)=>{YRe(r)?n[i]=r.getValue(e):vc(r)?n[i]=Fo(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&dn(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return Gf(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){const n=Bx(e);n&&dn(n,r=>this.add(r))}},yq=class extends XRe{constructor(t){super(t)}static create(t){return new yq(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(qRe)),!0)}};function qRe(t){return(Mx(t)?A2:RA).create(t)}function Zw(t){const e=dl(t);return e?e.constructor:Xe.arr(t)?yq:Mx(t)?A2:RA}function Cs(t,...e){return Xe.fun(t)?t(...e):t}var t1=(t,e)=>t===!0||!!(e&&t&&(Xe.fun(t)?t(e):Ts(t).includes(e))),xq=(t,e)=>Xe.obj(t)?e&&t[e]:t,_q=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,ZRe=t=>t,nB=(t,e=ZRe)=>{let n=ePe;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Xe.und(s)||(r[i]=s)}return r},ePe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tPe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function nPe(t){const e={};let n=0;if(Gf(t,(r,i)=>{tPe[i]||(e[i]=r,n++)}),n)return e}function rB(t){const e=nPe(t);if(e){const n={to:e};return Gf(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function v2(t){return t=Fo(t),Xe.arr(t)?t.map(v2):Mx(t)?Ga.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function rPe(t){for(const e in t)return!0;return!1}function eb(t){return Xe.fun(t)||Xe.arr(t)&&Xe.obj(t[0])}function sG(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function iPe(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var sPe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},tb={...sPe.default,mass:1,damping:1,easing:BRe.linear,clamp:!1},oPe=class{constructor(){this.velocity=0,Object.assign(this,tb)}};function aPe(t,e,n){n&&(n={...n},oG(n,e),e={...n,...e}),oG(t,e),Object.assign(t,e);for(const o in tb)t[o]==null&&(t[o]=tb[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return Xe.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function oG(t,e){if(!Xe.und(e.decay))t.duration=void 0;else{const n=!Xe.und(e.tension)||!Xe.und(e.friction);(n||!Xe.und(e.frequency)||!Xe.und(e.damping)||!Xe.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var aG=[],lPe=class{constructor(){this.changed=!1,this.values=aG,this.toValues=null,this.fromValues=aG,this.config=new oPe,this.immediate=!1}};function Eq(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,c,u=t1(n.cancel??(r==null?void 0:r.cancel),e);if(u)d();else{Xe.und(n.pause)||(i.paused=t1(n.pause,e));let m=r==null?void 0:r.pause;m!==!0&&(m=i.paused||t1(m,e)),l=Cs(n.delay||0,e),m?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(c),c.cancel(),l=c.time-Yt.now()}function h(){l>0&&!Ga.skipAnimation?(i.delayed=!0,c=Yt.setTimeout(d,l),i.pauseQueue.add(f),i.timeouts.add(c)):d()}function d(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),t<=(i.cancelId||0)&&(u=!0);try{s.start({...n,callId:t,cancel:u},o)}catch(m){a(m)}}})}var iB=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?D0(t.get()):e.every(n=>n.noop)?Cq(t.get()):wa(t.get(),e.every(n=>n.finished)),Cq=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),wa=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),D0=t=>({value:t,cancelled:!0,finished:!1});function Sq(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=nB(e,(v,y)=>y==="onRest"?void 0:v);let u,f;const h=new Promise((v,y)=>(u=v,f=y)),d=v=>{const y=i<=(n.cancelId||0)&&D0(r)||i!==n.asyncId&&wa(r,!1);if(y)throw v.result=y,f(v),v},m=(v,y)=>{const _=new lG,x=new cG;return(async()=>{if(Ga.skipAnimation)throw y2(n),x.result=wa(r,!1),f(x),x;d(_);const E=Xe.obj(v)?{...v}:{...y,to:v};E.parentId=i,Gf(c,(w,T)=>{Xe.und(E[T])&&(E[T]=w)});const b=await r.start(E);return d(_),n.paused&&await new Promise(w=>{n.resumeQueue.add(w)}),b})()};let A;if(Ga.skipAnimation)return y2(n),wa(r,!1);try{let v;Xe.arr(t)?v=(async y=>{for(const _ of y)await m(_)})(t):v=Promise.resolve(t(m,r.stop.bind(r))),await Promise.all([v.then(u),h]),A=wa(r.get(),!0,!1)}catch(v){if(v instanceof lG)A=v.result;else if(v instanceof cG)A=v.result;else throw v}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Xe.fun(o)&&Yt.batchedUpdates(()=>{o(A,r,r.item)}),A})()}function y2(t,e){Z3(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var lG=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},cG=class extends Error{constructor(){super("SkipAnimationSignal")}},nb=t=>t instanceof sB,cPe=1,sB=class extends PRe{constructor(){super(...arguments),this.id=cPe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=dl(this);return t&&t.getValue()}to(...t){return Ga.to(this,t)}interpolate(...t){return GRe(),Ga.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){D4(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||wx.sort(this),D4(this,{type:"priority",parent:this,priority:t})}},Id=Symbol.for("SpringPhase"),wq=1,rb=2,ib=4,PE=t=>(t[Id]&wq)>0,Du=t=>(t[Id]&rb)>0,Zg=t=>(t[Id]&ib)>0,uG=(t,e)=>e?t[Id]|=rb|wq:t[Id]&=~rb,fG=(t,e)=>e?t[Id]|=ib:t[Id]&=~ib,uPe=class extends sB{constructor(t,e){if(super(),this.animation=new lPe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Xe.und(t)||!Xe.und(e)){const n=Xe.obj(t)?{...t}:{...e,from:t};Xe.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Du(this)||this._state.asyncTo)||Zg(this)}get goal(){return Fo(this.animation.to)}get velocity(){const t=dl(this);return t instanceof RA?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return PE(this)}get isAnimating(){return Du(this)}get isPaused(){return Zg(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=Bx(r.to);!o&&vc(r.to)&&(i=Ts(Fo(r.to))),r.values.forEach((c,u)=>{if(c.done)return;const f=c.constructor==A2?1:o?o[u].lastPosition:i[u];let h=r.immediate,d=f;if(!h){if(d=c.lastPosition,s.tension<=0){c.done=!0;return}let m=c.elapsedTime+=t;const A=r.fromValues[u],v=c.v0!=null?c.v0:c.v0=Xe.arr(s.velocity)?s.velocity[u]:s.velocity;let y;const _=s.precision||(A==f?.005:Math.min(1,Math.abs(f-A)*.001));if(Xe.und(s.duration))if(s.decay){const x=s.decay===!0?.998:s.decay,E=Math.exp(-(1-x)*m);d=A+v/(1-x)*(1-E),h=Math.abs(c.lastPosition-d)<=_,y=v*E}else{y=c.lastVelocity==null?v:c.lastVelocity;const x=s.restVelocity||_/10,E=s.clamp?0:s.bounce,b=!Xe.und(E),w=A==f?c.v0>0:A<f;let T,C=!1;const I=1,B=Math.ceil(t/I);for(let R=0;R<B&&(T=Math.abs(y)>x,!(!T&&(h=Math.abs(f-d)<=_,h)));++R){b&&(C=d==f||d>f==w,C&&(y=-y*E,d=f));const L=-s.tension*1e-6*(d-f),z=-s.friction*.001*y,O=(L+z)/s.mass;y=y+O*I,d=d+y*I}}else{let x=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,m=c.elapsedTime+=t)),x=(s.progress||0)+m/this._memoizedDuration,x=x>1?1:x<0?0:x,c.durationProgress=x),d=A+s.easing(x)*(f-A),y=(d-c.lastPosition)/t,h=x==1}c.lastVelocity=y,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[u].done&&(h=!1),h?c.done=!0:e=!1,c.setValue(d,s.round)&&(n=!0)});const a=dl(this),l=a.getValue();if(e){const c=Fo(r.to);(l!==c||n)&&!s.decay?(a.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Yt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Du(this)){const{to:t,config:e}=this.animation;Yt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Xe.und(t)?(n=this.queue||[],this.queue=[]):n=[Xe.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>iB(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),y2(this._state,t&&this._lastCallId),Yt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=Xe.obj(n)?n[e]:n,(n==null||eb(n))&&(n=void 0),r=Xe.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return PE(this)||(t.reverse&&([n,r]=[r,n]),r=Fo(r),Xe.und(r)?dl(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,nB(t,(o,a)=>/^on/.test(a)?xq(o,n):o)),dG(this,t,"onProps"),t3(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Eq(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{Zg(this)||(fG(this,!0),y3(s.pauseQueue),t3(this,"onPause",wa(this,e3(this,this.animation.to)),this))},resume:()=>{Zg(this)&&(fG(this,!1),Du(this)&&this._resume(),y3(s.resumeQueue),t3(this,"onResume",wa(this,e3(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=bq(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(D0(this));const r=!Xe.und(t.to),i=!Xe.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(D0(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:u=l,from:f=c}=t;i&&!r&&(!e.default||Xe.und(u))&&(u=f),e.reverse&&([u,f]=[f,u]);const h=!pc(f,c);h&&(a.from=f),f=Fo(f);const d=!pc(u,l);d&&this._focus(u);const m=eb(e.to),{config:A}=a,{decay:v,velocity:y}=A;(r||i)&&(A.velocity=0),e.config&&!m&&aPe(A,Cs(e.config,s),e.config!==o.config?Cs(o.config,s):void 0);let _=dl(this);if(!_||Xe.und(u))return n(wa(this,!0));const x=Xe.und(e.reset)?i&&!e.default:!Xe.und(f)&&t1(e.reset,s),E=x?f:this.get(),b=v2(u),w=Xe.num(b)||Xe.arr(b)||Mx(b),T=!m&&(!w||t1(o.immediate||e.immediate,s));if(d){const R=Zw(u);if(R!==_.constructor)if(T)_=this._set(b);else throw Error(`Cannot animate between ${_.constructor.name} and ${R.name}, as the "to" prop suggests`)}const C=_.constructor;let I=vc(u),B=!1;if(!I){const R=x||!PE(this)&&h;(d||R)&&(B=pc(v2(E),b),I=!B),(!pc(a.immediate,T)&&!T||!pc(A.decay,v)||!pc(A.velocity,y))&&(I=!0)}if(B&&Du(this)&&(a.changed&&!x?I=!0:I||this._stop(l)),!m&&((I||vc(l))&&(a.values=_.getPayload(),a.toValues=vc(u)?null:C==A2?[1]:Ts(b)),a.immediate!=T&&(a.immediate=T,!T&&!x&&this._set(l)),I)){const{onRest:R}=a;dn(fPe,z=>dG(this,e,z));const L=wa(this,e3(this,l));y3(this._pendingCalls,L),this._pendingCalls.add(n),a.changed&&Yt.batchedUpdates(()=>{var z;a.changed=!x,R==null||R(L,this),x?Cs(o.onRest,L):(z=a.onStart)==null||z.call(a,L,this)})}x&&this._set(E),m?n(Sq(e.to,e,this._state,this)):I?this._start():Du(this)&&!d?this._pendingCalls.add(n):n(Cq(E))}_focus(t){const e=this.animation;t!==e.to&&(rG(this)&&this._detach(),e.to=t,rG(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;vc(e)&&(Ix(e,this),nb(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;vc(t)&&pq(t,this)}_set(t,e=!0){const n=Fo(t);if(!Xe.und(n)){const r=dl(this);if(!r||!pc(n,r.getValue())){const i=Zw(n);!r||r.constructor!=i?tB(this,i.create(n)):r.setValue(n),r&&Yt.batchedUpdates(()=>{this._onChange(n,e)})}}return dl(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,t3(this,"onStart",wa(this,e3(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Cs(this.animation.onChange,t,this)),Cs(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;dl(this).reset(Fo(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Du(this)||(uG(this,!0),Zg(this)||this._resume())}_resume(){Ga.skipAnimation?this.finish():wx.start(this)}_stop(t,e){if(Du(this)){uG(this,!1);const n=this.animation;dn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),D4(this,{type:"idle",parent:this});const r=e?D0(this.get()):wa(this.get(),e3(this,t??n.to));y3(this._pendingCalls,r),n.changed&&(n.changed=!1,t3(this,"onRest",r,this))}}};function e3(t,e){const n=v2(e),r=v2(t.get());return pc(r,n)}function bq(t,e=t.loop,n=t.to){const r=Cs(e);if(r){const i=r!==!0&&rB(r),s=(i||t).reverse,o=!i||i.reset;return L4({...t,loop:e,default:!1,pause:void 0,to:!s||eb(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function L4(t){const{to:e,from:n}=t=rB(t),r=new Set;return Xe.obj(e)&&hG(e,r),Xe.obj(n)&&hG(n,r),t.keys=r.size?Array.from(r):null,t}function hG(t,e){Gf(t,(n,r)=>n!=null&&e.add(r))}var fPe=["onStart","onRest","onChange","onPause","onResume"];function dG(t,e,n){t.animation[n]=e[n]!==_q(e,n)?xq(e[n],t.key):void 0}function t3(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var hPe=["onStart","onChange","onRest"],dPe=1,pPe=class{constructor(t,e){this.id=dPe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];Xe.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(L4(t)),this}start(t){let{queue:e}=this;return t?e=Ts(t).map(L4):this.queue=[],this._flush?this._flush(this,e):(Bq(this,e),mPe(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;dn(Ts(e),r=>n[r].stop(!!t))}else y2(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(Xe.und(t))this.start({pause:!0});else{const e=this.springs;dn(Ts(t),n=>e[n].pause())}return this}resume(t){if(Xe.und(t))this.start({pause:!1});else{const e=this.springs;dn(Ts(t),n=>e[n].resume())}return this}each(t){Gf(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Z3(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&Z3(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,Z3(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Yt.onFrame(this._onFrame)}};function mPe(t,e){return Promise.all(e.map(n=>Iq(t,n))).then(n=>iB(t,n))}async function Iq(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=Xe.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=Xe.arr(i)||Xe.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):dn(hPe,A=>{const v=e[A];if(Xe.fun(v)){const y=t._events[A];e[A]=({finished:_,cancelled:x})=>{const E=y.get(v);E?(_||(E.finished=!1),x&&(E.cancelled=!0)):y.set(v,{value:null,finished:_||!1,cancelled:x||!1})},c&&(c[A]=e[A])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,y3(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const h=(r||Object.keys(t.springs)).map(A=>t.springs[A].start(e)),d=e.cancel===!0||_q(e,"cancel")===!0;(u||d&&f.asyncId)&&h.push(Eq(++t._lastAsyncId,{props:e,state:f,actions:{pause:Xw,resume:Xw,start(A,v){d?(y2(f,t._lastAsyncId),v(D0(t))):(A.onRest=a,v(Sq(u,A,f,t)))}}})),f.paused&&await new Promise(A=>{f.resumeQueue.add(A)});const m=iB(t,await Promise.all(h));if(o&&m.finished&&!(n&&m.noop)){const A=bq(e,o,i);if(A)return Bq(t,[A]),Iq(t,A,!0)}return l&&Yt.batchedUpdates(()=>l(m,t,t.item)),m}function gPe(t,e){const n={...t.springs};return e&&dn(Ts(e),r=>{Xe.und(r.keys)&&(r=L4(r)),Xe.obj(r.to)||(r={...r,to:void 0}),Mq(n,r,i=>Tq(i))}),APe(t,n),n}function APe(t,e){Gf(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Ix(n,t))})}function Tq(t,e){const n=new uPe;return n.key=t,e&&Ix(n,e),n}function Mq(t,e,n){e.keys&&dn(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function Bq(t,e){dn(e,n=>{Mq(t.springs,n,r=>Tq(r,t))})}var Rx=({children:t,...e})=>{const n=D.useContext(k4),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=$Re(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=k4;return D.createElement(s,{value:e},t)},k4=vPe(Rx,{});Rx.Provider=k4.Provider;Rx.Consumer=k4.Consumer;function vPe(t,e){return Object.assign(t,D.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var yPe=()=>{const t=[],e=function(r){QRe();const i=[];return dn(t,(s,o)=>{if(Xe.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return dn(t,r=>r.pause(...arguments)),this},e.resume=function(){return dn(t,r=>r.resume(...arguments)),this},e.set=function(r){dn(t,(i,s)=>{const o=Xe.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return dn(t,(s,o)=>{if(Xe.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return dn(t,r=>r.stop(...arguments)),this},e.update=function(r){return dn(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Xe.fun(r)?r(s,i):r};return e._getProps=n,e};function Rq(t,e,n){const r=Xe.fun(e)&&e,{reset:i,sort:s,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:u,config:f}=r?r():e,h=D.useMemo(()=>r||arguments.length==3?yPe():void 0,[]),d=Ts(t),m=[],A=D.useRef(null),v=i?null:A.current;x3(()=>{A.current=m}),jRe(()=>(dn(m,O=>{h==null||h.add(O.ctrl),O.ctrl.ref=h}),()=>{dn(A.current,O=>{O.expired&&clearTimeout(O.expirationId),sG(O.ctrl,h),O.ctrl.stop(!0)})}));const y=_Pe(d,r?r():e,v),_=i&&A.current||[];x3(()=>dn(_,({ctrl:O,item:G,key:j})=>{sG(O,h),Cs(c,G,j)}));const x=[];if(v&&dn(v,(O,G)=>{O.expired?(clearTimeout(O.expirationId),_.push(O)):(G=x[G]=y.indexOf(O.key),~G&&(m[G]=O))}),dn(d,(O,G)=>{m[G]||(m[G]={key:y[G],item:O,phase:"mount",ctrl:new pPe},m[G].ctrl.item=O)}),x.length){let O=-1;const{leave:G}=r?r():e;dn(x,(j,J)=>{const N=v[J];~j?(O=m.indexOf(N),m[O]={...N,item:d[j]}):G&&m.splice(++O,0,N)})}Xe.fun(s)&&m.sort((O,G)=>s(O.item,G.item));let E=-o;const b=VRe(),w=nB(e),T=new Map,C=D.useRef(new Map),I=D.useRef(!1);dn(m,(O,G)=>{const j=O.key,J=O.phase,N=r?r():e;let V,Q;const Z=Cs(N.delay||0,j);if(J=="mount")V=N.enter,Q="enter";else{const be=y.indexOf(j)<0;if(J!="leave")if(be)V=N.leave,Q="leave";else if(V=N.update)Q="update";else return;else if(!be)V=N.enter,Q="enter";else return}if(V=Cs(V,O.item,G),V=Xe.obj(V)?rB(V):{to:V},!V.config){const be=f||w.config;V.config=Cs(be,O.item,G,Q)}E+=o;const re={...w,delay:Z+E,ref:u,immediate:N.immediate,reset:!1,...V};if(Q=="enter"&&Xe.und(re.from)){const be=r?r():e,oe=Xe.und(be.initial)||v?be.from:be.initial;re.from=Cs(oe,O.item,G)}const{onResolve:ge}=re;re.onResolve=be=>{Cs(ge,be);const oe=A.current,Fe=oe.find(he=>he.key===j);if(Fe&&!(be.cancelled&&Fe.phase!="update")&&Fe.ctrl.idle){const he=oe.every(U=>U.ctrl.idle);if(Fe.phase=="leave"){const U=Cs(a,Fe.item);if(U!==!1){const W=U===!0?0:U;if(Fe.expired=!0,!he&&W>0){W<=2147483647&&(Fe.expirationId=setTimeout(b,W));return}}}he&&oe.some(U=>U.expired)&&(C.current.delete(Fe),l&&(I.current=!0),b())}};const Ee=gPe(O.ctrl,re);Q==="leave"&&l?C.current.set(O,{phase:Q,springs:Ee,payload:re}):T.set(O,{phase:Q,springs:Ee,payload:re})});const B=D.useContext(Rx),R=JRe(B),L=B!==R&&rPe(B);x3(()=>{L&&dn(m,O=>{O.ctrl.start({default:B})})},[B]),dn(T,(O,G)=>{if(C.current.size){const j=m.findIndex(J=>J.key===G.key);m.splice(j,1)}}),x3(()=>{dn(C.current.size?C.current:T,({phase:O,payload:G},j)=>{const{ctrl:J}=j;j.phase=O,h==null||h.add(J),L&&O=="enter"&&J.start({default:B}),G&&(iPe(J,G.ref),(J.ref||h)&&!I.current?J.update(G):(J.start(G),I.current&&(I.current=!1)))})},i?void 0:n);const z=O=>D.createElement(D.Fragment,null,m.map((G,j)=>{const{springs:J}=T.get(G)||G.ctrl,N=O({...J},G.item,G,j);return N&&N.type?D.createElement(N.type,{...N.props,key:Xe.str(G.key)||Xe.num(G.key)?G.key:G.ctrl.id,ref:N.ref}):N}));return h?[z,h]:z}var xPe=1;function _Pe(t,{key:e,keys:n=e},r){if(n===null){const i=new Set;return t.map(s=>{const o=r&&r.find(a=>a.item===s&&a.phase!=="leave"&&!i.has(a));return o?(i.add(o),o.key):xPe++})}return Xe.und(n)?t:Xe.fun(n)?t.map(n):Ts(n)}var EPe=class extends sB{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=p2(...e);const n=this._get(),r=Zw(n);tB(this,r.create(n))}advance(t){const e=this._get(),n=this.get();pc(e,n)||(dl(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&pG(this._active)&&DE(this)}_get(){const t=Xe.arr(this.source)?this.source.map(Fo):Ts(Fo(this.source));return this.calc(...t)}_start(){this.idle&&!pG(this._active)&&(this.idle=!1,dn(Bx(this),t=>{t.done=!1}),Ga.skipAnimation?(Yt.batchedUpdates(()=>this.advance()),DE(this)):wx.start(this))}_attach(){let t=1;dn(Ts(this.source),e=>{vc(e)&&Ix(e,this),nb(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){dn(Ts(this.source),t=>{vc(t)&&pq(t,this)}),this._active.clear(),DE(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Ts(this.source).reduce((e,n)=>Math.max(e,(nb(n)?n.priority:0)+1),0))}};function CPe(t){return t.idle!==!1}function pG(t){return!t.size||Array.from(t).every(CPe)}function DE(t){t.idle||(t.idle=!0,dn(Bx(t),e=>{e.done=!0}),D4(t,{type:"idle",parent:t}))}Ga.assign({createStringInterpolator:NRe,to:(t,e)=>new EPe(t,e)});var SPe=Object.defineProperty,wPe=(t,e)=>{for(var n in e)SPe(t,n,{get:e[n],enumerable:!0})},bPe={};wPe(bPe,{assign:()=>RPe,colors:()=>cd,createStringInterpolator:()=>fB,skipAnimation:()=>Uq,to:()=>Nq,willAdvance:()=>Gq});var oB=DA(),Ln=t=>PA(t,oB),aB=DA();Ln.write=t=>PA(t,aB);var Px=DA();Ln.onStart=t=>PA(t,Px);var lB=DA();Ln.onFrame=t=>PA(t,lB);var cB=DA();Ln.onFinish=t=>PA(t,cB);var L0=[];Ln.setTimeout=(t,e)=>{const n=Ln.now()+e,r=()=>{const s=L0.findIndex(o=>o.cancel==r);~s&&L0.splice(s,1),nf-=~s?1:0},i={time:n,handler:t,cancel:r};return L0.splice(Pq(n),0,i),nf+=1,Dq(),i};var Pq=t=>~(~L0.findIndex(e=>e.time>t)||~L0.length);Ln.cancel=t=>{Px.delete(t),lB.delete(t),cB.delete(t),oB.delete(t),aB.delete(t)};Ln.sync=t=>{sb=!0,Ln.batchedUpdates(t),sb=!1};Ln.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Ln.onStart(n)}return r.handler=t,r.cancel=()=>{Px.delete(n),e=null},r};var uB=typeof window<"u"?window.requestAnimationFrame:()=>{};Ln.use=t=>uB=t;Ln.now=typeof performance<"u"?()=>performance.now():Date.now;Ln.batchedUpdates=t=>t();Ln.catch=console.error;Ln.frameLoop="always";Ln.advance=()=>{Ln.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):kq()};var tf=-1,nf=0,sb=!1;function PA(t,e){sb?(e.delete(t),t(0)):(e.add(t),Dq())}function Dq(){tf<0&&(tf=0,Ln.frameLoop!=="demand"&&uB(Lq))}function IPe(){tf=-1}function Lq(){~tf&&(uB(Lq),Ln.batchedUpdates(kq))}function kq(){const t=tf;tf=Ln.now();const e=Pq(tf);if(e&&(Fq(L0.splice(0,e),n=>n.handler()),nf-=e),!nf){IPe();return}Px.flush(),oB.flush(t?Math.min(64,tf-t):16.667),lB.flush(),aB.flush(),cB.flush()}function DA(){let t=new Set,e=t;return{add(n){nf+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return nf-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,nf-=e.size,Fq(e,r=>r(n)&&t.add(r)),nf+=t.size,e=t)}}}function Fq(t,e){t.forEach(n=>{try{e(n)}catch(r){Ln.catch(r)}})}function TPe(){}var MPe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),_i={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0},yl=(t,e)=>t.forEach(e);function F4(t,e,n){if(_i.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var BPe=t=>_i.und(t)?[]:_i.arr(t)?t:[t],Oq=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fB,Nq,cd=null,Uq=!1,Gq=TPe,RPe=t=>{t.to&&(Nq=t.to),t.now&&(Ln.now=t.now),t.colors!==void 0&&(cd=t.colors),t.skipAnimation!=null&&(Uq=t.skipAnimation),t.createStringInterpolator&&(fB=t.createStringInterpolator),t.requestAnimationFrame&&Ln.use(t.requestAnimationFrame),t.batchedUpdates&&(Ln.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Gq=t.willAdvance),t.frameLoop&&(Ln.frameLoop=t.frameLoop)},PPe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ia="[-+]?\\d*\\.?\\d+",O4=Ia+"%";function Dx(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var DPe=new RegExp("rgb"+Dx(Ia,Ia,Ia)),LPe=new RegExp("rgba"+Dx(Ia,Ia,Ia,Ia)),kPe=new RegExp("hsl"+Dx(Ia,O4,O4)),FPe=new RegExp("hsla"+Dx(Ia,O4,O4,Ia)),OPe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,NPe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,UPe=/^#([0-9a-fA-F]{6})$/,GPe=/^#([0-9a-fA-F]{8})$/;function zPe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=UPe.exec(t))?parseInt(e[1]+"ff",16)>>>0:cd&&cd[t]!==void 0?cd[t]:(e=DPe.exec(t))?(Lp(e[1])<<24|Lp(e[2])<<16|Lp(e[3])<<8|255)>>>0:(e=LPe.exec(t))?(Lp(e[1])<<24|Lp(e[2])<<16|Lp(e[3])<<8|AG(e[4]))>>>0:(e=OPe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=GPe.exec(t))?parseInt(e[1],16)>>>0:(e=NPe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=kPe.exec(t))?(mG(gG(e[1]),m5(e[2]),m5(e[3]))|255)>>>0:(e=FPe.exec(t))?(mG(gG(e[1]),m5(e[2]),m5(e[3]))|AG(e[4]))>>>0:null}function LE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mG(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=LE(i,r,t+1/3),o=LE(i,r,t),a=LE(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Lp(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function gG(t){return(parseFloat(t)%360+360)%360/360}function AG(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function m5(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function vG(t){let e=zPe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var zq=(t,e,n)=>{if(_i.fun(t))return t;if(_i.arr(t))return zq({range:t,output:e,extrapolate:n});if(_i.str(t.output[0]))return fB(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=HPe(c,s);return QPe(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function QPe(t,e,n,r,i,s,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function HPe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var x2=Symbol.for("FluidValue.get"),_2=Symbol.for("FluidValue.observers"),N4=t=>!!(t&&t[x2]),U4=t=>t&&t[x2]?t[x2]():t;function VPe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function $Pe(t,e){const n=t[_2];n&&n.forEach(r=>{VPe(r,e)})}var WPe=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");jPe(this,t)}},jPe=(t,e)=>Hq(t,x2,e);function Qq(t,e){if(t[x2]){let n=t[_2];n||Hq(t,_2,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function ob(t,e){const n=t[_2];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[_2]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var Hq=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),e6=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,KPe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,yG=new RegExp(`(${e6.source})(%|[a-z]+)`,"i"),JPe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,hB=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Vq=t=>{const[e,n]=YPe(t);if(!e||Oq())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&hB.test(n))return Vq(n);if(n)return n}return t},YPe=t=>{const e=hB.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},kE,XPe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,qPe=t=>{kE||(kE=cd?new RegExp(`(${Object.keys(cd).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>U4(s).replace(hB,Vq).replace(KPe,vG).replace(kE,vG)),n=e.map(s=>s.match(e6).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>zq({...t,output:s}));return s=>{var l;const o=!yG.test(e[0])&&((l=e.find(c=>yG.test(c)))==null?void 0:l.replace(e6,""));let a=0;return e[0].replace(e6,()=>`${i[a++](s)}${o||""}`).replace(JPe,XPe)}},ZPe="react-spring: ",$q=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${ZPe}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}};$q(console.warn);$q(console.warn);var Wq=Oq()?D.useEffect:D.useLayoutEffect,eDe=()=>{const t=D.useRef(!1);return Wq(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function tDe(){const t=D.useState()[1],e=eDe();return()=>{e.current&&t(Math.random())}}var nDe=t=>D.useEffect(t,rDe),rDe=[],G4=Symbol.for("Animated:node"),iDe=t=>!!t&&t[G4]===t,sDe=(t,e)=>MPe(t,G4,e),oDe=t=>t&&t[G4]&&t[G4].getPayload(),aDe=class{constructor(){sDe(this,this)}getPayload(){return this.payload||[]}},z4={dependencies:null},dB=class extends aDe{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return F4(this.source,(n,r)=>{iDe(n)?e[r]=n.getValue(t):N4(n)?e[r]=U4(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&yl(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return F4(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){z4.dependencies&&N4(t)&&z4.dependencies.add(t);const e=oDe(t);e&&yl(e,n=>this.add(n))}},xG=(t,e)=>{const n=!_i.fun(t)||t.prototype&&t.prototype.isReactComponent;return D.forwardRef((r,i)=>{const s=D.useRef(null),o=n&&D.useCallback(m=>{s.current=uDe(i,m)},[i]),[a,l]=cDe(r,e),c=tDe(),u=()=>{const m=s.current;if(n&&!m)return;(m?e.applyAnimatedValues(m,a.getValue(!0)):!1)===!1&&c()},f=new lDe(u,l),h=D.useRef();Wq(()=>(h.current=f,yl(l,m=>Qq(m,f)),()=>{h.current&&(yl(h.current.deps,m=>ob(m,h.current)),Ln.cancel(h.current.update))})),D.useEffect(u,[]),nDe(()=>()=>{const m=h.current;yl(m.deps,A=>ob(A,m))});const d=e.getComponentProps(a.getValue());return D.createElement(t,{...d,ref:o})})},lDe=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Ln.write(this.update)}};function cDe(t,e){const n=new Set;return z4.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new dB(t),z4.dependencies=null,[t,n]}function uDe(t,e){return t&&(_i.fun(t)?t(e):t.current=e),e}var _G=Symbol.for("AnimatedComponent"),fDe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new dB(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=EG(o)||"Anonymous";return _i.str(o)?o=s[o]||(s[o]=xG(o,i)):o=o[_G]||(o[_G]=xG(o,i)),o.displayName=`Animated(${a})`,o};return F4(t,(o,a)=>{_i.arr(t)&&(a=EG(o)),s[a]=s(o)}),{animated:s}},EG=t=>_i.str(t)?t:t&&_i.str(t.displayName)?t.displayName:_i.fun(t)&&t.name||null,jq=/^--/;function hDe(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!jq.test(t)&&!(n1.hasOwnProperty(t)&&n1[t])?e+"px":(""+e).trim()}var CG={};function dDe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,c=Object.values(l),u=Object.keys(l).map(f=>n||t.hasAttribute(f)?f:CG[f]||(CG[f]=f.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(t.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const h=hDe(f,r[f]);jq.test(f)?t.style.setProperty(f,h):t.style[f]=h}u.forEach((f,h)=>{t.setAttribute(f,c[h])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var n1={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pDe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),mDe=["Webkit","Ms","Moz","O"];n1=Object.keys(n1).reduce((t,e)=>(mDe.forEach(n=>t[pDe(n,e)]=t[e]),t),n1);var gDe=/^(matrix|translate|scale|rotate|skew)/,ADe=/^(translate)/,vDe=/^(rotate|skew)/,FE=(t,e)=>_i.num(t)&&t!==0?t+e:t,t6=(t,e)=>_i.arr(t)?t.every(n=>t6(n,e)):_i.num(t)?t===e:parseFloat(t)===e,yDe=class extends dB{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>FE(a,"px")).join(",")})`,t6(o,0)])),F4(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(gDe.test(a)){if(delete r[a],_i.und(o))return;const l=ADe.test(a)?"px":vDe.test(a)?"deg":"";i.push(BPe(o)),s.push(a==="rotate3d"?([c,u,f,h])=>[`rotate3d(${c},${u},${f},${FE(h,l)})`,t6(h,0)]:c=>[`${a}(${c.map(u=>FE(u,l)).join(",")})`,t6(c,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new xDe(i,s)),super(r)}},xDe=class extends WPe{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return yl(this.inputs,(n,r)=>{const i=U4(n[0]),[s,o]=this.transforms[r](_i.arr(i)?i:n.map(U4));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&yl(this.inputs,e=>yl(e,n=>N4(n)&&Qq(n,this)))}observerRemoved(t){t==0&&yl(this.inputs,e=>yl(e,n=>N4(n)&&ob(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),$Pe(this,t)}},_De=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Ga.assign({batchedUpdates:wm.unstable_batchedUpdates,createStringInterpolator:qPe,colors:PPe});var EDe=fDe(_De,{applyAnimatedValues:dDe,createAnimatedStyle:t=>new yDe(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),ab=EDe.animated,pB={},Kq={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Kq);var CDe=Kq.exports,OE={};function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}function Qp(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Jq(t){if(!Qp(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Jq(t[n])}),e}function kc(t,e,n={clone:!0}){const r=n.clone?k0({},t):t;return Qp(t)&&Qp(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Qp(e[i])&&i in t&&Qp(t[i])?r[i]=kc(t[i],e[i],n):n.clone?r[i]=Qp(e[i])?Jq(e[i]):e[i]:r[i]=e[i])}),r}function ym(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Fl(t){if(typeof t!="string")throw new Error(ym(7));return t.charAt(0).toUpperCase()+t.slice(1)}function SDe(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function wDe(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function bDe(t,e){return()=>null}function IDe(t,e){var n,r;return D.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Yq(t){return t&&t.ownerDocument||document}function TDe(t){return Yq(t).defaultView||window}function MDe(t,e){return()=>null}function Xq(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const BDe=typeof window<"u"?D.useLayoutEffect:D.useEffect,qq=BDe;let SG=0;function RDe(t){const[e,n]=D.useState(t),r=t||e;return D.useEffect(()=>{e==null&&(SG+=1,n(`mui-${SG}`))},[e]),r}const wG=o6["useId".toString()];function PDe(t){if(wG!==void 0){const e=wG();return t??e}return RDe(t)}function DDe(t,e,n,r,i){return null}function LDe({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=D.useRef(t!==void 0),[s,o]=D.useState(e),a=i?t:s,l=D.useCallback(c=>{i||o(c)},[]);return[a,l]}function kDe(t){const e=D.useRef(t);return qq(()=>{e.current=t}),D.useCallback((...n)=>(0,e.current)(...n),[])}function FDe(...t){return D.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Xq(n,e)})},t)}let Lx=!0,lb=!1,bG;const ODe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function NDe(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&ODe[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function UDe(t){t.metaKey||t.altKey||t.ctrlKey||(Lx=!0)}function NE(){Lx=!1}function GDe(){this.visibilityState==="hidden"&&lb&&(Lx=!0)}function zDe(t){t.addEventListener("keydown",UDe,!0),t.addEventListener("mousedown",NE,!0),t.addEventListener("pointerdown",NE,!0),t.addEventListener("touchstart",NE,!0),t.addEventListener("visibilitychange",GDe,!0)}function QDe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Lx||NDe(e)}function HDe(){const t=D.useCallback(i=>{i!=null&&zDe(i.ownerDocument)},[]),e=D.useRef(!1);function n(){return e.current?(lb=!0,window.clearTimeout(bG),bG=window.setTimeout(()=>{lb=!1},100),e.current=!1,!0):!1}function r(i){return QDe(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Zq(t,e){const n=k0({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=k0({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=k0({},s),Object.keys(i).forEach(o=>{n[r][o]=Zq(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function VDe(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const IG=t=>t,$De=()=>{let t=IG;return{configure(e){t=e},generate(e){return t(e)},reset(){t=IG}}},WDe=$De(),eZ=WDe,jDe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tZ(t,e,n="Mui"){const r=jDe[e];return r?`${n}-${r}`:`${eZ.generate(t)}-${e}`}function KDe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=tZ(t,i,n)}),r}function Ki(){return Ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ki.apply(this,arguments)}function LA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nZ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=nZ(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function JDe(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=nZ(t))&&(r&&(r+=" "),r+=e);return r}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function rZ(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var YDe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,XDe=rZ(function(t){return YDe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function qDe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ZDe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var eLe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ZDe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=qDe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Qi="-ms-",Q4="-moz-",_n="-webkit-",iZ="comm",mB="rule",gB="decl",tLe="@import",sZ="@keyframes",nLe="@layer",rLe=Math.abs,kx=String.fromCharCode,iLe=Object.assign;function sLe(t,e){return Ti(t,0)^45?(((e<<2^Ti(t,0))<<2^Ti(t,1))<<2^Ti(t,2))<<2^Ti(t,3):0}function oZ(t){return t.trim()}function oLe(t,e){return(t=e.exec(t))?t[0]:t}function En(t,e,n){return t.replace(e,n)}function ub(t,e){return t.indexOf(e)}function Ti(t,e){return t.charCodeAt(e)|0}function E2(t,e,n){return t.slice(e,n)}function ml(t){return t.length}function AB(t){return t.length}function g5(t,e){return e.push(t),t}function aLe(t,e){return t.map(e).join("")}var Fx=1,xm=1,aZ=0,zs=0,jr=0,Ym="";function Ox(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Fx,column:xm,length:o,return:""}}function n3(t,e){return iLe(Ox("",null,null,"",null,null,0),t,{length:-t.length},e)}function lLe(){return jr}function cLe(){return jr=zs>0?Ti(Ym,--zs):0,xm--,jr===10&&(xm=1,Fx--),jr}function ao(){return jr=zs<aZ?Ti(Ym,zs++):0,xm++,jr===10&&(xm=1,Fx++),jr}function Ol(){return Ti(Ym,zs)}function n6(){return zs}function kA(t,e){return E2(Ym,t,e)}function C2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lZ(t){return Fx=xm=1,aZ=ml(Ym=t),zs=0,[]}function cZ(t){return Ym="",t}function r6(t){return oZ(kA(zs-1,fb(t===91?t+2:t===40?t+1:t)))}function uLe(t){for(;(jr=Ol())&&jr<33;)ao();return C2(t)>2||C2(jr)>3?"":" "}function fLe(t,e){for(;--e&&ao()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return kA(t,n6()+(e<6&&Ol()==32&&ao()==32))}function fb(t){for(;ao();)switch(jr){case t:return zs;case 34:case 39:t!==34&&t!==39&&fb(jr);break;case 40:t===41&&fb(t);break;case 92:ao();break}return zs}function hLe(t,e){for(;ao()&&t+jr!==47+10;)if(t+jr===42+42&&Ol()===47)break;return"/*"+kA(e,zs-1)+"*"+kx(t===47?t:ao())}function dLe(t){for(;!C2(Ol());)ao();return kA(t,zs)}function pLe(t){return cZ(i6("",null,null,null,[""],t=lZ(t),0,[0],t))}function i6(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,f=o,h=0,d=0,m=0,A=1,v=1,y=1,_=0,x="",E=i,b=s,w=r,T=x;v;)switch(m=_,_=ao()){case 40:if(m!=108&&Ti(T,f-1)==58){ub(T+=En(r6(_),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=r6(_);break;case 9:case 10:case 13:case 32:T+=uLe(m);break;case 92:T+=fLe(n6()-1,7);continue;case 47:switch(Ol()){case 42:case 47:g5(mLe(hLe(ao(),n6()),e,n),l);break;default:T+="/"}break;case 123*A:a[c++]=ml(T)*y;case 125*A:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+u:y==-1&&(T=En(T,/\f/g,"")),d>0&&ml(T)-f&&g5(d>32?MG(T+";",r,n,f-1):MG(En(T," ","")+";",r,n,f-2),l);break;case 59:T+=";";default:if(g5(w=TG(T,e,n,c,u,i,a,x,E=[],b=[],f),s),_===123)if(u===0)i6(T,e,w,w,E,s,f,a,b);else switch(h===99&&Ti(T,3)===110?100:h){case 100:case 108:case 109:case 115:i6(t,w,w,r&&g5(TG(t,w,w,0,0,i,a,x,i,E=[],f),b),i,b,f,a,r?E:b);break;default:i6(T,w,w,w,[""],b,0,a,b)}}c=u=d=0,A=y=1,x=T="",f=o;break;case 58:f=1+ml(T),d=m;default:if(A<1){if(_==123)--A;else if(_==125&&A++==0&&cLe()==125)continue}switch(T+=kx(_),_*A){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(ml(T)-1)*y,y=1;break;case 64:Ol()===45&&(T+=r6(ao())),h=Ol(),u=f=ml(x=T+=dLe(n6())),_++;break;case 45:m===45&&ml(T)==2&&(A=0)}}return s}function TG(t,e,n,r,i,s,o,a,l,c,u){for(var f=i-1,h=i===0?s:[""],d=AB(h),m=0,A=0,v=0;m<r;++m)for(var y=0,_=E2(t,f+1,f=rLe(A=o[m])),x=t;y<d;++y)(x=oZ(A>0?h[y]+" "+_:En(_,/&\f/g,h[y])))&&(l[v++]=x);return Ox(t,e,n,i===0?mB:a,l,c,u)}function mLe(t,e,n){return Ox(t,e,n,iZ,kx(lLe()),E2(t,2,-2),0)}function MG(t,e,n,r){return Ox(t,e,n,gB,E2(t,0,r),E2(t,r+1,-1),r)}function F0(t,e){for(var n="",r=AB(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function gLe(t,e,n,r){switch(t.type){case nLe:if(t.children.length)break;case tLe:case gB:return t.return=t.return||t.value;case iZ:return"";case sZ:return t.return=t.value+"{"+F0(t.children,r)+"}";case mB:t.value=t.props.join(",")}return ml(n=F0(t.children,r))?t.return=t.value+"{"+n+"}":""}function ALe(t){var e=AB(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function vLe(t){return function(e){e.root||(e=e.return)&&t(e)}}var yLe=function(e,n,r){for(var i=0,s=0;i=s,s=Ol(),i===38&&s===12&&(n[r]=1),!C2(s);)ao();return kA(e,zs)},xLe=function(e,n){var r=-1,i=44;do switch(C2(i)){case 0:i===38&&Ol()===12&&(n[r]=1),e[r]+=yLe(zs-1,n,r);break;case 2:e[r]+=r6(i);break;case 4:if(i===44){e[++r]=Ol()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kx(i)}while(i=ao());return e},_Le=function(e,n){return cZ(xLe(lZ(e),n))},BG=new WeakMap,ELe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!BG.get(r))&&!i){BG.set(e,!0);for(var s=[],o=_Le(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},CLe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function uZ(t,e){switch(sLe(t,e)){case 5103:return _n+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _n+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _n+t+Q4+t+Qi+t+t;case 6828:case 4268:return _n+t+Qi+t+t;case 6165:return _n+t+Qi+"flex-"+t+t;case 5187:return _n+t+En(t,/(\w+).+(:[^]+)/,_n+"box-$1$2"+Qi+"flex-$1$2")+t;case 5443:return _n+t+Qi+"flex-item-"+En(t,/flex-|-self/,"")+t;case 4675:return _n+t+Qi+"flex-line-pack"+En(t,/align-content|flex-|-self/,"")+t;case 5548:return _n+t+Qi+En(t,"shrink","negative")+t;case 5292:return _n+t+Qi+En(t,"basis","preferred-size")+t;case 6060:return _n+"box-"+En(t,"-grow","")+_n+t+Qi+En(t,"grow","positive")+t;case 4554:return _n+En(t,/([^-])(transform)/g,"$1"+_n+"$2")+t;case 6187:return En(En(En(t,/(zoom-|grab)/,_n+"$1"),/(image-set)/,_n+"$1"),t,"")+t;case 5495:case 3959:return En(t,/(image-set\([^]*)/,_n+"$1$`$1");case 4968:return En(En(t,/(.+:)(flex-)?(.*)/,_n+"box-pack:$3"+Qi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_n+t+t;case 4095:case 3583:case 4068:case 2532:return En(t,/(.+)-inline(.+)/,_n+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ml(t)-1-e>6)switch(Ti(t,e+1)){case 109:if(Ti(t,e+4)!==45)break;case 102:return En(t,/(.+:)(.+)-([^]+)/,"$1"+_n+"$2-$3$1"+Q4+(Ti(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ub(t,"stretch")?uZ(En(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ti(t,e+1)!==115)break;case 6444:switch(Ti(t,ml(t)-3-(~ub(t,"!important")&&10))){case 107:return En(t,":",":"+_n)+t;case 101:return En(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_n+(Ti(t,14)===45?"inline-":"")+"box$3$1"+_n+"$2$3$1"+Qi+"$2box$3")+t}break;case 5936:switch(Ti(t,e+11)){case 114:return _n+t+Qi+En(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _n+t+Qi+En(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _n+t+Qi+En(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _n+t+Qi+t+t}return t}var SLe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case gB:e.return=uZ(e.value,e.length);break;case sZ:return F0([n3(e,{value:En(e.value,"@","@"+_n)})],i);case mB:if(e.length)return aLe(e.props,function(s){switch(oLe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return F0([n3(e,{props:[En(s,/:(read-\w+)/,":"+Q4+"$1")]})],i);case"::placeholder":return F0([n3(e,{props:[En(s,/:(plac\w+)/,":"+_n+"input-$1")]}),n3(e,{props:[En(s,/:(plac\w+)/,":"+Q4+"$1")]}),n3(e,{props:[En(s,/:(plac\w+)/,Qi+"input-$1")]})],i)}return""})}},wLe=[SLe],bLe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var v=A.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||wLe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(A){for(var v=A.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)s[v[y]]=!0;a.push(A)});var l,c=[ELe,CLe];{var u,f=[gLe,vLe(function(A){u.insert(A)})],h=ALe(c.concat(i,f)),d=function(v){return F0(pLe(v),h)};l=function(v,y,_,x){u=_,d(v?v+"{"+y.styles+"}":y.styles),x&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new eLe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},ILe=!0;function TLe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var fZ=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||ILe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},MLe=function(e,n,r){fZ(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function BLe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var RLe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PLe=/[A-Z]|^ms/g,DLe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hZ=function(e){return e.charCodeAt(1)===45},RG=function(e){return e!=null&&typeof e!="boolean"},UE=rZ(function(t){return hZ(t)?t:t.replace(PLe,"-$&").toLowerCase()}),PG=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(DLe,function(r,i,s){return gl={name:i,styles:s,next:gl},i})}return RLe[e]!==1&&!hZ(e)&&typeof n=="number"&&n!==0?n+"px":n};function S2(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return gl={name:n.name,styles:n.styles,next:gl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)gl={name:r.name,styles:r.styles,next:gl},r=r.next;var i=n.styles+";";return i}return LLe(t,e,n)}case"function":{if(t!==void 0){var s=gl,o=n(t);return gl=s,S2(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function LLe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=S2(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":RG(o)&&(r+=UE(s)+":"+PG(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)RG(o[a])&&(r+=UE(s)+":"+PG(s,o[a])+";");else{var l=S2(t,e,o);switch(s){case"animation":case"animationName":{r+=UE(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var DG=/label:\s*([^\s;\n{]+)\s*(;|$)/g,gl,kLe=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";gl=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=S2(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=S2(r,n,e[a]),i&&(s+=o[a]);DG.lastIndex=0;for(var l="",c;(c=DG.exec(s))!==null;)l+="-"+c[1];var u=BLe(s)+l;return{name:u,styles:s,next:gl}},FLe=function(e){return e()},OLe=o6["useInsertionEffect"]?o6["useInsertionEffect"]:!1,NLe=OLe||FLe,dZ=D.createContext(typeof HTMLElement<"u"?bLe({key:"css"}):null);dZ.Provider;var ULe=function(e){return D.forwardRef(function(n,r){var i=D.useContext(dZ);return e(n,i,r)})},pZ=D.createContext({}),GLe=XDe,zLe=function(e){return e!=="theme"},LG=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?GLe:zLe},kG=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},QLe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fZ(n,r,i),NLe(function(){return MLe(n,r,i)}),null},HLe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=kG(e,n,r),l=a||LG(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var h=u.length,d=1;d<h;d++)f.push(u[d],u[0][d])}var m=ULe(function(A,v,y){var _=c&&A.as||i,x="",E=[],b=A;if(A.theme==null){b={};for(var w in A)b[w]=A[w];b.theme=D.useContext(pZ)}typeof A.className=="string"?x=TLe(v.registered,E,A.className):A.className!=null&&(x=A.className+" ");var T=kLe(f.concat(E),v.registered,b);x+=v.key+"-"+T.name,o!==void 0&&(x+=" "+o);var C=c&&a===void 0?LG(_):l,I={};for(var B in A)c&&B==="as"||C(B)&&(I[B]=A[B]);return I.className=x,I.ref=y,D.createElement(D.Fragment,null,D.createElement(QLe,{cache:v,serialized:T,isStringTag:typeof _=="string"}),D.createElement(_,I))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=f,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(A,v){return t(A,cb({},n,v,{shouldForwardProp:kG(m,v,!0)})).apply(void 0,f)},m}},VLe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hb=HLe.bind();VLe.forEach(function(t){hb[t]=hb(t)});/**
 * @mui/styled-engine v5.14.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $Le(t,e){return hb(t,e)}const WLe=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Ii(){return Ii=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ii.apply(this,arguments)}function Nx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const jLe=["values","unit","step"],KLe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Ii({},n,{[r.key]:r.val}),{})};function JLe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Nx(t,jLe),s=KLe(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,d){const m=o.indexOf(d);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:d)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function f(h){const d=o.indexOf(h);return d===0?a(o[1]):d===o.length-1?l(o[d]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Ii({keys:o,values:s,up:a,down:l,between:c,only:u,not:f,unit:n},i)}const YLe={borderRadius:4},XLe=YLe;function r1(t,e){return e?kc(t,e,{clone:!1}):t}const vB={xs:0,sm:600,md:900,lg:1200,xl:1536},FG={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${vB[t]}px)`};function Yc(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||FG;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||FG;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||vB).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function qLe(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function ZLe(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Ux(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function H4(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ux(t,n)||r,e&&(i=e(i,r,t)),i}function In(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Ux(l,r)||{};return Yc(o,a,f=>{let h=H4(c,i,f);return f===h&&typeof f=="string"&&(h=H4(c,i,`${e}${f==="default"?"":Fl(f)}`,f)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function eke(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const tke={m:"margin",p:"padding"},nke={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},OG={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rke=eke(t=>{if(t.length>2)if(OG[t])t=OG[t];else return[t];const[e,n]=t.split(""),r=tke[e],i=nke[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),yB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...yB,...xB];function FA(t,e,n,r){var i;const s=(i=Ux(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function mZ(t){return FA(t,"spacing",8)}function OA(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function ike(t,e){return n=>t.reduce((r,i)=>(r[i]=OA(e,n),r),{})}function ske(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=rke(n),s=ike(i,r),o=t[n];return Yc(t,o,s)}function gZ(t,e){const n=mZ(t.theme);return Object.keys(t).map(r=>ske(t,e,r,n)).reduce(r1,{})}function Sr(t){return gZ(t,yB)}Sr.propTypes={};Sr.filterProps=yB;function wr(t){return gZ(t,xB)}wr.propTypes={};wr.filterProps=xB;function oke(t=8){if(t.mui)return t;const e=mZ({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Gx(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?r1(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function xl(t){return typeof t!="number"?t:`${t}px solid`}const ake=In({prop:"border",themeKey:"borders",transform:xl}),lke=In({prop:"borderTop",themeKey:"borders",transform:xl}),cke=In({prop:"borderRight",themeKey:"borders",transform:xl}),uke=In({prop:"borderBottom",themeKey:"borders",transform:xl}),fke=In({prop:"borderLeft",themeKey:"borders",transform:xl}),hke=In({prop:"borderColor",themeKey:"palette"}),dke=In({prop:"borderTopColor",themeKey:"palette"}),pke=In({prop:"borderRightColor",themeKey:"palette"}),mke=In({prop:"borderBottomColor",themeKey:"palette"}),gke=In({prop:"borderLeftColor",themeKey:"palette"}),zx=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=FA(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:OA(e,r)});return Yc(t,t.borderRadius,n)}return null};zx.propTypes={};zx.filterProps=["borderRadius"];Gx(ake,lke,cke,uke,fke,hke,dke,pke,mke,gke,zx);const Qx=t=>{if(t.gap!==void 0&&t.gap!==null){const e=FA(t.theme,"spacing",8),n=r=>({gap:OA(e,r)});return Yc(t,t.gap,n)}return null};Qx.propTypes={};Qx.filterProps=["gap"];const Hx=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=FA(t.theme,"spacing",8),n=r=>({columnGap:OA(e,r)});return Yc(t,t.columnGap,n)}return null};Hx.propTypes={};Hx.filterProps=["columnGap"];const Vx=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=FA(t.theme,"spacing",8),n=r=>({rowGap:OA(e,r)});return Yc(t,t.rowGap,n)}return null};Vx.propTypes={};Vx.filterProps=["rowGap"];const Ake=In({prop:"gridColumn"}),vke=In({prop:"gridRow"}),yke=In({prop:"gridAutoFlow"}),xke=In({prop:"gridAutoColumns"}),_ke=In({prop:"gridAutoRows"}),Eke=In({prop:"gridTemplateColumns"}),Cke=In({prop:"gridTemplateRows"}),Ske=In({prop:"gridTemplateAreas"}),wke=In({prop:"gridArea"});Gx(Qx,Hx,Vx,Ake,vke,yke,xke,_ke,Eke,Cke,Ske,wke);function O0(t,e){return e==="grey"?e:t}const bke=In({prop:"color",themeKey:"palette",transform:O0}),Ike=In({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:O0}),Tke=In({prop:"backgroundColor",themeKey:"palette",transform:O0});Gx(bke,Ike,Tke);function Zs(t){return t<=1&&t!==0?`${t*100}%`:t}const Mke=In({prop:"width",transform:Zs}),_B=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||vB[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Zs(n)}};return Yc(t,t.maxWidth,e)}return null};_B.filterProps=["maxWidth"];const Bke=In({prop:"minWidth",transform:Zs}),Rke=In({prop:"height",transform:Zs}),Pke=In({prop:"maxHeight",transform:Zs}),Dke=In({prop:"minHeight",transform:Zs});In({prop:"size",cssProperty:"width",transform:Zs});In({prop:"size",cssProperty:"height",transform:Zs});const Lke=In({prop:"boxSizing"});Gx(Mke,_B,Bke,Rke,Pke,Dke,Lke);const kke={border:{themeKey:"borders",transform:xl},borderTop:{themeKey:"borders",transform:xl},borderRight:{themeKey:"borders",transform:xl},borderBottom:{themeKey:"borders",transform:xl},borderLeft:{themeKey:"borders",transform:xl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zx},color:{themeKey:"palette",transform:O0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:O0},backgroundColor:{themeKey:"palette",transform:O0},p:{style:wr},pt:{style:wr},pr:{style:wr},pb:{style:wr},pl:{style:wr},px:{style:wr},py:{style:wr},padding:{style:wr},paddingTop:{style:wr},paddingRight:{style:wr},paddingBottom:{style:wr},paddingLeft:{style:wr},paddingX:{style:wr},paddingY:{style:wr},paddingInline:{style:wr},paddingInlineStart:{style:wr},paddingInlineEnd:{style:wr},paddingBlock:{style:wr},paddingBlockStart:{style:wr},paddingBlockEnd:{style:wr},m:{style:Sr},mt:{style:Sr},mr:{style:Sr},mb:{style:Sr},ml:{style:Sr},mx:{style:Sr},my:{style:Sr},margin:{style:Sr},marginTop:{style:Sr},marginRight:{style:Sr},marginBottom:{style:Sr},marginLeft:{style:Sr},marginX:{style:Sr},marginY:{style:Sr},marginInline:{style:Sr},marginInlineStart:{style:Sr},marginInlineEnd:{style:Sr},marginBlock:{style:Sr},marginBlockStart:{style:Sr},marginBlockEnd:{style:Sr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Qx},rowGap:{style:Vx},columnGap:{style:Hx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zs},maxWidth:{style:_B},minWidth:{transform:Zs},height:{transform:Zs},maxHeight:{transform:Zs},minHeight:{transform:Zs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},EB=kke;function Fke(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Oke(t,e){return typeof t=="function"?t(e):t}function Nke(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=Ux(i,c)||{};return f?f(o):Yc(o,r,m=>{let A=H4(h,u,m);return m===A&&typeof m=="string"&&(A=H4(h,u,`${n}${m==="default"?"":Fl(m)}`,m)),l===!1?A:{[l]:A}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:EB;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=qLe(s.breakpoints),f=Object.keys(u);let h=u;return Object.keys(c).forEach(d=>{const m=Oke(c[d],s);if(m!=null)if(typeof m=="object")if(o[d])h=r1(h,t(d,m,s,o));else{const A=Yc({theme:s},m,v=>({[d]:v}));Fke(A,m)?h[d]=e({sx:m,theme:s}):h=r1(h,A)}else h=r1(h,t(d,m,s,o))}),ZLe(f,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const AZ=Nke();AZ.filterProps=["sx"];const CB=AZ,Uke=["breakpoints","palette","spacing","shape"];function SB(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Nx(t,Uke),a=JLe(n),l=oke(i);let c=kc({breakpoints:a,direction:"ltr",components:{},palette:Ii({mode:"light"},r),spacing:l,shape:Ii({},XLe,s)},o);return c=e.reduce((u,f)=>kc(u,f),c),c.unstable_sxConfig=Ii({},EB,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return CB({sx:f,theme:this})},c}function Gke(t){return Object.keys(t).length===0}function zke(t=null){const e=D.useContext(pZ);return!e||Gke(e)?t:e}const Qke=SB();function Hke(t=Qke){return zke(t)}const Vke=["variant"];function NG(t){return t.length===0}function vZ(t){const{variant:e}=t,n=Nx(t,Vke);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=NG(r)?t[i]:Fl(t[i]):r+=`${NG(r)?i:Fl(i)}${Fl(t[i].toString())}`}),r}const $ke=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Wke(t){return Object.keys(t).length===0}function jke(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Kke=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Jke=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=vZ(i.props);r[s]=i.style}),r},Yke=(t,e,n,r)=>{var i;const{ownerState:s={}}=t,o=[],a=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return a&&a.forEach(l=>{let c=!0;Object.keys(l.props).forEach(u=>{s[u]!==l.props[u]&&t[u]!==l.props[u]&&(c=!1)}),c&&o.push(e[vZ(l.props)])}),o};function s6(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Xke=SB(),qke=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function r3({defaultTheme:t,theme:e,themeId:n}){return Wke(e)?t:e[n]||e}function Zke(t){return t?(e,n)=>n[t]:null}function eFe(t={}){const{themeId:e,defaultTheme:n=Xke,rootShouldForwardProp:r=s6,slotShouldForwardProp:i=s6}=t,s=o=>CB(Ii({},o,{theme:r3(Ii({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{WLe(o,E=>E.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:f,overridesResolver:h=Zke(qke(c))}=a,d=Nx(a,$ke),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,A=f||!1;let v,y=s6;c==="Root"||c==="root"?y=r:c?y=i:jke(o)&&(y=void 0);const _=$Le(o,Ii({shouldForwardProp:y,label:v},d)),x=(E,...b)=>{const w=b?b.map(B=>typeof B=="function"&&B.__emotion_real!==B?R=>B(Ii({},R,{theme:r3(Ii({},R,{defaultTheme:n,themeId:e}))})):B):[];let T=E;l&&h&&w.push(B=>{const R=r3(Ii({},B,{defaultTheme:n,themeId:e})),L=Kke(l,R);if(L){const z={};return Object.entries(L).forEach(([O,G])=>{z[O]=typeof G=="function"?G(Ii({},B,{theme:R})):G}),h(B,z)}return null}),l&&!m&&w.push(B=>{const R=r3(Ii({},B,{defaultTheme:n,themeId:e}));return Yke(B,Jke(l,R),R,l)}),A||w.push(s);const C=w.length-b.length;if(Array.isArray(E)&&C>0){const B=new Array(C).fill("");T=[...E,...B],T.raw=[...E.raw,...B]}else typeof E=="function"&&E.__emotion_real!==E&&(T=B=>E(Ii({},B,{theme:r3(Ii({},B,{defaultTheme:n,themeId:e}))})));const I=_(T,...w);return o.muiName&&(I.muiName=o.muiName),I};return _.withConfig&&(x.withConfig=_.withConfig),x}}function tFe(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Zq(e.components[n].defaultProps,r)}function nFe({props:t,name:e,defaultTheme:n,themeId:r}){let i=Hke(n);return r&&(i=i[r]||i),tFe({theme:i,name:e,props:t})}function yZ(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function rFe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function _m(t){if(t.type)return t;if(t.charAt(0)==="#")return _m(rFe(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ym(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ym(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function wB(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function iFe(t){t=_m(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),wB({type:a,values:l})}function UG(t){t=_m(t);let e=t.type==="hsl"||t.type==="hsla"?_m(iFe(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function sFe(t,e){const n=UG(t),r=UG(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function oFe(t,e){if(t=_m(t),e=yZ(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return wB(t)}function aFe(t,e){if(t=_m(t),e=yZ(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return wB(t)}function lFe(t,e){return Ki({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const cFe={black:"#000",white:"#fff"},w2=cFe,uFe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fFe=uFe,hFe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},kp=hFe,dFe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Fp=dFe,pFe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},i3=pFe,mFe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Op=mFe,gFe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Np=gFe,AFe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Up=AFe,vFe=["mode","contrastThreshold","tonalOffset"],GG={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:w2.white,default:w2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},GE={text:{primary:w2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:w2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function zG(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=aFe(t.main,i):e==="dark"&&(t.dark=oFe(t.main,s)))}function yFe(t="light"){return t==="dark"?{main:Op[200],light:Op[50],dark:Op[400]}:{main:Op[700],light:Op[400],dark:Op[800]}}function xFe(t="light"){return t==="dark"?{main:kp[200],light:kp[50],dark:kp[400]}:{main:kp[500],light:kp[300],dark:kp[700]}}function _Fe(t="light"){return t==="dark"?{main:Fp[500],light:Fp[300],dark:Fp[700]}:{main:Fp[700],light:Fp[400],dark:Fp[800]}}function EFe(t="light"){return t==="dark"?{main:Np[400],light:Np[300],dark:Np[700]}:{main:Np[700],light:Np[500],dark:Np[900]}}function CFe(t="light"){return t==="dark"?{main:Up[400],light:Up[300],dark:Up[700]}:{main:Up[800],light:Up[500],dark:Up[900]}}function SFe(t="light"){return t==="dark"?{main:i3[400],light:i3[300],dark:i3[700]}:{main:"#ed6c02",light:i3[500],dark:i3[900]}}function wFe(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=LA(t,vFe),s=t.primary||yFe(e),o=t.secondary||xFe(e),a=t.error||_Fe(e),l=t.info||EFe(e),c=t.success||CFe(e),u=t.warning||SFe(e);function f(A){return sFe(A,GE.text.primary)>=n?GE.text.primary:GG.text.primary}const h=({color:A,name:v,mainShade:y=500,lightShade:_=300,darkShade:x=700})=>{if(A=Ki({},A),!A.main&&A[y]&&(A.main=A[y]),!A.hasOwnProperty("main"))throw new Error(ym(11,v?` (${v})`:"",y));if(typeof A.main!="string")throw new Error(ym(12,v?` (${v})`:"",JSON.stringify(A.main)));return zG(A,"light",_,r),zG(A,"dark",x,r),A.contrastText||(A.contrastText=f(A.main)),A},d={dark:GE,light:GG};return kc(Ki({common:Ki({},w2),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:fFe,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r},d[e]),i)}const bFe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function IFe(t){return Math.round(t*1e5)/1e5}const QG={textTransform:"uppercase"},HG='"Roboto", "Helvetica", "Arial", sans-serif';function TFe(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=HG,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:f}=n,h=LA(n,bFe),d=i/14,m=f||(y=>`${y/c*d}rem`),A=(y,_,x,E,b)=>Ki({fontFamily:r,fontWeight:y,fontSize:m(_),lineHeight:x},r===HG?{letterSpacing:`${IFe(E/_)}em`}:{},b,u),v={h1:A(s,96,1.167,-1.5),h2:A(s,60,1.2,-.5),h3:A(o,48,1.167,0),h4:A(o,34,1.235,.25),h5:A(o,24,1.334,0),h6:A(a,20,1.6,.15),subtitle1:A(o,16,1.75,.15),subtitle2:A(a,14,1.57,.1),body1:A(o,16,1.5,.15),body2:A(o,14,1.43,.15),button:A(a,14,1.75,.4,QG),caption:A(o,12,1.66,.4),overline:A(o,12,2.66,1,QG),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return kc(Ki({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),h,{clone:!1})}const MFe=.2,BFe=.14,RFe=.12;function tr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${MFe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${BFe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${RFe})`].join(",")}const PFe=["none",tr(0,2,1,-1,0,1,1,0,0,1,3,0),tr(0,3,1,-2,0,2,2,0,0,1,5,0),tr(0,3,3,-2,0,3,4,0,0,1,8,0),tr(0,2,4,-1,0,4,5,0,0,1,10,0),tr(0,3,5,-1,0,5,8,0,0,1,14,0),tr(0,3,5,-1,0,6,10,0,0,1,18,0),tr(0,4,5,-2,0,7,10,1,0,2,16,1),tr(0,5,5,-3,0,8,10,1,0,3,14,2),tr(0,5,6,-3,0,9,12,1,0,3,16,2),tr(0,6,6,-3,0,10,14,1,0,4,18,3),tr(0,6,7,-4,0,11,15,1,0,4,20,3),tr(0,7,8,-4,0,12,17,2,0,5,22,4),tr(0,7,8,-4,0,13,19,2,0,5,24,4),tr(0,7,9,-4,0,14,21,2,0,5,26,4),tr(0,8,9,-5,0,15,22,2,0,6,28,5),tr(0,8,10,-5,0,16,24,2,0,6,30,5),tr(0,8,11,-5,0,17,26,2,0,6,32,5),tr(0,9,11,-5,0,18,28,2,0,7,34,6),tr(0,9,12,-6,0,19,29,2,0,7,36,6),tr(0,10,13,-6,0,20,31,3,0,8,38,7),tr(0,10,13,-6,0,21,33,3,0,8,40,7),tr(0,10,14,-6,0,22,35,3,0,8,42,7),tr(0,11,14,-7,0,23,36,3,0,9,44,8),tr(0,11,15,-7,0,24,38,3,0,9,46,8)],DFe=PFe,LFe=["duration","easing","delay"],kFe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},FFe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function VG(t){return`${Math.round(t)}ms`}function OFe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function NFe(t){const e=Ki({},kFe,t.easing),n=Ki({},FFe,t.duration);return Ki({getAutoHeightDuration:OFe,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return LA(s,LFe),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:VG(o)} ${a} ${typeof l=="string"?l:VG(l)}`).join(",")}},t,{easing:e,duration:n})}const UFe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},GFe=UFe,zFe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function QFe(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=LA(t,zFe);if(t.vars)throw new Error(ym(18));const a=wFe(r),l=SB(t);let c=kc(l,{mixins:lFe(l.breakpoints,n),palette:a,shadows:DFe.slice(),typography:TFe(a,s),transitions:NFe(i),zIndex:Ki({},GFe)});return c=kc(c,o),c=e.reduce((u,f)=>kc(u,f),c),c.unstable_sxConfig=Ki({},EB,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return CB({sx:f,theme:this})},c}const HFe=QFe(),xZ=HFe,_Z="$$material";function VFe({props:t,name:e}){return nFe({props:t,name:e,defaultTheme:xZ,themeId:_Z})}const $Fe=t=>s6(t)&&t!=="classes",WFe=eFe({themeId:_Z,defaultTheme:xZ,rootShouldForwardProp:$Fe}),jFe=WFe;function KFe(t){return tZ("MuiSvgIcon",t)}KDe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const JFe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],YFe=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Fl(e)}`,`fontSize${Fl(n)}`]};return VDe(i,KFe,r)},XFe=jFe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Fl(n.color)}`],e[`fontSize${Fl(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,f,h,d,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(f=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?f:{action:(d=(t.vars||t).palette)==null||(d=d.action)==null?void 0:d.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),EZ=D.forwardRef(function(e,n){const r=VFe({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24"}=r,d=LA(r,JFe),m=D.isValidElement(i)&&i.type==="svg",A=Ki({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),v={};u||(v.viewBox=h);const y=YFe(A);return Kr(XFe,Ki({as:a,className:JDe(y.root,s),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},v,d,m&&i.props,{ownerState:A,children:[m?i.props.children:i,f?Ke("title",{children:f}):null]}))});EZ.muiName="SvgIcon";const $G=EZ;function qFe(t,e){function n(r,i){return Ke($G,Ki({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=$G.muiName,D.memo(D.forwardRef(n))}const ZFe={configure:t=>{eZ.configure(t)}},eOe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Fl,createChainedFunction:SDe,createSvgIcon:qFe,debounce:wDe,deprecatedPropType:bDe,isMuiElement:IDe,ownerDocument:Yq,ownerWindow:TDe,requirePropFactory:MDe,setRef:Xq,unstable_ClassNameGenerator:ZFe,unstable_useEnhancedEffect:qq,unstable_useId:PDe,unsupportedProp:DDe,useControlled:LDe,useEventCallback:kDe,useForkRef:FDe,useIsFocusVisible:HDe},Symbol.toStringTag,{value:"Module"})),tOe=KG(eOe);var WG;function nOe(){return WG||(WG=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=tOe}(OE)),OE}const rOe=KG(Nee);var iOe=CDe;Object.defineProperty(pB,"__esModule",{value:!0});var CZ=pB.default=void 0,sOe=iOe(nOe()),oOe=rOe,aOe=(0,sOe.default)((0,oOe.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");CZ=pB.default=aOe;function lOe({active:t}){return Rq(t,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}})((n,r)=>r?Ke(ab.div,{style:{position:"absolute",bottom:"0%",height:"40px",width:"40px",zIndex:3,...n},children:Ke(CZ,{sx:{height:"100%",width:"100%"}})}):null)}const cOe=({mobile:t,inView:e,scrollingAway:n})=>{cRe(e,t);const r="Conner",i="McKenna";return Kr("div",{style:{height:"100%",width:"100%",position:"relative"},children:[Kr("div",{class:"headline-container",children:[Kr("div",{id:"text-behind",children:[r,Ke("br",{}),i]}),Kr("div",{id:"text-behind-blur",children:[r,Ke("br",{}),i]}),Kr("div",{id:"text-front",children:[r,Ke("br",{}),i]}),Ke(lOe,{active:!n})]}),Ke("div",{class:"canvas-container",children:Ke("canvas",{id:"canvas"})})]})},uOe=({domContent:t,position:e,bgColor:n,scrollToPos:r,mobile:i})=>{const{viewport:s}=La(),[o,a]=mm({threshold:0}),[l,c]=mm({threshold:.9});return D.useEffect(()=>{a&&(document.body.style.background=n)},[a,r,e]),D.useEffect(()=>{const u=(s==null?void 0:s.factor)*(s==null?void 0:s.height)*0;a&&r(u)},[a,r,s==null?void 0:s.factor,s==null?void 0:s.height]),Ke(Ex,{factor:1.5,offset:1,children:Ke("group",{position:[0,e,0],children:Ke(q2,{fullscreen:!0,portal:t,children:Ke("div",{className:"container",ref:u=>{o(u),l(u)},children:Ke(cOe,{mobile:i,inView:a,scrollingAway:!c})})})})})};function $x(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(u){s(u)}}function a(c){try{l(r.throw(c))}catch(u){s(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(f){f(u)})).then(o,a)}l((r=r.apply(t,e||[])).next())})}function yf(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(u[0]===6&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(f){u=[6,f],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function db(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function Yh(t,e,n){if(n||arguments.length===2)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function jG(t,e,n,r){for(var i=[],s=4;s<arguments.length;s++)i[s-4]=arguments[s];return $x(this,void 0,void 0,function(){var o,a,l,c,u,f;return yf(this,function(h){switch(h.label){case 0:h.trys.push([0,12,13,14]),o=db(i),a=o.next(),h.label=1;case 1:if(a.done)return[3,11];switch(l=a.value,typeof l){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,fOe(t,l,e,n,r)];case 3:return h.sent(),[3,10];case 4:return[4,SZ(l)];case 5:return h.sent(),[3,10];case 6:return[4,l.apply(void 0,Yh([t,e,n,r],Cl(i),!1))];case 7:return h.sent(),[3,10];case 8:return[4,l];case 9:h.sent(),h.label=10;case 10:return a=o.next(),[3,1];case 11:return[3,14];case 12:return c=h.sent(),u={error:c},[3,14];case 13:try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(u)throw u.error}return[7];case 14:return[2]}})})}function fOe(t,e,n,r,i){return $x(this,void 0,void 0,function(){var s;return yf(this,function(o){switch(o.label){case 0:return s=function(a,l){var c=Cl(l).slice(0);return Yh(Yh([],Cl(a),!1),[NaN],!1).findIndex(function(u,f){return c[f]!==u})}(t.textContent,e),[4,hOe(t,Yh(Yh([],Cl(pOe(t.textContent,s)),!1),Cl(dOe(e,s)),!1),n,r,i)];case 1:return o.sent(),[2]}})})}function SZ(t){return $x(this,void 0,void 0,function(){return yf(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function hOe(t,e,n,r,i){return $x(this,void 0,void 0,function(){var s,o,a,l,c,u,f,h,d,m,A,v,y;return yf(this,function(_){switch(_.label){case 0:if(s=e,i){for(o=0,a=1;a<e.length;a++)if(l=Cl([e[a-1],e[a]],2),c=l[0],(u=l[1]).length>c.length||u===""){o=a;break}s=e.slice(o,e.length)}_.label=1;case 1:_.trys.push([1,6,7,8]),f=db(function(x){var E,b,w,T,C,I,B;return yf(this,function(R){switch(R.label){case 0:E=function(L){return yf(this,function(z){switch(z.label){case 0:return[4,{op:function(O){return requestAnimationFrame(function(){return O.textContent=L})},opCode:function(O){return L===""||O.textContent.length>L.length?"DELETE":"WRITING"}}];case 1:return z.sent(),[2]}})},R.label=1;case 1:R.trys.push([1,6,7,8]),b=db(x),w=b.next(),R.label=2;case 2:return w.done?[3,5]:(T=w.value,[5,E(T)]);case 3:R.sent(),R.label=4;case 4:return w=b.next(),[3,2];case 5:return[3,8];case 6:return C=R.sent(),I={error:C},[3,8];case 7:try{w&&!w.done&&(B=b.return)&&B.call(b)}finally{if(I)throw I.error}return[7];case 8:return[2]}})}(s)),h=f.next(),_.label=2;case 2:return h.done?[3,5]:(d=h.value,m=d.opCode(t)==="WRITING"?n+n*(Math.random()-.5):r+r*(Math.random()-.5),d.op(t),[4,SZ(m)]);case 3:_.sent(),_.label=4;case 4:return h=f.next(),[3,2];case 5:return[3,8];case 6:return A=_.sent(),v={error:A},[3,8];case 7:try{h&&!h.done&&(y=f.return)&&y.call(f)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})}function dOe(t,e,n){var r=Cl(t).slice(0);return e===void 0&&(e=0),n===void 0&&(n=r.length),yf(this,function(i){switch(i.label){case 0:return e<n?[4,r.slice(0,++e).join("")]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}})}function pOe(t,e,n){var r=Cl(t).slice(0);return e===void 0&&(e=0),n===void 0&&(n=r.length),yf(this,function(i){switch(i.label){case 0:return n>e?[4,r.slice(0,--n).join("")]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}})}var mOe="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);D.memo(D.forwardRef(function(t,e){var n=t.sequence,r=t.repeat,i=t.className,s=t.speed,o=s===void 0?40:s,a=t.deletionSpeed,l=t.omitDeletionAnimation,c=l!==void 0&&l,u=t.preRenderFirstString,f=u!==void 0&&u,h=t.wrapper,d=h===void 0?"span":h,m=t.cursor,A=m===void 0||m,v=t.style,y=function(J,N){var V={};for(var Q in J)Object.prototype.hasOwnProperty.call(J,Q)&&N.indexOf(Q)<0&&(V[Q]=J[Q]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function"){var Z=0;for(Q=Object.getOwnPropertySymbols(J);Z<Q.length;Z++)N.indexOf(Q[Z])<0&&Object.prototype.propertyIsEnumerable.call(J,Q[Z])&&(V[Q[Z]]=J[Q[Z]])}return V}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","cursor","style"]),_=y["aria-label"],x=y["aria-hidden"];a||(a=o);var E=new Array(2).fill(40);[o,a].forEach(function(J,N){switch(typeof J){case"number":E[N]=Math.abs(J-100);break;case"object":var V=J,Q=V.type,Z=V.value;if(typeof Z!="number")break;Q==="keyStrokeDelayInMs"&&(E[N]=Z)}});var b,w,T,C,I,B,R=E[0],L=E[1],z=function(J,N){N===void 0&&(N=null);var V=D.useRef(N);return D.useEffect(function(){J&&(typeof J=="function"?J(V.current):J.current=V.current)},[J]),V}(e),O=mOe;b=i?"".concat(A?O+" ":"").concat(i):A?O:"",w=D.useRef(function(){var J,N=n;return r===1/0?J=jG:typeof r=="number"&&(N=Array(1+r).fill(n).flat()),jG.apply(void 0,Yh(Yh([z.current,R,L,c],Cl(N),!1),[J],!1)),function(){z.current}}),T=D.useRef(),C=D.useRef(!1),I=D.useRef(!1),B=Cl(D.useState(0),2)[1],C.current&&(I.current=!0),D.useEffect(function(){return C.current||(T.current=w.current(),C.current=!0),B(function(J){return J+1}),function(){I.current&&T.current&&T.current()}},[]);var G=d,j=f?n.find(function(J){return typeof J=="string"})||"":null;return se.createElement(G,{"aria-hidden":x,"aria-label":_,style:v,className:b,children:_?se.createElement("span",{"aria-hidden":"true",ref:z,children:j}):j,ref:_?void 0:z})}),function(t,e){return!0});qf.preload("/portfolio/models/MacBook.glb");qf.preload("/portfolio/models/Desk.glb");function gOe(t){const{inView:e,inView2:n}=t,{nodes:r,materials:i}=qf("/portfolio/models/NewMacbook.glb"),s=se.useRef(),o=d2(0);d2(0);const{rotation:a,position:l,scale:c}=hx("MAC",{rotation:{x:.25,y:0,z:0},position:{x:0,y:0,z:0},scale:1.5,Add:vY(u=>{console.clear();const f=u("MAC.rotation"),h=u("MAC.position"),d=u("MAC.scale");console.log({rotation:f,position:h,scale:d})})});return D.useEffect(()=>{},[n]),Fd(u=>{s!=null&&s.current&&(s.current.position.x=o.get(),s.current.position.x>=40&&(s.current.rotation.y=0),e&&(s.current.rotation.y+=.001))}),new Pd({color:"#000000",roughness:.1,metalness:.5,envMapIntensity:10}),e?Ke("group",{ref:s,...t,dispose:null,scale:[c,c,c],position:[l==null?void 0:l.x,l==null?void 0:l.y,l==null?void 0:l.z],rotation:[a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.z],children:Ke("group",{rotation:[-Math.PI/2,0,0],children:Kr("group",{rotation:[Math.PI/2,0,0],children:[Ke("mesh",{geometry:r.defaultMaterial.geometry,material:i.apple_a1708_macbook_pro_13_mpxq2ua_space_gray_decol_mat}),Ke("mesh",{geometry:r.defaultMaterial_1.geometry,material:i.apple_a1708_macbook_pro_13_mpxq2ua_space_gray_decol_mat}),Ke("mesh",{geometry:r.defaultMaterial_2.geometry,material:i.apple_a1708_macbook_pro_13_mpxq2ua_space_gray_main_mat}),Ke("mesh",{geometry:r.defaultMaterial_3.geometry,material:i.apple_a1708_macbook_pro_13_mpxq2ua_space_gray_decol_mat}),Ke("mesh",{geometry:r.defaultMaterial_4.geometry,material:i.apple_a1708_macbook_pro_13_mpxq2ua_space_gray_main_mat})]})})}):null}qf.preload("/portfolio/models/NewMacbook.glb");const AOe=[{title:"React",level:100},{title:"Nodejs",level:100},{title:"HTML & CSS",level:100},{title:"Rest APIs",level:100},{title:"TypeScript",level:70},{title:"Docker",level:40},{title:"Kubernetes",level:30},{title:"React Native",level:30},{title:"Java",level:20}],vOe=()=>Kr(TE.div,{whileInView:"visible",children:[Ke("h2",{className:"text-5xl font-bold text-white",children:"Skills"}),Ke("div",{className:"mt-8 space-y-4",children:AOe.map((t,e)=>Kr("div",{className:"w-64",children:[Ke(TE.h3,{className:"text-xl font-bold text-white",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:1+e*.2}}},children:t.title}),Ke("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:Ke(TE.div,{className:"h-full rounded-full ",style:{width:`${t.level}%`,background:"#11151c"},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:1+e*.2}}}})})]},e))})]}),yOe=({domContent:t,position:e,bgColor:n,scrollToPos:r})=>{const i=D.useRef(),{viewport:s}=La(),[o,a]=mm({initialInView:!1,threshold:0}),[l,c]=mm({rootMargin:"1000px 0px 0px 0px",initialInView:!1,threshold:0});console.log("inView:",[JSON.stringify(a),JSON.stringify(c)],JSON.stringify(a)===JSON.stringify(c)),D.useEffect(()=>{a&&(document.body.style.background=n)},[a]),D.useEffect(()=>{const f=(s==null?void 0:s.factor)*(s==null?void 0:s.height)*1;a&&(console.log("POS:",f),r(f))},[a,r,s==null?void 0:s.factor,s==null?void 0:s.height]);const u=30;return Ke(Ex,{factor:1.5,offset:1,children:Kr("group",{position:[0,e,0],scale:[u,u,u],children:[Ke("mesh",{ref:i,position:[0,0,0],children:Ke(gOe,{inView:a,inView2:c})}),Ke(q2,{fullscreen:!0,portal:t,children:Ke("div",{className:"container",ref:f=>{o(f),l(f)},style:{margin:0,justifyContent:"unset"},children:Ke(vOe,{})})})]})})},xOe=()=>Ke("h1",{className:"title",children:Ke("span",{children:"Past Experience"})}),_Oe=({domContent:t,position:e,bgColor:n,scrollToPos:r})=>{const i=D.useRef(),{viewport:s}=La(),[o,a]=mm({threshold:0});D.useEffect(()=>{a&&(document.body.style.background=n)},[a]),D.useEffect(()=>{const c=(s==null?void 0:s.factor)*(s==null?void 0:s.height)*2;a&&r(c)},[a,r,s==null?void 0:s.factor,s==null?void 0:s.height]);const l=30;return Ke(Ex,{factor:1.5,offset:1,children:Kr("group",{position:[0,e,0],scale:[l,l,l],children:[Ke("mesh",{ref:i,position:[0,0,0]}),Ke(q2,{fullscreen:!0,portal:t,children:Ke("div",{ref:o,className:"container",style:{margin:0,justifyContent:"unset"},children:Ke(xOe,{})})})]})})},EOe=t=>{const{onSectionChange:e,domContent:n}=t,{menuOpened:r,setMenuOpened:i}=D.useContext($M),s=D.useRef(),o=d2(0);return D.useEffect(()=>{Jw(o,r?50:0,{type:"easeInOut"})},[r]),Fd(()=>{}),Ke("group",{ref:s,position:[0,0,0],children:Kr(q2,{fullscreen:!0,portal:n,children:[Kr("button",{onClick:()=>{i(a=>!a)},className:"z-20 fixed top-12 right-12 p-3 bg-indigo-600 w-11 h-11 rounded-md absolute",children:[Ke("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${r?"rotate-45  translate-y-0.5":""}`}),Ke("div",{className:`bg-white h-0.5 rounded-md w-full my-1 ${r?"hidden":""}`}),Ke("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${r?"-rotate-45":""}`})]}),Ke("div",{className:`z-10 absolute top-0 right-0 bottom-0 bg-white transition-all overflow-hidden flex flex-col
      ${r?"w-80":"w-0"}`,style:{height:"100vh",top:"0"},children:Kr("div",{className:"flex-1 flex items-start justify-center flex-col gap-6 p-8",children:[Ke(A5,{label:"About",onClick:()=>e(0)}),Ke(A5,{label:"Skills",onClick:()=>e(1)}),Ke(A5,{label:"Projects",onClick:()=>e(2)}),Ke(A5,{label:"Contact",onClick:()=>e(3)})]})})]})})},A5=t=>{const{label:e,onClick:n}=t;return Ke("button",{onClick:n,className:"text-2xl font-bold cursor-pointer hover:text-indigo-600 transition-colors",children:e})},COe=()=>Ke("h1",{className:"title",children:Ke("span",{children:"Past Experience"})}),SOe=({domContent:t,position:e,bgColor:n,scrollToPos:r})=>{const i=D.useRef(),{viewport:s}=La(),[o,a]=mm({threshold:0});D.useEffect(()=>{a&&(document.body.style.background=n)},[a]),D.useEffect(()=>{const c=(s==null?void 0:s.factor)*(s==null?void 0:s.height)*3;a&&r(c)},[a,r,s==null?void 0:s.factor,s==null?void 0:s.height]);const l=30;return Ke(Ex,{factor:1.5,offset:1,children:Kr("group",{position:[0,e,0],scale:[l,l,l],children:[Ke("mesh",{ref:i,position:[0,0,0]}),Ke(q2,{fullscreen:!0,portal:t,children:Ke("div",{ref:o,className:"container",style:{margin:0,justifyContent:"unset"},children:Ke(COe,{})})})]})})},wOe=()=>{const{size:t}=La();return D.useMemo(()=>(console.log("size:",t==null?void 0:t.width),(t==null?void 0:t.width)<=400),[t==null?void 0:t.width])},bOe=t=>{const{menuOpened:e,domContent:n,scrollToPos:r}=t,i=wOe(),s=d2(0),o=d2();console.log("mobile:",i),D.useEffect(()=>{Jw(s,e?50:0,{type:"easeInOut"}),Jw(o,e?50:0,{type:"easeInOut"})},[e]),Fd(l=>{});const a=D.useMemo(()=>({About:"#11151c",Skills:"#571ec1",PastExperience:"#636567",Contact:"#571EC1"}),[]);return Ke($4,{children:Kr(D.Suspense,{fallback:null,children:[Ke(uOe,{bgColor:a.About,position:250,domContent:n,scrollToPos:r,menuOpened:e,mobile:i}),Ke(yOe,{bgColor:a.Skills,position:0,domContent:n,scrollToPos:r}),Ke(_Oe,{bgColor:a.PastExperience,position:-250,domContent:n,scrollToPos:r}),Ke(SOe,{bgColor:a.Contact,position:-500,domContent:n,scrollToPos:r})]})})},IOe=()=>Ke($4,{children:Ke("ambientLight",{intensity:1})});function TOe(){const{active:t,progress:e}=Hfe();return Rq(t,{from:{opacity:1,progress:0},leave:{opacity:0,progress:100},update:{progress:e}})(({progress:r,opacity:i},s)=>s&&Ke(ab.div,{className:"loading",style:{opacity:i},children:Ke("div",{className:"loading-bar-container",children:Ke(ab.div,{className:"loading-bar",style:{width:r}})})}))}function MOe(){const[t,e]=D.useState(),n=D.useRef(),r=D.useRef(),i=D.useRef(),s=D.useRef(!1),{menuOpened:o,setMenuOpened:a}=D.useContext($M);D.useRef(!1),D.useRef(0),D.useRef(0),D.useRef(null),D.useRef([0,940,1880,2820]);const l=h=>B0.top.current=h.target.scrollTop;D.useEffect(()=>void l({target:i.current}),[]);const{position:c}=hx("Camera",{position:{x:0,y:0,z:120},Add:vY(h=>{console.clear();const d=h("Camera.position");console.log({position:d})})}),u=D.useCallback(h=>{zK.to(i==null?void 0:i.current,{delay:0,duration:1,ease:"power3.inOut",scrollTop:h,immediateRender:!0,onStart:()=>{s.current=!0},onComplete:()=>{B0.top.current=h,s.current=!1}})},[]),f=D.useMemo(()=>{var h;return((h=location==null?void 0:location.hostname)==null?void 0:h.indexOf("localhost"))===-1},[]);return Kr($4,{children:[Ke(EY,{hidden:f}),Kr(Dfe,{ref:n,concurrent:!0,colorManagement:!0,camera:{position:[c==null?void 0:c.x,c==null?void 0:c.y,c==null?void 0:c.z],fov:70},eventSource:r,children:[Ke(EOe,{domContent:r,setMenuOpened:a,menuOpened:o}),Ke(Dbe,{}),Ke(IOe,{}),Ke(bOe,{domContent:r,menuOpened:o,scrollToPos:u})]}),Ke(TOe,{}),Kr("div",{className:"scrollArea",ref:i,onScroll:l,...t,children:[Ke("div",{style:{position:"sticky",top:0},ref:r}),Ke("div",{style:{height:`${B0.pages*100}vh`}})]})]})}const BOe=()=>Ke(aRe,{children:Ke(MOe,{})});zE.createRoot(document.getElementById("root")).render(Ke(se.StrictMode,{children:Ke(BOe,{})}))});export default ROe();
